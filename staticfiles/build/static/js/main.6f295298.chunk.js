(this["webpackJsonpproject-5"]=this["webpackJsonpproject-5"]||[]).push([[0],{102:function(e,t,n){e.exports={SearchBar:"AllBlurbs_SearchBar__czQ1B"}},109:function(e,t,n){},13:function(e,t,n){e.exports={App:"App_App__1TtKj",Main:"App_Main__1R5z0",Navlink:"App_Navlink__KSgFY",active:"App_active__jkTxl",Border:"App_Border__22OpI",CenterText:"App_CenterText__u_3L5",ColImage:"App_ColImage__1Llmz",ColText:"App_ColText__14zV5",ContainerContent:"App_ContainerContent__bRAcL"}},140:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(34),s=n.n(r),o=(n(109),n(13)),i=n.n(o),l=n(7),u=n(12),j=n(65),b=n(17),d=n(104),p=n.p+"static/media/logo5.6f4731ad.jpg",O=n(35),x=n.n(O),f=n(19),v=n(11),m=n(23),h=n.n(m);h.a.defaults.baseURL="/api",h.a.defaults.headers.post["Content-Type"]="multipart/form-data",h.a.defaults.withCredentials=!0;var A=h.a.create(),g=(h.a.create(),h.a.create()),w=n(14),C=n(42),F=n(4),N=n(96),B=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t,n){var a,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("resource=blurb",t),e.next=4,A.get(t.next);case 4:a=e.sent,c=a.data,console.log("resourceNext",t.next),n((function(e){return Object(F.a)(Object(F.a)({},e),{},{next:c.next,results:c.results.reduce((function(t,n){return console.log("prevresource",e),console.log("data",c),console.log("acc.curr",t,n),t.some((function(e){return e.id===n.id}))?t:[].concat(Object(C.a)(t),[n])}),e.results)})})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(e,t,n){return e.id===t.id?Object(F.a)(Object(F.a)({},e),{},{followers_count:e.followers_count+1,following_id:n}):e.is_owner?Object(F.a)(Object(F.a)({},e),{},{following_count:e.following_count+1}):e},U=function(e,t){return e.id===t.id?Object(F.a)(Object(F.a)({},e),{},{followers_count:e.followers_count-1,following_id:null}):e.is_owner?Object(F.a)(Object(F.a)({},e),{},{following_count:e.following_count-1}):e},R=function(e){var t=Object(N.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("setTokenTimestamp",t)},_=function(){localStorage.removeItem("setTokenTimestamp")},P=n(1),K=Object(a.createContext)(),y=Object(a.createContext)(),D=function(){return Object(a.useContext)(K)},L=function(){return Object(a.useContext)(y)},S=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(v.a)(n,2),r=c[0],s=c[1],o=Object(w.useHistory)(),i=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("dj-rest-auth/user/");case 3:t=e.sent,n=t.data,s(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(a.useMemo)((function(){A.interceptors.request.use(function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("setTokenTimestamp")){e.next=11;break}return e.prev=1,e.next=4,h.a.post("/dj-rest-auth/token/refresh/");case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),s((function(e){return e&&o.push("/signin"),null})),_(),e.abrupt("return",t);case 11:return console.log("axiosReq"),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),g.interceptors.response.use((function(e){return e}),function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==(null===(n=t.response)||void 0===n?void 0:n.status)){e.next=11;break}return e.prev=1,e.next=4,h.a.post("/dj-rest-auth/token/refresh/");case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s((function(e){return e&&o.push("/signin"),null})),_();case 10:return e.abrupt("return",h()(t.config));case 11:return console.log("axiosRes"),e.abrupt("return",Promise.reject(t));case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}())}),[o]),Object(P.jsx)(K.Provider,{value:r,children:Object(P.jsx)(y.Provider,{value:s,children:t})})},E=n(99),H=n.n(E),T=function(e){var t=e.src,n=e.height,a=void 0===n?40:n,c=e.text;return Object(P.jsxs)("span",{children:[Object(P.jsx)("img",{className:H.a.Avatar,src:t,height:a,width:a,alt:"Avatar in square shape"}),c]})},I=function(){var e=Object(a.useState)(!1),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=function(e){r.current&&!r.current.contains(e.target)&&c(!1)};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[r]),{collapseExpand:n,setCollapseExpand:c,burgerRef:r}},Q=function(){var e=I(),t=e.collapseExpand,n=e.setCollapseExpand,a=e.burgerRef,c=D(),r=L(),s=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("dj-rest-auth/logout/");case 3:r(null),_(),console.log("logged out /logout/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0,"errlogout");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),o=Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(f.c,{className:x.a.NavLink,to:"/newsfeed",children:[Object(P.jsx)("i",{className:"fa-regular fa-newspaper"}),"Followed Feed"]}),Object(P.jsxs)(f.c,{className:function(e){var t=e.isActive,n=[i.a.i];return t&&n.push(i.a.active),n.join(" ")},to:"/upVoted",children:[Object(P.jsx)("i",{className:"fa-solid fa-thumbs-up"}),"My Votes!"]}),Object(P.jsxs)(f.c,{className:function(e){var t=e.isActive,n=[i.a.i];return t&&n.push(i.a.active),n.join(" ")},to:"/contacts",children:[Object(P.jsx)("i",{className:"fa-regular fa-message"}),"Contact Us"]}),Object(P.jsxs)(f.c,{to:"/",className:function(e){var t=e.isActive,n=[x.a.NavLink];return t&&n.push(x.a.active),n.join(" ")},onClick:s,children:[Object(P.jsx)("i",{className:"fa-regular fa-face-smile-wink"}),"Log Out"]}),Object(P.jsx)(f.c,{to:"/profiles/".concat(null===c||void 0===c?void 0:c.profile_id),className:x.a.NavLink,children:Object(P.jsx)(T,{src:null===c||void 0===c?void 0:c.profile_image,text:"Profile",height:35})})]}),O=Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(f.c,{className:function(e){var t=e.isActive,n=[x.a.NavLink];return t&&n.push(x.a.active),n.join(" ")},to:"/login",children:[Object(P.jsx)("i",{className:"fa-regular fa-face-smile"}),"Log in"]}),Object(P.jsxs)(f.c,{to:"/signup",className:x.a.NavLink,children:[Object(P.jsx)("i",{className:"fa-regular fa-face-smile-wink"}),"Sign up"]})]}),v=Object(P.jsxs)(f.c,{exact:!0,className:x.a.NavLink,to:"/blurbs/create",children:[Object(P.jsx)("i",{className:"fa-solid fa-circle-plus"}),"New Blurb"]});return Object(P.jsx)(j.a,{expanded:t,className:x.a.NavBar,expand:"md",fixed:"top",children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(f.c,{to:"/",children:Object(P.jsx)(j.a.Brand,{children:Object(P.jsx)("img",{src:p,alt:"logo",height:"45"})})}),c&&v,Object(P.jsx)(j.a.Toggle,{ref:a,onClick:function(){return n(!t)},"aria-controls":"basic-navbar-nav"}),Object(P.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(P.jsxs)(d.a,{className:"ml-auto text-left",children:[Object(P.jsxs)(f.c,{exact:!0,className:x.a.NavLink,to:"/",children:[Object(P.jsx)("i",{className:"fa-regular fa-face-laugh-beam"}),"Home"]}),c?o:O]})})]})})},X=n(25),J=n(16),V=n.n(J),G=n(37),M=n.n(G),W=n(21),q=n(15),Y=n(41),Z=n(10),z=n(22),$=n(20),ee=function(e){var t=Object(w.useHistory)();Object(a.useEffect)((function(){var n=function(){var n=Object(u.a)(Object(l.a)().mark((function n(){return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h.a.post("/dj-rest-auth/token/refresh/");case 3:"loggedIn"===e&&t.push("/"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),"loggedOut"===e&&t.push("/");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();n()}),[t,e])},te=function(){var e,t,n,c;ee("loggedIn");var r=Object(a.useState)({username:"",password1:"",password2:""}),s=Object(v.a)(r,2),o=s[0],j=s[1],d=o.username,p=o.password1,O=o.password2,x=Object(a.useState)({}),m=Object(v.a)(x,2),A=m[0],g=m[1],C=Object(w.useHistory)(),N=function(e){j(Object(F.a)(Object(F.a)({},o),{},Object(X.a)({},e.target.name,e.target.value)))},B=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d.trim()){e.next=4;break}return g(Object(F.a)(Object(F.a)({},A),{},{username:["Username cannot be empty"]})),e.abrupt("return");case 4:if(p.trim()){e.next=7;break}return g(Object(F.a)(Object(F.a)({},A),{},{password1:["password field empty"]})),e.abrupt("return");case 7:if(O.trim()){e.next=10;break}return g(Object(F.a)(Object(F.a)({},A),{},{password2:["confirm password field empty"]})),e.abrupt("return");case 10:return e.prev=10,e.next=13,h.a.post("/dj-rest-auth/registration/",o);case 13:C.push("/login"),console.log("new user created in API 2 /registration/"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),console.log("new user created in API 2 /registration/ setErrors"),g(null===(n=e.t0.response)||void 0===n?void 0:n.data);case 21:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(W.a,{children:[Object(P.jsxs)(W.a,{children:[Object(P.jsx)(q.a,{md:2}),Object(P.jsx)(q.a,{md:8,className:i.a.ColImage,children:Object(P.jsx)(Y.a,{className:"".concat(i.a.FillerImage," ").concat(i.a.CenterText),src:"https://res.cloudinary.com/dtsaa4qbs/image/upload/v1700138414/avatar_beedw9.jpg"})}),Object(P.jsx)(q.a,{md:2})]}),Object(P.jsx)(W.a,{children:Object(P.jsx)(q.a,{className:i.a.ColText,children:Object(P.jsxs)(b.a,{className:"".concat(i.a.Border," ").concat(i.a.CenterText),children:[Object(P.jsx)("h1",{children:"Sign Up Here!"}),Object(P.jsxs)(Z.a,{onSubmit:B,children:[Object(P.jsxs)(Z.a.Group,{controlId:"username",children:[Object(P.jsx)(Z.a.Label,{className:"d-none",children:"Username"}),Object(P.jsx)(Z.a.Control,{type:"text",className:M.a.Input,placeholder:"Username",name:"username",value:d,onChange:N})]}),null===(e=A.username)||void 0===e?void 0:e.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsxs)(Z.a.Group,{controlId:"password1",children:[Object(P.jsx)(Z.a.Label,{className:"d-none",children:"Password"}),Object(P.jsx)(Z.a.Control,{className:M.a.Input,type:"password",placeholder:"Password",name:"password1",value:p,onChange:N})]}),null===(t=A.password1)||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsxs)(Z.a.Group,{controlId:"password2",children:[Object(P.jsx)(Z.a.Label,{className:"d-none",children:"Confirm password"}),Object(P.jsx)(Z.a.Control,{className:M.a.Input,type:"password",placeholder:"Confirm password",name:"password2",value:O,onChange:N})]}),null===(n=A.password2)||void 0===n?void 0:n.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsx)($.a,{className:V.a.Button,type:"submit",children:"Sign in"}),null===(c=A.non_field_errors)||void 0===c?void 0:c.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",className:"mt-3",children:e},t)}))]})]})})}),Object(P.jsx)(W.a,{children:Object(P.jsx)(q.a,{className:i.a.ColText,children:Object(P.jsxs)(b.a,{className:"".concat(i.a.Border," ").concat(i.a.CenterText),children:["Already Signed up..",Object(P.jsx)(f.b,{className:M.a.Link,to:"/login",children:Object(P.jsx)("span",{children:"Log in"})})]})})})]})};var ne=function(){var e,t,n;ee("loggedIn");var c=Object(a.useState)({}),r=Object(v.a)(c,2),s=r[0],o=r[1],j=L(),d=Object(a.useState)({username:"",password:""}),p=Object(v.a)(d,2),O=p[0],x=p[1],m=O.username,A=O.password,g=Object(w.useHistory)(),C=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.a.post("/dj-rest-auth/login/",O);case 4:n=e.sent,a=n.data,j(a.user),console.log("login /login/"),R(a),g.push("/"),g.goBack(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0,"errsetErrorslogin"),o(null===(c=e.t0.response)||void 0===c?void 0:c.data);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){x(Object(F.a)(Object(F.a)({},O),{},Object(X.a)({},e.target.name,e.target.value)))};return Object(P.jsxs)(W.a,{children:[Object(P.jsx)(W.a,{children:Object(P.jsx)(q.a,{className:i.a.ColText,children:Object(P.jsxs)(b.a,{className:"".concat(i.a.Border," ").concat(i.a.CenterText),children:[Object(P.jsx)("h1",{className:M.a.Header,children:"sign in"}),Object(P.jsxs)(Z.a,{onSubmit:C,children:[Object(P.jsxs)(Z.a.Group,{controlId:"username",children:[Object(P.jsx)(Z.a.Label,{className:"d-none",children:"Username"}),Object(P.jsx)(Z.a.Control,{type:"text",placeholder:"Username",name:"username",className:M.a.Input,value:m,onChange:N})]}),null===(e=s.username)||void 0===e?void 0:e.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsxs)(Z.a.Group,{controlId:"password",children:[Object(P.jsx)(Z.a.Label,{className:"d-none",children:"Password"}),Object(P.jsx)(Z.a.Control,{type:"password",placeholder:"Password",name:"password",className:M.a.Input,value:A,onChange:N})]}),null===(t=s.password)||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsx)($.a,{className:V.a.Button,type:"submit",children:"Sign in"}),null===(n=s.non_field_errors)||void 0===n?void 0:n.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",className:"mt-3",children:e},t)}))]})]})})}),Object(P.jsx)(W.a,{children:Object(P.jsx)(q.a,{className:i.a.ColText,children:Object(P.jsx)(b.a,{className:"".concat(i.a.Border," ").concat(i.a.CenterText),children:Object(P.jsxs)(f.b,{className:M.a.Link,to:"/signup",children:["Don't have an account? ",Object(P.jsx)("span",{children:"Sign up now!"})]})})})}),Object(P.jsxs)(W.a,{children:[Object(P.jsx)(q.a,{}),Object(P.jsx)(q.a,{className:i.a.ColImage,children:Object(P.jsx)(Y.a,{className:"".concat(i.a.FillerImage," ").concat(i.a.CenterText),src:"https://res.cloudinary.com/dtsaa4qbs/image/upload/v1688082376/smile.png"})}),Object(P.jsx)(q.a,{})]})]})},ae=n(101),ce=n(62),re=n.n(ce),se=function(e){var t=e.spinner,n=e.src,a=e.message,c=e.imageSize,r=void 0===c?200:c;return Object(P.jsxs)("div",{className:"".concat(re.a.Display," p-4"),children:[t&&Object(P.jsx)(ae.a,{animation:"border",variant:"success"}),n&&Object(P.jsx)("img",{alt:a,src:n,height:r}),a&&Object(P.jsx)("p",{className:"mt-4",children:a})]})},oe=n(49),ie=n.n(oe);var le=function(){var e,t,n;ee("loggedOut");var c=Object(a.useState)({}),r=Object(v.a)(c,2),s=r[0],o=r[1],j=Object(a.useState)({title:"",content:"",image:null}),d=Object(v.a)(j,2),p=d[0],O=d[1],x=p.title,f=p.content,m=p.image,h=Object(a.useRef)(null),g=Object(w.useHistory)(),C=function(e){O(Object(F.a)(Object(F.a)({},p),{},Object(X.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,c,r,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("title",x),n.append("content",f),n.append("image",h.current.files[0]),e.prev=5,e.next=8,A.post("/blurbs/",n);case 8:a=e.sent,c=a.data,g.push("/blurbs/".concat(c.id)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0),401!==(null===(r=e.t0.response)||void 0===r?void 0:r.status)&&o(null===(s=e.t0.response)||void 0===s?void 0:s.data);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),B=Object(P.jsxs)("div",{className:"text-center",children:[Object(P.jsxs)(Z.a.Group,{children:[Object(P.jsx)(Z.a.Label,{children:"Title"}),Object(P.jsx)(Z.a.Control,{type:"text",name:"title",value:x,onChange:C})]}),null===s||void 0===s||null===(e=s.title)||void 0===e?void 0:e.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsxs)(Z.a.Group,{children:[Object(P.jsx)(Z.a.Label,{children:"Content"}),Object(P.jsx)(Z.a.Control,{as:"textarea",rows:8,name:"content",value:f,onChange:C})]}),null===s||void 0===s||null===(t=s.content)||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsx)($.a,{className:V.a.Button,onClick:function(){return g.goBack()},children:"Cancel"}),Object(P.jsx)($.a,{className:V.a.Button,type:"submit",children:"Save new article."})]});return Object(P.jsx)(Z.a,{onSubmit:N,children:Object(P.jsxs)(W.a,{children:[Object(P.jsx)(q.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:Object(P.jsxs)(b.a,{className:ie.a.Container,children:[Object(P.jsxs)(Z.a.Group,{className:"text-center",children:[m?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("figure",{children:Object(P.jsx)(Y.a,{className:i.a.Image,src:m,rounded:!0})}),Object(P.jsx)("div",{children:Object(P.jsx)(Z.a.Label,{className:V.a.Button,htmlFor:"image-upload",children:"Change the image"})})]}):Object(P.jsx)(Z.a.Label,{htmlFor:"image-upload",children:Object(P.jsx)(se,{src:"data:image/jpeg;base64,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",message:"Click Image to Upload a new one.",className:"".concat(ie.a.Display," ").concat(i.a.ContainerContent)})}),Object(P.jsx)(Z.a.File,{type:"file",id:"image-upload",accept:"image/*",onChange:function(e){e.target.files.length&&(URL.revokeObjectURL(m),O(Object(F.a)(Object(F.a)({},p),{},{image:URL.createObjectURL(e.target.files[0])})))},ref:h})]}),null===s||void 0===s||null===(n=s.image)||void 0===n?void 0:n.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsx)("div",{className:"d-md-none",children:B})]})}),Object(P.jsx)(q.a,{md:5,lg:4,className:"d-none d-md-block p-0 p-md-2",children:Object(P.jsx)(b.a,{children:B})})]})})},ue=n(85),je=n.n(ue),be=n(148),de=n(145),pe=n(147),Oe=n(146),xe=n(31),fe=n(32),ve=c.a.forwardRef((function(e,t){var n=e.onClick;return Object(P.jsx)("i",{className:"fa-solid fa-user-pen",ref:t,onClick:function(e){e.preventDefault(),n(e)}})})),me=function(e){var t=e.handleEditing,n=e.handleDeleting;return Object(P.jsxs)(fe.a,{children:[Object(P.jsx)(fe.a.Toggle,{as:ve}),Object(P.jsxs)(fe.a.Menu,{className:"text-center",popperConfig:{strategy:"fixed"},children:[Object(P.jsx)(fe.a.Item,{onClick:t,children:"EDIT"}),Object(P.jsx)(fe.a.Item,{onClick:n,children:"DELETE"})]})]})};function he(e){var t=e.id,n=Object(w.useHistory)();return Object(P.jsxs)(fe.a,{drop:"left",children:[Object(P.jsx)(fe.a.Toggle,{as:ve}),Object(P.jsxs)(fe.a.Menu,{className:"text-center",popperConfig:{strategy:"fixed"},children:[Object(P.jsxs)(fe.a.Item,{onClick:function(){return n.push("/profiles/".concat(t,"/edit"))},"aria-label":"edit-profile",children:[Object(P.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),Object(P.jsxs)(fe.a.Item,{onClick:function(){return n.push("/profiles/".concat(t,"/edit/username"))},"aria-label":"edit-username",children:[Object(P.jsx)("i",{className:"far fa-id-card"}),"Edit username"]}),Object(P.jsxs)(fe.a.Item,{onClick:function(){return n.push("/profiles/".concat(t,"/edit/password"))},"aria-label":"edit-password",children:[Object(P.jsx)("i",{className:"fas fa-key"}),"Edit password"]})]})]})}var Ae=function(e){var t=e.id,n=e.owner,a=e.updated_at,c=e.title,r=e.content,s=e.image,o=e.profile_id,i=e.profile_image,j=e.votes_id,b=e.votes_count,d=e.comments_count,p=e.blurbPage,O=e.setBlurb,x=Object(xe.useHistory)(),f=D(),v=(null===f||void 0===f?void 0:f.username)===n,m=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/votes/",{blurb:t});case 3:n=e.sent,a=n.data,O((function(e){return Object(F.a)(Object(F.a)({},e),{},{results:e.results.map((function(e){return e.id===t?Object(F.a)(Object(F.a)({},e),{},{votes_count:e.votes_count+1,votes_id:a.id}):e}))})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0,"errhandlevote");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/votes/".concat(j));case 3:O((function(e){return Object(F.a)(Object(F.a)({},e),{},{results:e.results.map((function(e){return e.id===t?Object(F.a)(Object(F.a)({},e),{},{votes_count:e.votes_count-1,votes_id:null}):e}))})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0,"errhandlevote");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/blurbs/".concat(t,"/"));case 3:x.goBack(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(be.a,{className:je.a.ContainerContent,children:[Object(P.jsx)(be.a.Body,{children:Object(P.jsxs)(de.a,{className:"align-items-center justify-content-between",children:[Object(P.jsxs)(xe.Link,{to:"/profiles/".concat(o),children:[Object(P.jsx)(T,{src:i,height:50}),n]}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("span",{children:["Updated:",a]}),v&&p&&Object(P.jsx)(me,{handleEditing:function(){x.push("/blurbs/".concat(t,"/edit"))},handleDeleting:A})]})]})}),Object(P.jsx)(xe.Link,{to:"/blurbs/".concat(t),children:Object(P.jsx)(be.a.Img,{src:s,alt:c})}),Object(P.jsxs)(be.a.Body,{children:[c&&Object(P.jsx)(be.a.Title,{className:"text-center",children:c}),r&&Object(P.jsx)(be.a.Title,{className:"text-center",children:r}),Object(P.jsxs)("div",{children:[v?Object(P.jsx)(pe.a,{placement:"top",overlay:Object(P.jsx)(Oe.a,{children:"No voting for your own stuff!"}),children:Object(P.jsx)("i",{className:"fa-solid fa-thumbs-up"})}):j?Object(P.jsx)(pe.a,{placement:"top",overlay:Object(P.jsx)(Oe.a,{children:"Remove your vote!"}),children:Object(P.jsx)("span",{onClick:h,children:Object(P.jsx)("i",{className:"fa-solid fa-thumbs-up ".concat(je.a.ThumbsUpVote)})})}):f?Object(P.jsx)(pe.a,{placement:"top",overlay:Object(P.jsx)(Oe.a,{children:"Up Vote!"}),children:Object(P.jsx)("span",{onClick:m,children:Object(P.jsx)("i",{className:"fa-solid fa-thumbs-up"})})}):Object(P.jsx)(pe.a,{placement:"top",overlay:Object(P.jsx)(Oe.a,{children:"Log in!"}),children:Object(P.jsx)("i",{className:"fa-solid fa-thumbs-up"})}),b,Object(P.jsx)(xe.Link,{to:"/blurbs/".concat(t),children:Object(P.jsx)("i",{className:"fa fa-commenting-o"})}),d]})]})]})},ge=n(74);var we=function(e){var t=e.blurb,n=e.setBlurb,c=e.setComments,r=e.profileImage,s=e.profile_id,o=Object(a.useState)(""),i=Object(v.a)(o,2),j=i[0],b=i[1],d=function(){var e=Object(u.a)(Object(l.a)().mark((function e(a){var r,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,g.post("/comments/",{content:j,blurb:t});case 4:r=e.sent,s=r.data,c((function(e){return Object(F.a)(Object(F.a)({},e),{},{results:[s].concat(Object(C.a)(e.results))})})),n((function(e){return{results:[Object(F.a)(Object(F.a)({},e.results[0]),{},{comments_count:e.results[0].comments_count+1})]}})),b(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(Z.a,{className:"mt-2",onSubmit:d,children:[Object(P.jsx)(Z.a.Group,{children:Object(P.jsxs)(ge.a,{children:[Object(P.jsx)(f.b,{to:"/profiles/".concat(s),children:Object(P.jsx)(T,{src:r})}),Object(P.jsx)(Z.a.Control,{placeholder:"my comment...",as:"textarea",value:j,onChange:function(e){b(e.target.value)},rows:2})]})}),Object(P.jsx)("button",{className:V.a.Button,disabled:!j.trim(),type:"submit",children:"Post"})]})},Ce=n(79),Fe=n.n(Ce);var Ne=function(e){var t=e.blurb,n=e.setBlurb,c=e.setComments,r=e.profileImage,s=e.profile_id,o=Object(a.useState)(""),i=Object(v.a)(o,2),j=i[0],b=i[1],d=function(){var e=Object(u.a)(Object(l.a)().mark((function e(a){var r,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,g.post("/comments/",{content:j,blurb:t});case 4:r=e.sent,s=r.data,c((function(e){return Object(F.a)(Object(F.a)({},e),{},{results:[s].concat(Object(C.a)(e.results))})})),n((function(e){return{results:[Object(F.a)(Object(F.a)({},e.results[0]),{},{comments_count:e.results[0].comments_count+1})]}})),b(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(Z.a,{className:"mt-2",onSubmit:d,children:[Object(P.jsx)(Z.a.Group,{children:Object(P.jsxs)(ge.a,{children:[Object(P.jsx)(f.b,{to:"/profiles/".concat(s),children:Object(P.jsx)(T,{src:r})}),Object(P.jsx)(Z.a.Control,{placeholder:"my comment...",as:"textarea",value:j,onChange:function(e){b(e.target.value)},rows:2})]})}),Object(P.jsx)("button",{className:V.a.Button,disabled:!j.trim(),type:"submit",children:"Post"})]})},Be=function(e){var t=e.profile_image,n=e.profile_id,c=e.owner,r=e.content,s=e.updated_at,o=e.setComments,i=e.setBlurb,j=e.id,b=Object(a.useState)(!1),d=Object(v.a)(b,2),p=d[0],O=d[1],x=D(),f=(null===x||void 0===x?void 0:x.username)===c,m=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/comments/".concat(j,"/"));case 3:i((function(e){return{results:[Object(F.a)(Object(F.a)({},e.results[0]),{},{comments_count:e.results[0].comments_count-1})]}})),o((function(e){return Object(F.a)(Object(F.a)({},e),{},{results:e.results.filter((function(e){return e.id!==j}))})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("hr",{}),Object(P.jsxs)(de.a,{children:[Object(P.jsx)(xe.Link,{to:"/profiles/".concat(n),children:Object(P.jsx)(T,{src:t})}),Object(P.jsxs)(de.a.Body,{children:[Object(P.jsx)("span",{className:Fe.a.OwnerName,children:c}),Object(P.jsx)("span",{className:Fe.a.UpdatedDate,children:s}),p?Object(P.jsx)(Ne,{id:j,profile_id:n,content:r,profileImage:t,setComments:o,setShowEditForm:O}):Object(P.jsx)("p",{className:Fe.a.CommentText,children:r})]}),f&&!p&&Object(P.jsx)(me,{handleEditing:function(){return O(!0)},handleDeleting:m})]})]})},ke=n(55),Ue=n(57),Re=n.n(Ue),_e=Object(a.createContext)(),Pe=Object(a.createContext)(),Ke=function(){return Object(a.useContext)(_e)},ye=function(){return Object(a.useContext)(Pe)},De=function(e){var t=e.children,n=Object(a.useState)({pageProfile:{results:[]},popularFollowers:{results:[]}}),c=Object(v.a)(n,2),r=c[0],s=c[1],o=D(),i=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/followers/".concat(t.following_id));case 3:s((function(e){return Object(F.a)(Object(F.a)({},e),{},{pageProfile:{results:e.pageProfile.results.map((function(e){return U(e,t)}))},popularFollowers:Object(F.a)(Object(F.a)({},e.popularFollowers),{},{results:e.popularFollowers.results.map((function(e){return U(e,t)}))})})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/followers/",{followed:t.id});case 3:n=e.sent,a=n.data,s((function(e){return Object(F.a)(Object(F.a)({},e),{},{pageProfile:{results:e.pageProfile.results.map((function(e){return k(e,t,a.id)}))},popularFollowers:Object(F.a)(Object(F.a)({},e.popularFollowers),{},{results:e.popularFollowers.results.map((function(e){return k(e,t,a.id)}))})})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("/profiles/?ordering=-followers_count");case 3:t=e.sent,n=t.data,s((function(e){return Object(F.a)(Object(F.a)({},e),{},{popularFollowers:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(P.jsx)(_e.Provider,{value:r,children:Object(P.jsx)(Pe.Provider,{value:{setProfileData:s,handleUnFollow:i,handleFollow:j},children:t})})},Le=function(e){var t=e.profile,n=e.imageSize,a=void 0===n?35:n,c=t.id,r=t.following_id,s=t.image,o=t.owner,i=D(),l=(null===i||void 0===i?void 0:i.username)===o,u=ye(),j=u.handleUnFollow,b=u.handleFollow;return Object(P.jsxs)("div",{className:"d-flex align-items-center my-2",children:[Object(P.jsx)("div",{children:Object(P.jsx)(xe.Link,{to:"/profiles/".concat(c),children:Object(P.jsx)(T,{src:s,height:a})})}),Object(P.jsx)("div",{className:"mx-2",children:o}),Object(P.jsx)("div",{className:"text-wrap",children:i&&!l&&(r?Object(P.jsx)($.a,{className:"".concat(Re.a.OtherButton," mx-2"),onClick:function(){return j(t)},children:"Unfollow"}):Object(P.jsx)($.a,{className:"".concat(Re.a.FollowStatusButton," mx-2"),onClick:function(){return b(t)},children:"Follow"}))})]})},Se=function(e){var t=e.mobile,n=Ke().popularFollowers;return Object(P.jsx)(b.a,{className:"".concat(i.a.ContainerContent," ").concat(t&&"d-lg-none text-center mb-3 text-wrap"),children:n.results.length?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("p",{children:"Popular"}),t?Object(P.jsx)("div",{className:"d-flex justify-content-around",children:n.results.slice(0,2).map((function(e){return Object(P.jsx)(Le,{profile:e,mobile:!0},e.id)}))}):n.results.map((function(e){return Object(P.jsx)(Le,{profile:e},e.id)}))]}):Object(P.jsx)(se,{spinner:!0})})};var Ee=function(){var e=Object(w.useParams)().id,t=D(),n=null===t||void 0===t?void 0:t.profile_image,c=Object(a.useState)({results:[]}),r=Object(v.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)({results:[]}),j=Object(v.a)(i,2),d=j[0],p=j[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(u.a)(Object(l.a)().mark((function t(){var n,a,c,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([A.get("/blurbs/".concat(e)),A.get("/comments/?blurb=".concat(e))]);case 3:n=t.sent,a=Object(v.a)(n,2),c=a[0].data,r=a[1].data,p({results:[c]}),console.log(c,"errsettingBlurb"),o(r),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0,"errsettingBlurbCatch");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(P.jsx)(W.a,{children:Object(P.jsxs)(q.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:[Object(P.jsx)(Se,{}),Object(P.jsx)(Ae,Object(F.a)(Object(F.a)({},d.results[0]),{},{setBlurb:p,blurbPage:!0})),Object(P.jsxs)(b.a,{className:ie.a.ContainerContent,children:[t?Object(P.jsx)(we,{profile_id:t.profile_id,profileImage:n,blurb:e,setBlurb:p,setComments:o}):s.results.length?"Comments":null,s.results.length?Object(P.jsx)(ke.a,{children:s.results.map((function(e){return Object(P.jsx)(Be,Object(F.a)(Object(F.a)({},e),{},{setBlurb:p,setComments:o}),e.id)})),dataLength:s.results.length,loader:Object(P.jsx)(se,{spinner:!0}),hasMore:!!s.next,next:function(){return B(s,o)}}):t?Object(P.jsx)("span",{children:"Be the first to comment!"}):Object(P.jsx)("span",{children:"Log in before you can create comments!"})]})]})})},He=n.p+"static/media/Nothing.dc6555eb.jpg",Te=n(102),Ie=n.n(Te);var Qe=function(e){var t=D(),n=Object(a.useState)(""),c=Object(v.a)(n,2),r=c[0],s=c[1],o=e.message,i=e.filter,j=void 0===i?"":i,b=Object(a.useState)({results:[]}),d=Object(v.a)(b,2),p=d[0],O=d[1],x=Object(a.useState)(!1),f=Object(v.a)(x,2),m=f[0],h=f[1],g=Object(w.useLocation)().pathname;return Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("/blurbs/?".concat(j,"search=").concat(r));case 3:t=e.sent,n=t.data,O(n),h(!0),console.log("data set:",n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0,"fetchBlurbs err");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();h(!1);var t=setTimeout((function(){console.log("timeout1"),e()}),2e3);return function(){console.log("timeout2"),clearTimeout(t)}}),[j,g,r,t]),Object(P.jsx)(q.a,{children:Object(P.jsxs)(q.a,{lg:8,children:[Object(P.jsx)(q.a,{md:5,children:Object(P.jsx)(Se,{})}),Object(P.jsx)(Z.a,{onSubmit:function(e){return e.preventDefault()},children:Object(P.jsx)(Z.a.Control,{className:Ie.a.SearchBar,type:"text",placeholder:"START A SEARCH...",value:r,onChange:function(e){return s(e.target.value)}})}),m?Object(P.jsx)(P.Fragment,{children:p.results.length?Object(P.jsx)(ke.a,{children:p.results.map((function(e){return Object(P.jsx)(Ae,Object(F.a)(Object(F.a)({},e),{},{setBlurb:O}),e.id)})),dataLength:p.results.length,loader:Object(P.jsx)(se,{spinner:!0}),hasMore:!!p.next,next:function(){return B(p,O)}}):Object(P.jsx)(se,{src:He,message:o})}):Object(P.jsx)(se,{spinner:!0})]})})};var Xe=function(){var e,t,n,c=Object(w.useParams)().id,r=Object(a.useState)({}),s=Object(v.a)(r,2),o=s[0],j=s[1],d=Object(a.useState)({title:"",content:"",image:null}),p=Object(v.a)(d,2),O=p[0],x=p[1],f=O.title,m=O.content,h=O.image,C=Object(a.useRef)(null),N=Object(w.useHistory)();Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n,a,r,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/blurbs/".concat(c,"/"));case 3:t=e.sent,n=t.data,a=n.title,r=n.content,s=n.image,n.is_owner?x({title:a,content:r,image:s}):N.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0,"in editing page");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[N,c]);var B=function(e){x(Object(F.a)(Object(F.a)({},O),{},Object(X.a)({},e.target.name,e.target.value)))},k=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("title",f),n.append("content",m),C.current.files[0]&&n.append("image",C),e.prev=5,e.next=8,A.put("/blurbs/".concat(c,"/"),n);case 8:N.push("/blurbs/".concat(c,"/")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0),401!==(null===(a=e.t0.response)||void 0===a?void 0:a.status)&&j(null===(r=e.t0.response)||void 0===r?void 0:r.data);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),U=Object(P.jsxs)("div",{className:"text-center",children:[Object(P.jsxs)(Z.a.Group,{children:[Object(P.jsx)(Z.a.Label,{children:"Title"}),Object(P.jsx)(Z.a.Control,{type:"text",name:"title",value:f,onChange:B})]}),null===o||void 0===o||null===(e=o.title)||void 0===e?void 0:e.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsxs)(Z.a.Group,{children:[Object(P.jsx)(Z.a.Label,{children:"Content"}),Object(P.jsx)(Z.a.Control,{as:"textarea",rows:8,name:"content",value:m,onChange:B})]}),null===o||void 0===o||null===(t=o.content)||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsx)($.a,{className:V.a.Button,onClick:function(){return N.goBack()},children:"Cancel"}),Object(P.jsx)($.a,{className:V.a.Button,type:"submit",children:"Save edits."})]});return Object(P.jsx)(Z.a,{onSubmit:k,children:Object(P.jsxs)(W.a,{children:[Object(P.jsx)(q.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:Object(P.jsxs)(b.a,{className:ie.a.Container,children:[Object(P.jsxs)(Z.a.Group,{className:"text-center",children:[Object(P.jsx)("figure",{children:Object(P.jsx)(Y.a,{className:i.a.Image,src:h,rounded:!0})}),Object(P.jsx)("div",{children:Object(P.jsx)(Z.a.Label,{className:V.a.Button,htmlFor:"image-upload",children:"Change the image"})}),Object(P.jsx)(Z.a.File,{type:"file",id:"image-upload",accept:"image/*",onChange:function(e){e.target.files.length&&(URL.revokeObjectURL(h),x(Object(F.a)(Object(F.a)({},O),{},{image:URL.createObjectURL(e.target.files[0])})))},ref:C})]}),null===o||void 0===o||null===(n=o.image)||void 0===n?void 0:n.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsx)("div",{className:"d-md-none",children:U})]})}),Object(P.jsx)(q.a,{md:5,lg:4,className:"d-none d-md-block p-0 p-md-2",children:Object(P.jsx)(b.a,{children:U})})]})})},Je=n(64),Ve=n.n(Je),Ge=function(e){var t=e.profile_id,n=e.profileImage;ee("loggedOut");var c=Object(a.useState)(""),r=Object(v.a)(c,2),s=r[0],o=r[1],j=Object(a.useState)([]),d=Object(v.a)(j,2),p=d[0],O=d[1],x=Object(w.useHistory)(),f=function(){var t=Object(u.a)(Object(l.a)().mark((function t(n){var a,c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("logged",e.reviews),t.next=4,g.post("/reviews/",{review:p,content:s});case 4:a=t.sent,c=a.data,x.goBack(),O(Object(F.a)(Object(F.a)({},e.reviews),{},{results:[].concat(Object(C.a)(e.reviews.results),[c])})),o(""),setTimeout((function(){console.log(e.reviews)}),2e3),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0,"reviewHS"),console.log(t.t0.response);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsx)("div",{children:Object(P.jsx)(b.a,{className:i.a.ContainerContent,children:Object(P.jsxs)(Z.a,{onSubmit:f,children:[Object(P.jsx)(Z.a.Group,{children:Object(P.jsxs)(ge.a,{children:[Object(P.jsx)(xe.Link,{to:"/profiles/".concat(t),children:Object(P.jsx)(T,{src:n})}),Object(P.jsx)("p",{children:Object(P.jsx)(Z.a.Control,{placeholder:"Tap here to chat...",as:"textarea",value:s,onChange:function(e){o(e.target.value)},row:2,children:Object(P.jsx)(xe.Link,{to:"/profiles/".concat(t),children:Object(P.jsx)(T,{src:n})})})})]})}),Object(P.jsx)($.a,{className:V.a.Button,type:"submit",children:"Chat!"})]})})})};var Me=function(e){var t=e.imageSize,n=void 0===t?200:t,c=Object(a.useState)(!1),r=Object(v.a)(c,2),s=r[0],o=r[1],i=D(),j=Object(w.useParams)().id,d=ye(),p=d.setProfileData,O=d.handleUnFollow,x=d.handleFollow,f=Ke().pageProfile,m=Object(v.a)(f.results,1)[0],h=(null===i||void 0===i?void 0:i.username)===(null===m||void 0===m?void 0:m.owner),g=Object(a.useState)({results:[]}),C=Object(v.a)(g,2),N=C[0],k=C[1],U=null===i||void 0===i?void 0:i.profile_image,R=Object(a.useState)({results:[]}),_=Object(v.a)(R,2),K=_[0],y=_[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n,a,c,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([A.get("/profiles/".concat(j,"/")),A.get("/blurbs/?owner__profile=".concat(j)),A.get("/reviews/?owner__profile=".concat(j))]);case 3:t=e.sent,n=Object(v.a)(t,3),a=n[0].data,c=n[1].data,r=n[2].data,p((function(e){return Object(F.a)(Object(F.a)({},e),{},{pageProfile:{results:[a]}})})),k(c),console.log("fetchReview",r),y(r),o(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[j,p,y]);var L=Object(P.jsxs)(P.Fragment,{children:[(null===m||void 0===m?void 0:m.is_owner)&&Object(P.jsx)(he,{id:null===m||void 0===m?void 0:m.id}),Object(P.jsxs)(W.a,{className:"px-3 text-center",children:[Object(P.jsx)(q.a,{lg:3,className:"text-lg-left",children:Object(P.jsx)(Y.a,{rounded:!0,src:null===m||void 0===m?void 0:m.image,height:n,width:n})}),Object(P.jsxs)(q.a,{lg:8,children:[Object(P.jsx)("h3",{className:"m-2",children:null===m||void 0===m?void 0:m.owner}),Object(P.jsxs)(W.a,{className:"justify-content-center no-gutters",children:[Object(P.jsxs)(q.a,{xs:4,className:"m-1",children:[Object(P.jsx)("div",{children:null===m||void 0===m?void 0:m.blurbs_count}),Object(P.jsx)("div",{children:"Blurbs"})]}),Object(P.jsxs)(q.a,{xs:4,className:"m-1",children:[Object(P.jsx)("div",{children:null===m||void 0===m?void 0:m.followers_count}),Object(P.jsx)("div",{children:"Followers"})]}),Object(P.jsxs)(q.a,{xs:4,className:"m-1",children:[Object(P.jsx)("div",{children:null===m||void 0===m?void 0:m.following_count}),Object(P.jsx)("div",{children:"Following"})]})]})]}),Object(P.jsx)(q.a,{lg:1,className:"text-lg-right text-wrap",children:i&&!h&&(null!==m&&void 0!==m&&m.following_id?Object(P.jsx)($.a,{classname:"".concat(Re.a.OtherButton," mx-2 "),onClick:function(){return O(m)},children:"Unfollow"}):Object(P.jsx)($.a,{className:"".concat(Re.a.FollowStatusButton," mx-2"),onClick:function(){return x(m)},children:"Follow"}))}),(null===m||void 0===m?void 0:m.content)&&Object(P.jsx)(q.a,{className:"p-3",children:m.content})]})]}),S=Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("hr",{}),Object(P.jsxs)("p",{className:"text-center",children:[null===m||void 0===m?void 0:m.owner,"'s Blurbs."]}),Object(P.jsx)("hr",{}),N.results.length?Object(P.jsx)(ke.a,{children:N.results.map((function(e){return Object(P.jsx)(Ae,Object(F.a)(Object(F.a)({},e),{},{setBlurb:k}),e.id)})),dataLength:N.results.length,loader:Object(P.jsx)(se,{spinner:!0}),hasMore:!!N.next,next:function(){return B(N,k)}}):Object(P.jsx)(se,{src:He,message:"No results found, ".concat(null===m||void 0===m?void 0:m.owner," hasn't posted yet.")})]});return Object(P.jsx)(W.a,{children:Object(P.jsxs)(q.a,{className:"py-2 p-0 p-lg-2",children:[Object(P.jsxs)(q.a,{lg:8,className:"py-2 p-0 p-lg-2",children:[Object(P.jsx)(Se,{mobile:!0}),Object(P.jsx)(q.a,{lg:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(P.jsx)(Se,{})}),Object(P.jsxs)(b.a,{className:Ve.a.ContainerContentThreadReviews,children:[i?Object(P.jsx)(Ge,{mobile:!0,profile_id:i.profile_id,profileImage:U,reviews:K,setReview:y,review:j}):K.results.length?"Reviews!":null,K.results.length?K.results.map((function(e){return Object(P.jsxs)("div",{review:e,className:"".concat(Ve.a.Lined," my-2"),children:[Object(P.jsxs)("p",{className:Ve.a.BigGreen,children:[e.owner,":"]}),Object(P.jsxs)("p",{children:[" ",e.content," - ",e.updated_at]})]},e.id)})):i?Object(P.jsx)("span",{children:"No user chat yet!"}):Object(P.jsx)("span",{children:"Log in to post in this feed!"})]})]}),Object(P.jsx)(b.a,{className:Ve.a.ContainerContent,children:s?Object(P.jsxs)(P.Fragment,{children:[L,S]}):Object(P.jsx)(se,{spinner:!0})})]})})},We=function(){var e,t=Object(a.useState)(""),n=Object(v.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)({}),o=Object(v.a)(s,2),j=o[0],d=o[1],p=Object(w.useHistory)(),O=Object(w.useParams)().id,x=D(),f=L();Object(a.useEffect)((function(){var e;(null===x||void 0===x||null===(e=x.profile_id)||void 0===e?void 0:e.toString())===O?r(x.username):p.push("/")}),[x,p,O]);var m=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.put("/dj-rest-auth/user/",{username:c});case 4:f((function(e){return Object(F.a)(Object(F.a)({},e),{},{username:c})})),p.goBack(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),d(null===(n=e.t0.response)||void 0===n?void 0:n.data);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(W.a,{children:Object(P.jsx)(q.a,{className:"py-2 mx-auto text-center",md:6,children:Object(P.jsx)(b.a,{className:i.a.ContainerContent,children:Object(P.jsxs)(Z.a,{onSubmit:m,className:"my-2",children:[Object(P.jsxs)(Z.a.Group,{children:[Object(P.jsx)(Z.a.Label,{children:"Change username"}),Object(P.jsx)(Z.a.Control,{placeholder:"username",type:"text",value:c,onChange:function(e){return r(e.target.value)}})]}),null===j||void 0===j||null===(e=j.username)||void 0===e?void 0:e.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsx)($.a,{className:V.a.Button,onClick:function(){return p.goBack()},children:"Cancel"}),Object(P.jsx)($.a,{className:V.a.Button,type:"submit",children:"Save"})]})})})})},qe=function(){var e,t,n=Object(w.useHistory)(),c=Object(w.useParams)().id,r=D(),s=Object(a.useState)({new_password1:"",new_password2:""}),o=Object(v.a)(s,2),j=o[0],d=o[1],p=j.new_password1,O=j.new_password2,x=Object(a.useState)({}),f=Object(v.a)(x,2),m=f[0],h=f[1],A=function(e){d(Object(F.a)(Object(F.a)({},j),{},Object(X.a)({},e.target.name,e.target.value)))};Object(a.useEffect)((function(){var e;(null===r||void 0===r||null===(e=r.profile_id)||void 0===e?void 0:e.toString())!==c&&n.push("/")}),[r,n,c]);var C=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.post("/dj-rest-auth/password/change/",j);case 4:n.goBack(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),h(null===(a=e.t0.response)||void 0===a?void 0:a.data);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(W.a,{children:Object(P.jsx)(q.a,{className:"py-2 mx-auto text-center",md:6,children:Object(P.jsx)(b.a,{className:i.a.ContainerContent,children:Object(P.jsxs)(Z.a,{onSubmit:C,children:[Object(P.jsxs)(Z.a.Group,{children:[Object(P.jsx)(Z.a.Label,{children:"New password"}),Object(P.jsx)(Z.a.Control,{placeholder:"new password",type:"password",value:p,onChange:A,name:"new_password1"})]}),null===m||void 0===m||null===(e=m.new_password1)||void 0===e?void 0:e.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsxs)(Z.a.Group,{children:[Object(P.jsx)(Z.a.Label,{children:"Confirm password"}),Object(P.jsx)(Z.a.Control,{placeholder:"confirm new password",type:"password",value:O,onChange:A,name:"new_password2"})]}),null===m||void 0===m||null===(t=m.new_password2)||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsx)($.a,{className:V.a.Button,onClick:function(){return n.goBack()},children:"cancel"}),Object(P.jsx)($.a,{type:"submit",className:V.a.Button,children:"save"})]})})})})},Ye=function(){var e,t,n=D(),c=L(),r=Object(w.useParams)().id,s=Object(w.useHistory)(),o=Object(a.useRef)(),j=Object(a.useState)({name:"",content:"",image:""}),d=Object(v.a)(j,2),p=d[0],O=d[1],x=p.name,f=p.content,m=p.image,h=Object(a.useState)({}),g=Object(v.a)(h,2),C=g[0],N=g[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,a,c,o,i,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===n||void 0===n||null===(t=n.profile_id)||void 0===t?void 0:t.toString())!==r){e.next=16;break}return e.prev=1,e.next=4,A.get("/profiles/".concat(r,"/"));case 4:a=e.sent,c=a.data,o=c.name,i=c.content,u=c.image,O({name:o,content:i,image:u}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),s.push("/");case 14:e.next=17;break;case 16:s.push("/");case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[n,s,r]);var B=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,i,u,j,b;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("name",x),a.append("content",f),null!==o&&void 0!==o&&null!==(n=o.current)&&void 0!==n&&n.files[0]&&a.append("image",null===o||void 0===o||null===(i=o.current)||void 0===i?void 0:i.files[0]),e.prev=5,e.next=8,A.put("/profiles/".concat(r,"/"),a);case 8:u=e.sent,j=u.data,c((function(e){return Object(F.a)(Object(F.a)({},e),{},{profile_image:j.image})})),s.goBack(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0),N(null===(b=e.t0.response)||void 0===b?void 0:b.data);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),k=Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(Z.a.Group,{children:[Object(P.jsx)(Z.a.Label,{children:"About me"}),Object(P.jsx)(Z.a.Control,{as:"textarea",value:f,onChange:function(e){O(Object(F.a)(Object(F.a)({},p),{},Object(X.a)({},e.target.name,e.target.value)))},name:"content",rows:7})]}),null===C||void 0===C||null===(e=C.content)||void 0===e?void 0:e.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsx)($.a,{className:V.a.Button,onClick:function(){return s.goBack()},children:"cancel"}),Object(P.jsx)($.a,{className:V.a.Button,type:"submit",children:"save"})]});return Object(P.jsx)(Z.a,{onSubmit:B,children:Object(P.jsxs)(W.a,{children:[Object(P.jsx)(q.a,{className:"py-2 p-0 p-md-2 text-center",md:7,lg:6,children:Object(P.jsxs)(b.a,{className:i.a.ContainerContent,children:[Object(P.jsxs)(Z.a.Group,{children:[m&&Object(P.jsx)("figure",{children:Object(P.jsx)(Y.a,{src:m})}),null===C||void 0===C||null===(t=C.image)||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)(z.a,{variant:"warning",children:e},t)})),Object(P.jsx)("div",{children:Object(P.jsx)(Z.a.Label,{className:"".concat(V.a.Button," btn my-auto"),htmlFor:"image-upload",children:"Change the image"})}),Object(P.jsx)(Z.a.File,{id:"image-upload",ref:o,accept:"image/*",onChange:function(e){e.target.files.length&&O(Object(F.a)(Object(F.a)({},p),{},{image:URL.createObjectURL(e.target.files[0])}))}})]}),Object(P.jsx)("div",{className:"d-md-none",children:k})]})}),Object(P.jsx)(q.a,{md:5,lg:6,className:"d-none d-md-block p-0 p-md-2 text-center",children:Object(P.jsx)(b.a,{className:i.a.ContainerContent,children:k})})]})})},Ze=n(103),ze=function(){return Object(P.jsxs)("div",{className:re.a.PageNotFound,children:[Object(P.jsx)(se,{src:He,message:"Sorry, page does not exist!",imageSize:250}),Object(P.jsx)(b.a,{className:"".concat(i.a.Border," ").concat(i.a.CenterText),children:Object(P.jsxs)(Ze.Link,{className:re.a.Link,to:"/signup",children:["Don't have an account? ",Object(P.jsx)("span",{children:"Sign up now!"})]})})]})},$e=n(80),et=function(){var e,t,n;ee("loggedOut");var c=Object(a.useState)({topic:"",content:""}),r=Object(v.a)(c,2),s=r[0],o=r[1],j=Object(w.useHistory)(),d=s.topic,p=s.content,O=Object(a.useState)({}),x=Object(v.a)(O,2),f=x[0],m=x[1],h=function(e){o(Object(F.a)(Object(F.a)({},s),{},Object(X.a)({},e.target.name,e.target.value)))},g=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s){e.next=4;break}return m(Object(F.a)(Object(F.a)({},f),{},{content:["Data cannot be empty"]})),e.abrupt("return");case 4:if(d){e.next=7;break}return m(Object(F.a)(Object(F.a)({},f),{},{topic:["Topic cannot be empty"]})),e.abrupt("return");case 7:if(p){e.next=10;break}return m(Object(F.a)(Object(F.a)({},f),{},{content:["Content cannot be empty"]})),e.abrupt("return");case 10:return(n=new FormData).append("topic",d),n.append("content",p),e.prev=13,e.next=16,A.post("/contacts/",n);case 16:j.goBack(),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(13),console.log("newbie1 contacts POST"),m(null===(a=e.t0.response)||void 0===a?void 0:a.data);case 23:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t){return e.apply(this,arguments)}}(),C=Object(P.jsxs)("div",{className:"text-center",children:[Object(P.jsxs)(Z.a.Group,{children:[Object(P.jsx)(Z.a.Label,{children:"User Feedback Form"}),Object(P.jsx)(Z.a.Control,{type:"text",name:"topic",value:d,onChange:h})]}),null===(e=f.topic)||void 0===e?void 0:e.map((function(e,t){return Object(P.jsx)($e.Alert,{variant:"warning",children:e},t)})),Object(P.jsxs)(Z.a.Group,{children:[Object(P.jsx)(Z.a.Label,{children:"Message"}),Object(P.jsx)(Z.a.Control,{as:"textarea",rows:8,name:"content",value:p,onChange:h})]}),null===(t=f.content)||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)($e.Alert,{variant:"warning",children:e},t)})),Object(P.jsx)($.a,{className:V.a.Button,onClick:function(){return j.goBack()},children:"Cancel"}),Object(P.jsx)($.a,{className:V.a.Button,type:"submit",children:"Send Message."}),null===(n=f.non_field_errors)||void 0===n?void 0:n.map((function(e,t){return Object(P.jsx)($e.Alert,{variant:"warning",className:"mt-3",children:e},t)}))]});return Object(P.jsx)("div",{children:Object(P.jsx)(b.a,{className:i.a.ContainerContent,children:Object(P.jsx)(Z.a,{onSubmit:g,children:Object(P.jsx)(b.a,{children:C})})})})};var tt=function(){var e=D(),t=(null===e||void 0===e?void 0:e.profile_id)||"";return Object(P.jsx)("div",{className:i.a.App,children:Object(P.jsxs)("div",{children:[Object(P.jsx)(Q,{}),Object(P.jsx)(b.a,{className:i.a.Main,children:Object(P.jsxs)(w.Switch,{children:[Object(P.jsx)(w.Route,{exact:!0,path:"/",render:function(){return Object(P.jsx)(Qe,{message:"No results... Try another search?"})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/newsfeed",render:function(){return Object(P.jsx)(Qe,{message:"No results... Try another search? Or follower a user.",filter:"owner__followed__owner__profile=".concat(t,"&")})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/upVoted",render:function(){return Object(P.jsx)(Qe,{message:"No results... Try another search? Or vote for the best blurbs.",filter:"votes__owner__profile=".concat(t,"&ordering=-votes__created_at&")})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/login",render:function(){return Object(P.jsx)(ne,{})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/signup",render:function(){return Object(P.jsx)(te,{})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/blurbs/create",render:function(){return Object(P.jsx)(le,{})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/blurbs/:id",render:function(){return Object(P.jsx)(Ee,{})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/blurbs/:id/edit",render:function(){return Object(P.jsx)(Xe,{})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/profiles/:id",render:function(){return Object(P.jsx)(Me,{})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/contacts/",render:function(){return Object(P.jsx)(et,{})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/profiles/:id/edit/username",render:function(){return Object(P.jsx)(We,{})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/profiles/:id/edit/password",render:function(){return Object(P.jsx)(qe,{})}}),Object(P.jsx)(w.Route,{exact:!0,path:"/profiles/:id/edit",render:function(){return Object(P.jsx)(Ye,{})}}),Object(P.jsx)(w.Route,{render:function(){return Object(P.jsx)(ze,{})}})]})})]})})},nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,149)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(P.jsx)(f.a,{children:Object(P.jsx)(S,{children:Object(P.jsx)(De,{children:Object(P.jsx)(tt,{})})})}),document.getElementById("root")),nt()},16:function(e,t,n){e.exports={Button:"Button_Button__27i9m"}},35:function(e,t,n){e.exports={NavBar:"NavBar_NavBar__1amC6"}},37:function(e,t,n){e.exports={Heading:"SigningForm_Heading__1BY1c",Input:"SigningForm_Input__3xfv_",Container:"SigningForm_Container__1rJvv",Link:"SigningForm_Link__1imV0"}},49:function(e,t,n){e.exports={Container:"BlurbsForm_Container__1x49C",ContainerContent:"BlurbsForm_ContainerContent__2XPwm"}},57:function(e,t,n){e.exports={OtherButton:"Profiles_OtherButton__13suW",FollowStatusButton:"Profiles_FollowStatusButton__32nUh"}},62:function(e,t,n){e.exports={Display:"Display_Display__1CdUH",PageNotFound:"Display_PageNotFound__RZaiz"}},64:function(e,t,n){e.exports={ContainerContentThreadReviews:"ProfileHome_ContainerContentThreadReviews__2jw8U",Lined:"ProfileHome_Lined__1AG3c",BigGreen:"ProfileHome_BigGreen__dLrpK",ContainerContent:"ProfileHome_ContainerContent__2MWeL"}},79:function(e,t,n){e.exports={OwnerName:"CommentContent_OwnerName__yOD7W",UpdatedDate:"CommentContent_UpdatedDate__1wow4",CommentText:"CommentContent_CommentText__3kWd4"}},85:function(e,t,n){e.exports={ContainerContent:"Blurb_ContainerContent__rEEbI",ThumbsUpVote:"Blurb_ThumbsUpVote__10WYR"}},99:function(e,t,n){e.exports={Avatar:"Avatar_Avatar__196lW"}}},[[140,1,2]]]);
//# sourceMappingURL=main.6f295298.chunk.js.map