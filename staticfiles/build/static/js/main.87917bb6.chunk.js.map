{"version":3,"sources":["styles/AllBlurbs.module.css","styles/App.module.css","assets/logo5.jpg","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useToggle.js","components/NavBar.js","hooks/useRedirect.js","pages/auth/SignUpForm.js","pages/auth/LogInForm.js","components/Display.js","pages/Blurbs/CreateBlurbForm.js","assets/images/upload.jpg","components/DropDownMenu.js","pages/Blurbs/Blurb.js","pages/Comments/CreateCommentForm.js","pages/Comments/EditCommentForm.js","pages/Comments/comment.js","contexts/ProfileContext.js","pages/profiles/UserProfile.js","pages/profiles/Popular.js","pages/Blurbs/ShowBlurbPage.js","assets/images/Nothing.jpg","pages/Blurbs/AllBlurbs.js","pages/Blurbs/EditBlurbForm.js","pages/Reviews/CreateReviewForm.js","pages/profiles/ProfileHome.js","pages/profiles/UsernameForm.js","pages/profiles/UserPasswordForm.js","pages/profiles/ProfileEditForm.js","components/PageNotFound.js","pages/Contacts/CreateContactForm.js","App.js","reportWebVitals.js","index.js","styles/Button.module.css","styles/NavBar.module.css","styles/SigningForm.module.css","styles/BlurbsForm.module.css","styles/Profiles.module.css","styles/Display.module.css","styles/ProfileHome.module.css","styles/CommentContent.module.css","styles/Blurb.module.css","styles/Avatar.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","fetchedMoreData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resource","setResource","_yield$axiosReq$get","data","wrap","_context","prev","next","console","log","get","sent","prevResource","_objectSpread","results","reduce","acc","cur","some","accResults","id","concat","_toConsumableArray","t0","stop","_x","_x2","apply","arguments","followHelper","profile","clickedProfile","following_id","followers_count","is_owner","following_count","unfollowHelper","setTimestampToken","refreshTokenTimestamp","jwtDecode","refresh_token","exp","localStorage","setItem","removeTimestampToken","removeItem","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","children","_useState","useState","_useState2","_slicedToArray","currentUser","setCurrentUser","history","useHistory","handleMount","_ref2","_yield$axiosRes$get","useEffect","useMemo","interceptors","request","use","_ref3","_callee2","config","_context2","getItem","prevCurrentUser","push","abrupt","err","Promise","reject","response","_ref4","_callee3","_err$response","_context3","status","_jsx","Provider","value","Avatar","props","src","_props$height","height","text","_jsxs","className","styles","width","alt","useToggle","collapseExpand","setCollapseExpand","burgerRef","useRef","handleCollapseExpand","event","current","contains","target","document","addEventListener","removeEventListener","NavBar","_useToggle","handleLogout","loggedInNavView","_Fragment","NavLink","to","isActive","linkClass","appStyles","i","active","join","onClick","profile_id","profile_image","loggedOutNavView","_ref5","createBlurbsNavView","exact","Navbar","expanded","expand","fixed","Container","Brand","logo","Toggle","ref","Collapse","Nav","useRedirect","userStatus","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","username","password1","password2","signUpData","setSignUpData","_useState3","_useState4","errors","setErrors","handleChange","_defineProperty","name","handleSubmit","preventDefault","trim","Row","Col","md","ColImage","Image","FillerImage","CenterText","ColText","Border","Form","onSubmit","Group","controlId","Label","Control","type","Input","placeholder","onChange","map","message","idx","Alert","variant","Button","btnStyles","non_field_errors","Link","LogInForm","password","logInData","setLogInData","_yield$axios$post","user","goBack","Header","Display","spinner","_props$imageSize","imageSize","Spinner","animation","CreateBlurbForm","_errors$title","_errors$content","_errors$image","title","content","image","blurbData","setBlurbData","imageInput","formData","_yield$axiosReq$post","_err$response2","FormData","append","files","textInputFields","as","rows","lg","rounded","htmlFor","ContainerContent","File","accept","length","URL","revokeObjectURL","createObjectURL","DropDownMenuIcon","React","forwardRef","e","DropDownMenu","handleEditing","handleDeleting","Dropdown","Menu","popperConfig","strategy","Item","ProfileEditDropdown","drop","Blurb","owner","updated_at","votes_id","votes_count","comments_count","blurbPage","setBlurb","handleVote","_yield$axiosRes$post","blurb","prevBlurb","handleRemoveVote","delete","Card","Body","Media","Img","Title","OverlayTrigger","placement","overlay","Tooltip","ThumbsUpVote","CreateCommentForm","setComments","profileImage","setContent","prevComments","InputGroup","disabled","CommentContent","showEditForm","setShowEditForm","filter","comment","OwnerName","UpdatedDate","CommentEditForm","CommentText","ProfileContext","SetProfileContext","useProfileData","useSetProfileData","ProfileDataProvider","pageProfile","popularFollowers","profileData","setProfileData","handleUnFollow","prevState","handleFollow","followed","UserProfile","_ref$imageSize","_useSetProfileData","OtherButton","FollowStatusButton","Popular","mobile","slice","ShowBlurbPage","useParams","comments","_yield$Promise$all","_yield$Promise$all2","_blurb","_comments","all","InfiniteScroll","dataLength","loader","hasMore","AllBlurbs","query","setQuery","_props$filter","_useState5","_useState6","hasLoaded","setHasloaded","pathname","useLocation","fetchBlurbs","_yield$axiosReq","timeOut","setTimeout","clearTimeout","SearchBar","NoResult","EditBlurbForm","_title","_content","_image","put","CreateReviewForm","review","setReviews","reviews","row","ProfileHome","setHasLoaded","profilePosts","setProfilePosts","setReview","fetchedData","_pageProfile","_profilePosts","_review","mainProfile","xs","blurbs_count","classname","mainProfilePosts","NoResults","ContainerContentThreadReviews","Lined","BigGreen","UsernameForm","setUsername","_currentUser$profile_","toString","prevUser","UserPasswordForm","_errors$new_password","_errors$new_password2","new_password1","new_password2","userData","setUserData","ProfileEditForm","imageFile","_name","_imageFile$current","_imageFile$current2","_yield$axiosReq$put","textFields","PageNotFound","CreateContactForm","_errors$topic","topic","contactData","setContactData","App","Main","Switch","Route","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.87917bb6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"AllBlurbs_SearchBar__czQ1B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1TtKj\",\"Main\":\"App_Main__1R5z0\",\"Navlink\":\"App_Navlink__KSgFY\",\"active\":\"App_active__jkTxl\",\"Border\":\"App_Border__22OpI\",\"CenterText\":\"App_CenterText__u_3L5\",\"ColImage\":\"App_ColImage__1Llmz\",\"ColText\":\"App_ColText__14zV5\",\"ContainerContent\":\"App_ContainerContent__bRAcL\"};","export default __webpack_public_path__ + \"static/media/logo5.6f4731ad.jpg\";","import axios from 'axios';\n\n\n/** Import into App.js. */\n\n// axios.defaults.baseURL = \"https://aj-project-5-c79c48d5b453.herokuapp.com/\"\n// For Deployment.\naxios.defaults.baseURL = \"/api\";\n\n/** multipart for images and text requests. */\naxios.defaults.headers.post['Content-Type'] = \"multipart/form-data\"\n\n/** To avoid CORS errors when sending cookies. */\naxios.defaults.withCredentials = true\n\n/** Create for access tokens. */\n/** axiosReq to intercept request. */\nexport const axiosReq = axios.create();\n\nexport const axiosRec = axios.create();\n\n/** axiosRes to intercept responsse. */\nexport const axiosRes = axios.create();\n","// import jwtDecode from \"jwt-decode\"\nimport { axiosReq } from \"../api/axiosDefaults\"\nimport jwtDecode from \"jwt-decode\"\n\n/** Credit from Code Institute content, created during the supplied coursework. */\n/**Use in conjunction with infinite scroll to access the 'next' url in API for further posts. */\n\n/** Can be used for separeate occasions. */\nexport const fetchedMoreData = async (resource, setResource) => {\n    try {\n        console.log(\"resource=blurb\", resource)\n        /** Axios request to next page of results. Gets the URL from the next: in the API. */\n        const { data } = await axiosReq.get(resource.next)\n        console.log(\"resourceNext\", resource.next)\n        setResource(prevResource => ({\n\n            /** Returned object, spread. */\n            ...prevResource,\n\n            /** Update next page of result. */\n            next: data.next,\n\n            /** Add new post to prevResource array*/\n            results: data.results.reduce((acc, cur) => {\n                console.log(\"prevresource\", prevResource)\n                console.log(\"data\", data)\n                console.log(\"acc.curr\", acc, cur)\n                return acc.some(\n\n                    /** Check old array results with new array and removed any repeats. */\n                    accResults => accResults.id === cur.id) ? acc : [...acc, cur];\n            }, prevResource.results),\n\n        }));\n    } catch (err) {\n\n    }\n};\n\n/** Credit from Code Institute content, created during the supplied coursework. */\n\n// Pass profile we are mapping over, clicked profile and following count id.\nexport const followHelper = (profile, clickedProfile, following_id) => {\n    return profile.id === clickedProfile.id\n        ? // This is the profile I clicked on,\n        // update its followers count and set its following id\n        {\n            ...profile,\n            followers_count: profile.followers_count + 1,\n            following_id,\n        }\n        : profile.is_owner\n            ? // Logged in user profile.\n            // Update the following count by 1\n            { ...profile, following_count: profile.following_count + 1 }\n            :\n            // Not use or profile wanted, return profile unchanged.\n            profile;\n};\n\n// Pass profile we are mapping over and the profile that was clicked on.\nexport const unfollowHelper = (profile, clickedProfile) => {\n    return profile.id === clickedProfile.id\n        ? // unfollow the profile clicked on and reduce\n        // counts by 1.\n        {\n            ...profile,\n            followers_count: profile.followers_count - 1,\n            following_id: null,\n        }\n        // Logged in users profile count is by 1.\n        : profile.is_owner\n            ? { ...profile, following_count: profile.following_count - 1 }\n            // Not any in question, return unchanged.\n            : profile;\n}\n\n// Token refresh for login using setItem.\nexport const setTimestampToken = (data) => {\n    const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\n    localStorage.setItem(\"setTokenTimestamp\", refreshTokenTimestamp);\n};\n\n// Will or will not refresh token using '!!' on users local storage using getItem ,\n// depending on if the expiry date exists.\nexport const setRefreshToken = () => {\n    return !!localStorage.getItem(\"setTokenTimestamp\");\n};\n\n// Removes token using removeItem from users local storage.\nexport const removeTimestampToken = () => {\n    localStorage.removeItem(\"setTokenTimestamp\");\n};","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\nimport { useHistory } from \"react-router\";\nimport { removeTimestampToken, setRefreshToken } from \"../utils/utils\";\n\n// Create context for current user details.\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\n// Use context to create current user variables storing object details.\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\n// \nexport const CurrentUserProvider = ({ children }) => {\n    const [currentUser, setCurrentUser] = useState(null);\n    const history = useHistory();\n\n    const handleMount = async () => {\n        try {\n            const { data } = await axiosRes.get(\"dj-rest-auth/user/\");\n            setCurrentUser(data);\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    useEffect(() => {\n        handleMount();\n    }, []);\n\n\n    // From React Libary. Use to handle Tokens. Runs before children have mounted.\n    useMemo(() => {\n        axiosReq.interceptors.request.use(\n            async (config) => {\n                // Only run 'if' statement if token needs to be refreshed.\n                if (setRefreshToken()) {\n                    try {\n                        await axios.post(\"/dj-rest-auth/token/refresh/\");\n                    } catch (err) {\n                        // Set logged in user.\n                        setCurrentUser((prevCurrentUser) => {\n                            if (prevCurrentUser) {\n                                history.push(\"/signin\");\n                            }\n                            return null;\n                        });\n                        // Remove timestamp token.\n                        removeTimestampToken();\n                        return config;\n                    }\n                }\n                console.log(\"axiosReq\")\n                return config;\n            },\n            (err) => {\n                return Promise.reject(err);\n            }\n        );\n\n        axiosRes.interceptors.response.use(\n            (response) => response,\n            async (err) => {\n                if (err.response?.status === 401) {\n                    try {\n                        await axios.post(\"/dj-rest-auth/token/refresh/\");\n                    } catch (err) {\n                        // Set logged in user.\n                        setCurrentUser((prevCurrentUser) => {\n                            if (prevCurrentUser) {\n                                history.push(\"/signin\");\n                            }\n                            return null;\n                        });\n                        // Remove timestamp token\n                        removeTimestampToken();\n                    }\n\n                    return axios(err.config);\n                }\n                console.log(\"axiosRes\")\n                return Promise.reject(err);\n\n            }\n        );\n    }, [history]);\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <SetCurrentUserContext.Provider value={setCurrentUser}>\n                {children}\n            </SetCurrentUserContext.Provider>\n        </CurrentUserContext.Provider>\n    );\n};","import React from \"react\";\nimport styles from \"../styles/Avatar.module.css\"\n\n/**Reuseable Avatar/image component */\n/** Will always take source, text, height set default to 40px. */\n/** props = ({src, height=, text}) */\nconst Avatar = (props) => {\n    const { src, height = 40, text } = props;\n    return <span>\n\n        <img className={styles.Avatar} src={src} height={height} width={height}\n            alt=\"Avatar in square shape\" />\n        {text}\n    </span>\n\n};\n\nexport default Avatar","import { useEffect, useRef, useState } from \"react\";\n\n/** Set Navbar toggle menu to collapse away and expand out on mouse click. Better for smaller screens and user experience.\n   * Set Hook in NavBar to 'expanded' prop. Set onClick listener to NavBar Toggle and set 'ref' prop.\n  */\nconst useToggle = () => {\n    const [collapseExpand, setCollapseExpand] = useState(false)\n    const burgerRef = useRef(null)\n    useEffect(() => {\n        const handleCollapseExpand = (event) => {\n            /** Check if value is set and not null. If clicked away, setCollapseExpand to False to close burger dropdown menu. */\n            if (burgerRef.current && !burgerRef.current.contains(event.target)) {\n                setCollapseExpand(false)\n            }\n        }\n\n        /**Set listener here. Set removal in return.*/\n        document.addEventListener('mouseup', handleCollapseExpand)\n        return () => {\n            document.removeEventListener('mouseup', handleCollapseExpand);\n        }\n        /** Place 'ref' prob in useEffesct dependancy array */\n    }, [burgerRef]);\n    return { collapseExpand, setCollapseExpand, burgerRef };\n};\n\nexport default useToggle;","import React from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Container from \"react-bootstrap/Container\";\nimport Nav from \"react-bootstrap/Nav\";\nimport logo from \"../assets/logo5.jpg\";\nimport styles from \"../styles/NavBar.module.css\";\nimport { NavLink } from \"react-router-dom\";\nimport appStyles from \"../styles/App.module.css\"\nimport { useCurrentUser, useSetCurrentUser } from \"../contexts/CurrentUserContext\";\nimport Avatar from \"./Avatar\";\nimport axios from \"axios\";\nimport useToggle from \"../hooks/useToggle\";\nimport { removeTimestampToken } from \"../utils/utils\";\n\n\n/**Icons from Font Awesome. */\n/**Navlink takes 'to' prop to link to App.js Routes. */\n\nconst NavBar = () => {\n\n  /** Use Hook to collaspe and expand burger dropdown menu on click. */\n  const { collapseExpand, setCollapseExpand, burgerRef } = useToggle();\n\n  /** Access data in a child component to display Ternary condition in \n   * navigation View. */\n  const currentUser = useCurrentUser();\n\n  const setCurrentUser = useSetCurrentUser();\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(\"dj-rest-auth/logout/\");\n      // Set current user to null field. Noone is logged in.\n      setCurrentUser(null);\n      // Remove timestamp token when use logs out.\n\n      removeTimestampToken();\n      console.log(\"logged out /logout/\")\n    } catch (err) {\n      console.log(err, \"errlogout\");\n    }\n  };\n\n  /** Options for either logged in or logged out user. */\n  /** {currentUser?.username} */\n  const loggedInNavView = (\n    <>\n      <NavLink\n        className={styles.NavLink}\n        // activeClassName={styles.Active}\n\n        // Link to all blurbs created on website. NEWSFEED\n        to=\"/newsfeed\"\n      >\n        <i className=\"fa-regular fa-newspaper\"></i>Followed Feed\n      </NavLink>\n      <NavLink\n        className={({ isActive }) => {\n          const linkClass = [appStyles.i];\n          if (isActive) linkClass.push(appStyles.active);\n\n          // returns \"NavLink\" or \"Navlink.active\"\n          return linkClass.join(\" \");\n        }}\n        // activeClassName={styles.Active}\n\n        // Link to blurbs or users they have voted for.\n        to=\"/upVoted\"\n      >\n        <i className=\"fa-solid fa-thumbs-up\"></i>My Votes!\n      </NavLink>\n      <NavLink\n        className={({ isActive }) => {\n          const linkClass = [appStyles.i];\n          if (isActive) linkClass.push(appStyles.active);\n\n          // returns \"NavLink\" or \"Navlink.active\"\n          return linkClass.join(\" \");\n        }}\n        // activeClassName={styles.Active}\n\n        // Link to blurbs or users they have voted for.\n        to=\"/contacts\"\n      >\n        <i className=\"fa-regular fa-message\"></i>Contact Us\n      </NavLink>\n      <NavLink\n\n        // Link to home when logging out.\n        to=\"/\"\n        className={({ isActive }) => {\n          const linkClass = [styles.NavLink];\n          if (isActive) linkClass.push(styles.active);\n\n          // returns \"NavLink\" or \"Navlink.active\"\n          return linkClass.join(\" \");\n        }}\n        onClick={handleLogout}\n      // activeClassName={styles.Active}\n      >\n        <i className=\"fa-regular fa-face-smile-wink\"></i>Log Out\n      </NavLink>\n      <NavLink\n\n        // (?) check if currentUser and link to current logged user via profile id.\n        to={`/profiles/${currentUser?.profile_id}`}\n        className={styles.NavLink}\n\n      // activeClassName={styles.Active}\n      >\n        <Avatar src={currentUser?.profile_image} text=\"Profile\" height={35} />\n\n      </NavLink>\n    </>\n  );\n\n  const loggedOutNavView = (\n    <>\n      <NavLink\n        className={({ isActive }) => {\n          const linkClass = [styles.NavLink];\n          if (isActive) linkClass.push(styles.active);\n\n          // returns \"NavLink\" or \"Navlink.active\"\n          return linkClass.join(\" \");\n        }}\n\n\n        // Link to url.\n        to=\"/login\"\n      >\n        <i className=\"fa-regular fa-face-smile\"></i>Log in\n      </NavLink>\n      <NavLink\n\n        // Link to url.\n        to=\"/signup\"\n        className={styles.NavLink}\n      // activeClassName={styles.Active}\n      >\n        <i className=\"fa-regular fa-face-smile-wink\"></i>Sign up\n      </NavLink>\n\n    </>\n  );\n\n  /** Creates link*/\n  const createBlurbsNavView = (\n    <NavLink\n      exact\n      className={styles.NavLink}\n      // activeClassName={styles.Active}\n\n      // Link navigation to create a blurb.\n      to=\"/blurbs/create\"\n    >\n      <i className=\"fa-solid fa-circle-plus\"></i>New Blurb\n    </NavLink>\n\n  )\n\n  return (\n    // styles = folder, NavBar = module.css file inside folder.\n    <Navbar expanded={collapseExpand} className={styles.NavBar} expand=\"md\" fixed=\"top\">\n      <Container>\n        <NavLink to=\"/\">\n          <Navbar.Brand>\n\n            {/* Fruity logo in NvaBar. Same as favicon. */}\n            <img src={logo} alt=\"logo\" height=\"45\" />\n          </Navbar.Brand>\n        </NavLink>\n\n        {/* Shows 'New Blurb' if user exsits. */}\n        {currentUser && createBlurbsNavView}\n\n        {/* Toggle and Collapse NavBar used when screen size changes on devices. \n         */}\n        <Navbar.Toggle\n          ref={burgerRef}\n          onClick={() => setCollapseExpand(!collapseExpand)}\n          aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto text-left\">\n            <NavLink\n              exact\n              className={styles.NavLink}\n              // activeClassName={styles.Active}\n\n              // Link navigation back to home page.\n              to=\"/\"\n            >\n              <i className=\"fa-regular fa-face-laugh-beam\"></i>Home\n            </NavLink>\n\n            {/* Ternary conditions to render depending on code conditions above in \n            'const' loggedInIcons and loggedOutIcons depending on context set up \n            for currentUser. */}\n            {currentUser ? loggedInNavView : loggedOutNavView}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","import axios from \"axios\"\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\"\n\n// Set useRedirect React Hook to direct users away from pages they can \n// have access to when either logged in or logged out.\nexport const useRedirect = (userStatus) => {\n    const history = useHistory();\n    useEffect(() => {\n        const handleMount = async () => {\n            try {\n                // Use axios to post a request to token to check if \n                // user is logged in or not\n                await axios.post('/dj-rest-auth/token/refresh/')\n                // If user is logged in, this code will run.\n                if (userStatus === 'loggedIn') {\n                    history.push('/');\n                }\n\n                // If error, user is not logged in so user is redirected by \n                // equaling 'loggedout'.\n            } catch (err) {\n                if (userStatus === 'loggedOut') {\n                    history.push('/');\n                }\n\n            }\n        };\n        // Handle effort and run on each dependancy stated in the [].\n        handleMount();\n    }, [history, userStatus]);\n\n};","import { Link, useHistory } from \"react-router-dom\";\nimport React, { useState } from \"react\";\n\nimport appStyles from \"../../styles/App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\"\nimport styles from \"../../styles/SigningForm.module.css\"\n\n// import Form from \"react-bootstrap/Form\";\nimport { Form, Button, Image, Col, Row, Container, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n// import { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\n\n/**Store values in useState Hook imported from React. */\n\n\nconst SignUpForm = () => {\n    // Users who are looged in are sent to home page.\n    useRedirect('loggedIn')\n\n    /**Set for controlID in Form.Group fields. \n     * Create and set new user on sign up page. With password. \n     * Value set to each state in Form.Control prop */\n    const [signUpData, setSignUpData] = useState({\n        username: \"\",\n        password1: \"\",\n        password2: \"\",\n    });\n\n    const { username, password1, password2 } = signUpData;\n\n    /**useState to store errors used. Imported useState.*/\n\n    const [errors, setErrors] = useState({});\n\n    /** useHistory Hook from React Router. Imported.*/\n    /** Handle redirect from React Router. */\n\n    const history = useHistory();\n\n\n    /**Universal onChange handler for input fields for new user and password.*/\n    /**JavaScript for Username 'KEY: VALUE =  input field name: user's input'.*/\n    /** Add handler to each component to allow changes for all fields in signUpdata \n     * in useState.*/\n\n    const handleChange = (event) => {\n        setSignUpData({\n            // Access all data without deleting previous item with Spread(...).\n            ...signUpData,\n            [event.target.name]: event.target.value,\n\n        });\n    };\n\n    /**Import Axios */\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        // Check if username is empty\n        if (!username.trim()) {\n            setErrors({ ...errors, username: [\"Username cannot be empty\"] });\n            return;\n        }\n        // Check if password is empty\n        if (!password1.trim()) {\n            setErrors({ ...errors, password1: [\"password field empty\"] });\n            return;\n        }\n        // Check if password confirmed is empty\n        if (!password2.trim()) {\n            setErrors({ ...errors, password2: [\"confirm password field empty\"] });\n            return;\n        }\n        // Otherwise POST data to API and register.\n        try {\n            await axios.post(\"/dj-rest-auth/registration/\", signUpData);\n            history.push(\"/login\");\n            console.log(\"new user created in API 2 /registration/\")\n        } catch (err) {\n            console.log(\"new user created in API 2 /registration/ setErrors\")\n            setErrors(err.response?.data);\n        }\n    };\n\n\n\n    return (\n        <Row>\n            <Row>\n                <Col md={2} ></Col>\n                <Col md={8} className={appStyles.ColImage}>\n                    <Image\n                        className={`${appStyles.FillerImage} ${appStyles.CenterText}`}\n                        src={\"https://res.cloudinary.com/dtsaa4qbs/image/upload/v1700138414/avatar_beedw9.jpg\"}\n                    />\n                </Col>\n                <Col md={2} ></Col>\n\n            </Row>\n            <Row>\n                <Col className={appStyles.ColText}>\n                    <Container className={`${appStyles.Border} ${appStyles.CenterText}`}>\n                        <h1>\n                            Sign Up Here!\n                        </h1>\n\n                        <Form onSubmit={handleSubmit}>\n                            <Form.Group controlId=\"username\">\n                                <Form.Label className=\"d-none\">Username</Form.Label>\n                                <Form.Control\n                                    type=\"text\"\n                                    className={styles.Input}\n                                    placeholder=\"Username\"\n                                    name=\"username\"\n                                    value={username}\n                                    onChange={handleChange}\n                                />\n                            </Form.Group>\n\n                            {/* Optional chaining (?). Map over all errors in state. \n                            If error in object, produce alert. Alert imported. */}\n                            {errors.username?.map((message, idx) => (\n                                <Alert variant=\"warning\" key={idx}>{message}</Alert>\n                            ))}\n\n                            <Form.Group controlId=\"password1\">\n                                <Form.Label className=\"d-none\">Password</Form.Label>\n                                <Form.Control\n                                    className={styles.Input}\n                                    type=\"password\"\n                                    placeholder=\"Password\"\n                                    name=\"password1\"\n                                    value={password1}\n                                    onChange={handleChange}\n\n                                />\n                            </Form.Group>\n\n                            {/* Optional chaining (?). Map over all errors in state. \n                            If error in object, produce alert. */}\n                            {errors.password1?.map((message, idx) => (\n                                <Alert key={idx} variant=\"warning\">\n                                    {message}\n                                </Alert>\n                            ))}\n\n                            <Form.Group controlId=\"password2\">\n                                <Form.Label className=\"d-none\">Confirm password</Form.Label>\n                                <Form.Control\n                                    className={styles.Input}\n                                    type=\"password\"\n                                    placeholder=\"Confirm password\"\n                                    name=\"password2\"\n                                    value={password2}\n                                    onChange={handleChange}\n                                />\n                            </Form.Group>\n\n                            {/* Optional chaining (?). \n                            Map over all errors for each key(idx) in error state. \n                            If error in object, produce alert. */}\n                            {errors.password2?.map((message, idx) => (\n                                <Alert key={idx} variant=\"warning\">\n                                    {message}\n                                </Alert>\n                            ))}\n                            <Button\n                                className={btnStyles.Button}\n                                type=\"submit\"\n                            >\n                                Sign in\n                            </Button>\n                            {/** When 2 passwords dont match */}\n                            {errors.non_field_errors?.map((message, idx) => (\n                                <Alert key={idx} variant=\"warning\" className=\"mt-3\">\n                                    {message}\n                                </Alert>\n                            ))}\n                        </Form>\n\n                    </Container>\n                </Col>\n            </Row>\n            <Row>\n                <Col className={appStyles.ColText}>\n                    <Container className={`${appStyles.Border} ${appStyles.CenterText}`}>\n                        Already Signed up..\n                        <Link className={styles.Link} to=\"/login\">\n                            <span>Log in</span>\n                        </Link>\n                    </Container>\n                </Col>\n\n            </Row>\n        </Row>\n    );\n};\n\nexport default SignUpForm;","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\nimport Container from \"react-bootstrap/Container\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport styles from \"../../styles/SigningForm.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../styles/App.module.css\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\nimport { setTimestampToken } from \"../../utils/utils\";\n\nfunction LogInForm() {\n    // Redirect user from page if logged in.\n    useRedirect('loggedIn');\n\n    /**useState to store errors used. Imported.*/\n    const [errors, setErrors] = useState({});\n\n    /**Refactor and use Hooks instead of useContext. */\n    /**Hooks in CurrentUserContext.js. */\n    /** Set useSetCurrentUser variable to update user on successful log in. */\n\n    const setCurrentUser = useSetCurrentUser();\n\n    // set state to store username and passwords for manipulation.\n    const [logInData, setLogInData] = useState({\n        username: \"\",\n        password: \"\",\n    });\n    const { username, password } = logInData;\n\n\n\n    const history = useHistory();\n\n    /** Handle event to Log in with user data. */\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n        try {\n            const { data } = await axios.post(\"/dj-rest-auth/login/\", logInData);\n            /** Save user data in variable on successful log in. */\n            setCurrentUser(data.user);\n            console.log(\"login /login/\")\n            // Set for when user signin with data from the API. \n            // Function extracts access token expiry date, saves to user local storage.\n            setTimestampToken(data)\n            history.push(\"/\");\n            // Send user back, not to home page.\n            history.goBack();\n        } catch (err) {\n            console.log(err, \"errsetErrorslogin\")\n            setErrors(err.response?.data);\n        }\n    };\n\n    const handleChange = (event) => {\n        setLogInData({\n            /** Spread objects to get all values. */\n            ...logInData,\n            [event.target.name]: event.target.value,\n        });\n    };\n\n    return (\n        <Row>\n            <Row>\n                <Col className={appStyles.ColText}>\n                    <Container\n                        className={`${appStyles.Border} ${appStyles.CenterText}`} >\n                        <h1 className={styles.Header}>sign in</h1>\n                        <Form onSubmit={handleSubmit}>\n                            <Form.Group controlId=\"username\">\n                                <Form.Label className=\"d-none\">Username</Form.Label>\n                                <Form.Control\n                                    type=\"text\"\n                                    placeholder=\"Username\"\n                                    name=\"username\"\n                                    className={styles.Input}\n                                    value={username}\n                                    onChange={handleChange}\n                                />\n                            </Form.Group>\n                            {errors.username?.map((message, idx) => (\n                                <Alert key={idx} variant=\"warning\">\n                                    {message}\n                                </Alert>\n                            ))}\n\n                            <Form.Group controlId=\"password\">\n                                <Form.Label className=\"d-none\">Password</Form.Label>\n                                <Form.Control\n                                    type=\"password\"\n                                    placeholder=\"Password\"\n                                    name=\"password\"\n                                    className={styles.Input}\n                                    value={password}\n                                    onChange={handleChange}\n                                />\n                            </Form.Group>\n                            {errors.password?.map((message, idx) => (\n                                <Alert key={idx} variant=\"warning\">\n                                    {message}\n                                </Alert>\n                            ))}\n                            <Button\n                                className={btnStyles.Button}\n                                type=\"submit\"\n                            >\n                                Sign in\n                            </Button>\n                            {errors.non_field_errors?.map((message, idx) => (\n                                <Alert key={idx} variant=\"warning\" className=\"mt-3\">\n                                    {message}\n                                </Alert>\n                            ))}\n                        </Form>\n                    </Container>\n                </Col>\n            </Row>\n            <Row>\n                <Col className={appStyles.ColText}>\n                    <Container className={`${appStyles.Border} ${appStyles.CenterText}`} >\n                        <Link className={styles.Link} to=\"/signup\">\n                            Don't have an account? <span>Sign up now!</span>\n                        </Link>\n                    </Container>\n                </Col>\n            </Row>\n            <Row>\n                <Col></Col>\n                <Col className={appStyles.ColImage}>\n                    <Image\n                        className={`${appStyles.FillerImage} ${appStyles.CenterText}`}\n                        src={\"https://res.cloudinary.com/dtsaa4qbs/image/upload/v1688082376/smile.png\"}\n                    />\n                </Col>\n                <Col></Col>\n            </Row>\n\n        </Row >\n    );\n}\n\nexport default LogInForm;","import React from \"react\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport styles from \"../styles/Display.module.css\";\n\nconst Display = (props) => {\n    const { spinner, src, message, imageSize=200 } = props;\n    return (\n        <div className={`${styles.Display} p-4`}>\n            {/* First && checks if prop exsits before displaying. */}\n            {spinner && <Spinner animation=\"border\" variant=\"success\" />}\n            {src && <img alt={message} src={src} height={imageSize}/>}\n            {message && <p className=\"mt-4\">{message}</p>}\n        </div>\n    );\n};\n\nexport default Display;","import React, { useRef, useState } from \"react\";\n\n/** Imported all separately to improve wesbite loading time. */\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\n\nimport Display from \"../../components/Display.js\"\n\nimport Upload from \"../../assets/images/upload.jpg\";\n\nimport styles from \"../../styles/BlurbsForm.module.css\";\nimport appStyles from \"../../styles/App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n// import { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { useHistory } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useRedirect } from \"../../hooks/useRedirect.js\";\n\n// import { useRedirect } from \"../../hooks/useRedirect\";\n\nfunction CreateBlurbForm() {\n    // If attempts to access create a blurb page and \n    // user is logged out, user is redirected to home page.\n    useRedirect('loggedOut')\n\n    /**useState to store errors used. Imported.*/\n    const [errors, setErrors] = useState({});\n\n    const [blurbData, setBlurbData] = useState({\n        title: \"\",\n        content: \"\",\n        // category: \"\",\n        image: null,\n    });\n\n    /** Set variables for input value. */\n    const { title, content, image } = blurbData;\n\n    /** Create ref prop for Form.File. */\n    const imageInput = useRef(null);\n\n    /** useHistory Hook from React Router. Imported. */\n    /** Handle redirect from React Router. */\n    const history = useHistory();\n\n    /** Handle change for title, content. */\n    const handleChange = (event) => {\n        setBlurbData({\n            // Access all data without deleting previous item.\n            ...blurbData,\n            [event.target.name]: event.target.value,\n        });\n    };\n\n    /**Handle change for image content. */\n    const handleChangeImage = (event) => {\n        if (event.target.files.length) {\n            // Stores Image and lets user change URL of image.\n            URL.revokeObjectURL(image);\n            setBlurbData({\n\n                // Access all data without deleting previous item.\n                ...blurbData,\n\n                // Set image to URL set.\n                image: URL.createObjectURL(event.target.files[0]),\n            });\n        }\n    };\n\n    const handleSubmit = async (event) => {\n        /**Prevent page refresh. */\n        event.preventDefault();\n        /**Create variable to append for each state. */\n        const formData = new FormData();\n\n        // Append title and content form data.\n        formData.append(\"title\", title);\n        formData.append(\"content\", content);\n\n        // Checks to see if user has selected an image, \n        // if so, then add image file to formData otherwise set to null.\n        formData.append(\"image\", imageInput.current.files[0]);\n\n        // due to multidata.\n        try {\n            /** axios updated to request interceptor and post on url link.*/\n            const { data } = await axiosReq.post(\"/blurbs/\", formData);\n            /**Create further blurbs with appropriate id. */\n            history.push(`/blurbs/${data.id}`);\n        } catch (err) {\n            console.log(err);\n            /** catch errors and set. */\n            if (err.response?.status !== 401) {\n                setErrors(err.response?.data);\n            }\n        }\n    };\n\n    /** Set Fields for user input */\n    const textInputFields = (\n        <div className=\"text-center\">\n\n            {/* Fields for Blurb form. */}\n            <Form.Group>\n                <Form.Label>Title</Form.Label>\n                <Form.Control\n                    type=\"text\"\n                    name=\"title\"\n                    value={title}\n                    onChange={handleChange}\n                />\n            </Form.Group>\n\n            {/* Error for title field and error key changed.*/}\n            {errors?.title?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n\n            <Form.Group>\n                <Form.Label>Content</Form.Label>\n                <Form.Control\n                    as=\"textarea\"\n                    rows={8}\n                    name=\"content\"\n                    value={content}\n                    onChange={handleChange}\n                />\n            </Form.Group>\n\n            {/* Error for content field and error key changed.*/}\n            {errors?.content?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n\n            {/* <Form.Group>\n                <Form.Label>Category</Form.Label>\n                <Form.Control\n                    as=\"textarea\"\n                    rows={6}\n                    name=\"category\"\n                    value={category}\n                    onChange={handleChange}\n                />\n            </Form.Group>\n            {errors?.content?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))} */}\n\n            {/* Button will redirect back page with no changes if cancelled. */}\n            <Button\n                className={btnStyles.Button}\n                onClick={() => history.goBack()}\n            >\n                Cancel\n            </Button>\n            {/** Button creates new blurb on submit. */}\n            <Button className={btnStyles.Button} type=\"submit\">\n                Save new article.\n            </Button>\n        </div>\n    );\n\n    return (\n        <Form onSubmit={handleSubmit}>\n            <Row>\n                <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n                    <Container\n                        className={styles.Container}\n                    >\n                        <Form.Group className=\"text-center\">\n                            {/* Set first option in terinary condition if image present, \n                            otherwise set second option after :*/}\n                            {image ? (\n                                <>\n                                    <figure>\n                                        {/* Bootstrap Image component. */}\n                                        <Image className={appStyles.Image} src={image} rounded />\n                                    </figure>\n                                    <div>\n                                        <Form.Label\n                                            className={btnStyles.Button}\n\n                                            /** Link to id in Form.File for uploading image */\n                                            htmlFor=\"image-upload\"\n                                        >\n                                            Change the image\n                                        </Form.Label>\n                                    </div>\n                                </>\n                            ) : (\n                                <Form.Label\n\n                                    /** Link to id in Form.File for uploading image */\n                                    htmlFor=\"image-upload\"\n                                >\n                                    <Display\n                                        src={Upload}\n                                        message=\"Click Image to Upload a new one.\"\n                                        className={`${styles.Display} ${appStyles.ContainerContent}`}\n                                    />\n                                </Form.Label>\n                            )}\n\n                            <Form.File\n                                /**Set type prop */\n                                type=\"file\"\n                                /** Link to htmlFor in Form.Label for uploading image */\n                                id=\"image-upload\"\n                                /**update_to set in model imageFields */\n                                accept=\"image/*\"\n                                onChange={handleChangeImage}\n                                ref={imageInput}\n                            />\n                        </Form.Group>\n\n                        {/**Error caught, Alert messge shown to user. */}\n                        {errors?.image?.map((message, idx) => (\n                            <Alert variant=\"warning\" key={idx}>\n                                {message}\n                            </Alert>\n                        ))}\n\n                        {/* Returned value of const textField for mobile device view. */}\n                        <div className=\"d-md-none\">{textInputFields}</div>\n                    </Container>\n                </Col>\n                <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\n\n                    {/* Returned value of const textField for title and content. */}\n                    <Container>{textInputFields}</Container>\n                </Col>\n            </Row>\n        </Form>\n    );\n}\n\nexport default CreateBlurbForm;\n","export default \"data:image/jpeg;base64,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\"","// The forwardRef is important!! Use in reusebale component libraries.\n// Dropdown needs access to the DOM node in order to position the Menu\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport React from 'react';\nimport { useHistory } from \"react-router\";\n\nconst DropDownMenuIcon = React.forwardRef(({ onClick }, ref) => (\n    <i\n        className=\"fa-solid fa-user-pen\"\n        ref={ref}\n        onClick={(e) => {\n            e.preventDefault();\n            onClick(e);\n        }}\n    />\n));\n\nexport const DropDownMenu = (props) => {\n    const { handleEditing, handleDeleting } = props;\n    return (\n        < Dropdown >\n            {/* Rename prop to DropDownMenuIcon component */}\n            <Dropdown.Toggle as={DropDownMenuIcon} >\n            </Dropdown.Toggle>\n            {/* Credit to Code Institute Coursework preparation. */}\n            <Dropdown.Menu\n                className=\"text-center\"\n                popperConfig={{ strategy: \"fixed\" }}\n            >\n                {/* Items in drop down menu to edit and delete blurb. */}\n                <Dropdown.Item onClick={handleEditing} >EDIT</Dropdown.Item>\n                <Dropdown.Item onClick={handleDeleting} >DELETE</Dropdown.Item>\n\n            </Dropdown.Menu>\n        </Dropdown >\n\n    );\n};\n\n/** Credited from Code Intitute Coursework and adapted for this project. */\n\nexport function ProfileEditDropdown({ id }) {\n    const history = useHistory();\n    return (\n        <Dropdown drop=\"left\">\n            <Dropdown.Toggle as={DropDownMenuIcon} />\n            <Dropdown.Menu\n                className=\"text-center\"\n                popperConfig={{ strategy: \"fixed\" }}\n            >\n                <Dropdown.Item\n                    onClick={() => history.push(`/profiles/${id}/edit`)}\n                    aria-label=\"edit-profile\"\n                >\n                    <i className=\"fas fa-edit\" />Edit\n                </Dropdown.Item>\n                <Dropdown.Item\n                    onClick={() => history.push(`/profiles/${id}/edit/username`)}\n                    aria-label=\"edit-username\"\n                >\n                    <i className=\"far fa-id-card\" />\n                    Edit username\n                </Dropdown.Item>\n                <Dropdown.Item\n                    onClick={() => history.push(`/profiles/${id}/edit/password`)}\n                    aria-label=\"edit-password\"\n                >\n                    <i className=\"fas fa-key\" />\n                    Edit password\n                </Dropdown.Item>\n            </Dropdown.Menu>\n        </Dropdown>\n    );\n}\n","import React from \"react\";\nimport styles from \"../../styles/Blurb.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Card, Media, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport Avatar from \"../../components/Avatar\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { DropDownMenu } from \"../../components/DropDownMenu\";\n\n\nconst Blurb = (props) => {\n    const {\n        id,\n        owner,\n        updated_at,\n        title,\n        content,\n        image,\n        profile_id,\n        profile_image,\n        votes_id,\n        votes_count,\n        comments_count,\n        blurbPage,\n        setBlurb,\n    } = props;\n    /** Create history object for redirction. */\n    const history = useHistory();\n\n    /**Set current user by using useCurrentuser Hook */\n    const currentUser = useCurrentUser();\n\n    /**set is_owner if current username matches owner for currentUser.*/\n    const is_owner = currentUser?.username === owner\n\n    /** Handle Up voting for each blurb. */\n    const handleVote = async () => {\n        try {\n            // Add vote to the correct blurb id.\n            const { data } = await axiosRes.post('/votes/', { blurb: id });\n            setBlurb((prevBlurb) => ({\n                ...prevBlurb,\n                results: prevBlurb.results.map((blurb) => {\n                    return blurb.id === id\n                        /**use data to set id to vote matching the correct blurb. */\n                        ? { ...blurb, votes_count: blurb.votes_count + 1, votes_id: data.id }\n                        : blurb;\n                }),\n            }));\n        } catch (err) {\n            console.log(err, \"errhandlevote\");\n\n        }\n    }\n\n    /** Handle remove vote for each blurb. */\n    const handleRemoveVote = async () => {\n        try {\n            /** no const {data} needed as the vote_id is being deleted. */\n            // await axiosRes.delete(`/votes/${votes_id}`, { blurb: id });\n            await axiosRes.delete(`/votes/${votes_id}`);\n            setBlurb((prevBlurb) => ({\n                ...prevBlurb,\n                results: prevBlurb.results.map((blurb) => {\n                    return blurb.id === id\n                        /** votes_id = null as no id needed. */\n                        ? { ...blurb, votes_count: blurb.votes_count - 1, votes_id: null }\n                        : blurb;\n                }),\n            }));\n        } catch (err) {\n            console.log(err, \"errhandlevote\");\n\n        }\n    }\n    /** Direct to URL page for editing a blurb. */\n    const handleEditing = () => {\n        history.push(`/blurbs/${id}/edit`);\n    }\n\n    /** Direct to URL page for deleting a blurb. */\n    const handleDeleting = async () => {\n        try {\n            await axiosRes.delete(`/blurbs/${id}/`);\n            history.goBack();\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    return <Card className={styles.ContainerContent}>\n        <Card.Body>\n            {/* Bootstrap Styles in className. */}\n            <Media className=\"align-items-center justify-content-between\">\n                <Link to={`/profiles/${profile_id}`}>\n                    <Avatar src={profile_image} height={50} />\n                    {owner}\n                </Link>\n                <div>\n                    <span>Updated:{updated_at}</span>\n                    {/* Drop down menu will appear if all conditions are true. \n                    If it is the owner of the blurb.\n                    The owner will then be able to edit and delete a post accordingly. */}\n                    {/* DropDownMenu has two props - edit and delete. */}\n                    {is_owner && blurbPage && (\n                        <DropDownMenu\n                            handleEditing={handleEditing}\n                            handleDeleting={handleDeleting}\n                        />\n                    )}\n                </div>\n\n            </Media>\n        </Card.Body>\n        <Link to={`/blurbs/${id}`}>\n            <Card.Img src={image} alt={title} />\n        </Link>\n        <Card.Body>\n            {title && <Card.Title className=\"text-center\">{title}</Card.Title>}\n            {content && <Card.Title className=\"text-center\">{content}</Card.Title>}\n            <div>\n                {/* Terinary codition depending on whether user is logged in. \n                User can vote, if not logged in user will a React Tooltip message*/}\n                {is_owner ? (\n                    // When mouse hovers over item, the TOOLTIP message will display for user guidance.\n                    // Triggers if you own the blurb your trying to vote for.\n                    <OverlayTrigger\n                        placement=\"top\"\n                        overlay={<Tooltip>No voting for your own stuff!</Tooltip>}>\n                        <i className=\"fa-solid fa-thumbs-up\"></i>\n                    </OverlayTrigger>\n                ) : votes_id ? (\n                    // When mouse hovers over item, the TOOLTIP message will display for user guidance.\n                    // Triggers for the blurb your trying to remove the vote for.\n                    <OverlayTrigger\n                        placement=\"top\"\n                        overlay={<Tooltip>Remove your vote!</Tooltip>}>\n                        {/* Handle to remove the vote and reduce votes count by 1. */}\n                        <span onClick={handleRemoveVote}>\n                            <i className={`fa-solid fa-thumbs-up ${styles.ThumbsUpVote}`}></i>\n                        </span>\n                    </OverlayTrigger>\n                ) : currentUser ? (\n                    // When mouse hovers over item, the TOOLTIP message will display for user guidance.\n                    // Triggers when your trying to vote for a blurb.\n                    <OverlayTrigger\n                        placement=\"top\"\n                        overlay={<Tooltip>Up Vote!</Tooltip>}>\n                        {/* On click handle to place vote for blurb. */}\n                        <span onClick={handleVote}>\n                            <i className=\"fa-solid fa-thumbs-up\"></i>\n                        </span>\n                    </OverlayTrigger>\n                ) : (\n                    // When mouse hovers over item, the TOOLTIP message will display for user guidance.\n                    // Triggers message when user is not logged in first.\n                    <OverlayTrigger placement=\"top\" overlay={<Tooltip>Log in!</Tooltip>}>\n                        <i className=\"fa-solid fa-thumbs-up\"></i>\n                    </OverlayTrigger>\n                )}\n                {/* Tracks and displays total votes count. */}\n                {votes_count}\n                <Link to={`/blurbs/${id}`}>\n                    <i className=\"fa fa-commenting-o\" />\n                </Link>\n                {/* Tracks the amount of comments on each particular blurb. */}\n                {comments_count}\n            </div>\n        </Card.Body>\n    </Card>\n};\n\nexport default Blurb;","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport Avatar from \"../../components/Avatar\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n\n/** Credit to creating within project, from Code Institute coursework */\n\nfunction CreateCommentForm(props) {\n    /** Set props from receiving data. */\n    const { blurb, setBlurb, setComments, profileImage, profile_id } = props;\n\n    /**Hook to manage data from API. */\n    const [content, setContent] = useState(\"\");\n\n    /** Set change handler for content */\n    const handleChange = (event) => {\n        setContent(event.target.value);\n    };\n\n    /** Handle submitting new comment connected to the individual blurb. */\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            /** Send post response to url with properties of the blurb and comment content. */\n            const { data } = await axiosRes.post(\"/comments/\", {\n                content,\n                blurb,\n            });\n            setComments((prevComments) => ({\n                ...prevComments,\n                /** Spread all comments relating to given blurb. */\n                results: [data, ...prevComments.results],\n            }));\n            setBlurb((prevBlurb) => ({\n                results: [\n                    {\n                        ...prevBlurb.results[0],\n                        /** Get previous blurb and track count of comments. */\n                        comments_count: prevBlurb.results[0].comments_count + 1,\n                    },\n                ],\n            }));\n            setContent(\"\");\n        } catch (err) {\n            /**Catch any errors created my the response on user input. */\n            console.log(err);\n        }\n    };\n\n    return (\n        <Form className=\"mt-2\" onSubmit={handleSubmit}>\n            <Form.Group>\n                <InputGroup>\n                    {/* Personal profiles image will display with comment content. Either default two swimming fishes.\n                Can set link to their profile to get their own profile Avatar. */}\n                    <Link to={`/profiles/${profile_id}`}>\n                        <Avatar src={profileImage} />\n                    </Link>\n                    <Form.Control\n                        /** Comment box textarea to handle comment content, to be changed and submitted by Submit Button. \n                         * using onChange handler. */\n                        placeholder=\"my comment...\"\n                        as=\"textarea\"\n                        value={content}\n                        onChange={handleChange}\n                        rows={2}\n                    />\n                </InputGroup>\n            </Form.Group>\n            <button\n                /** Submits user comment. */\n                className={btnStyles.Button}\n                disabled={!content.trim()}\n                type=\"submit\"\n            >\n                Post\n            </button>\n        </Form>\n    );\n}\n\nexport default CreateCommentForm;","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport Avatar from \"../../components/Avatar\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n\n/** Credit to creating within project, from Code Institute coursework */\n\nfunction CreateCommentForm(props) {\n    /** Set props from receiving data. */\n    const { blurb, setBlurb, setComments, profileImage, profile_id } = props;\n\n    /**Hook to manage data from API. */\n    const [content, setContent] = useState(\"\");\n\n    /** Set change handler for content */\n    const handleChange = (event) => {\n        setContent(event.target.value);\n    };\n\n    /** Handle submitting new comment connected to the individual blurb. */\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            /** Send post response to url with properties of the blurb and comment content. */\n            const { data } = await axiosRes.post(\"/comments/\", {\n                content,\n                blurb,\n            });\n            setComments((prevComments) => ({\n                ...prevComments,\n                /** Spread all comments relating to given blurb. */\n                results: [data, ...prevComments.results],\n            }));\n            setBlurb((prevBlurb) => ({\n                results: [\n                    {\n                        ...prevBlurb.results[0],\n                        /** Get previous blurb and track count of comments. */\n                        comments_count: prevBlurb.results[0].comments_count + 1,\n                    },\n                ],\n            }));\n            setContent(\"\");\n        } catch (err) {\n            /**Catch any errors created my the response on user input. */\n            console.log(err);\n        }\n    };\n\n    return (\n        <Form className=\"mt-2\" onSubmit={handleSubmit}>\n            <Form.Group>\n                <InputGroup>\n                    {/* Personal profiles image will display with comment content. Either default two swimming fishes.\n                Can set link to their profile to get their own profile Avatar. */}\n                    <Link to={`/profiles/${profile_id}`}>\n                        <Avatar src={profileImage} />\n                    </Link>\n                    <Form.Control\n                        /** Comment box textarea to handle comment content, to be changed and submitted by Submit Button. \n                         * using onChange handler. */\n                        placeholder=\"my comment...\"\n                        as=\"textarea\"\n                        value={content}\n                        onChange={handleChange}\n                        rows={2}\n                    />\n                </InputGroup>\n            </Form.Group>\n            <button\n                /** Submits user comment. */\n                className={btnStyles.Button}\n                disabled={!content.trim()}\n                type=\"submit\"\n            >\n                Post\n            </button>\n        </Form>\n    );\n}\n\nexport default CreateCommentForm;\n\n// function EditCommentForm(props) {\n//     const { id, content, setVisibleEditForm, setComments } = props;\n  \n//     const [formContent, setFormContent] = useState(content);\n  \n//     const handleChange = (event) => {\n//       setFormContent(event.target.value);\n//     };\n  \n//     const handleSubmit = async (event) => {\n//       event.preventDefault();\n//       try {\n//         console.log(\"cserror1\")\n//         await axiosRes.put(`/comments/${id}/`, {\n//           content: formContent.trim(),\n//         });\n//         console.log(\"cserror2\")\n//         setComments((prevComments) => ({\n//           ...prevComments,\n//           results: prevComments.results.map((comment) => {\n//             return comment.id === id\n//               ? {\n//                   ...comment,\n//                   content: formContent.trim(),\n//                   updated_at: \"now\",\n//                 }\n//               : comment;\n//           }),\n//         }));\n//         console.log(\"cserror3\")\n//         setVisibleEditForm(false);\n//       } catch (err) {\n//         console.log(err);\n//       }\n//     };\n  \n//     return (\n//       <Form onSubmit={handleSubmit}>\n//         <Form.Group className=\"pr-1\">\n//           <Form.Control\n//             className={styles.Form}\n//             as=\"textarea\"\n//             value={formContent}\n//             onChange={handleChange}\n//             rows={2}\n//           />\n//         </Form.Group>\n//         <div className=\"text-right\">\n//           <button\n//             className={btnStyles.Button}\n//             onClick={() => setVisibleEditForm(false)}\n//             type=\"button\"\n//           >\n//             cancel\n//           </button>\n//           <button\n//             className={btnStyles.Button}\n//             disabled={!content.trim()}\n//             type=\"submit\"\n//           >\n//             save\n//           </button>\n//         </div>\n//       </Form>\n//     );\n//   }\n  \n//   export default EditCommentForm;\n\n\n// function EditCommentForm(props) {\n//     const { id, content, setEditCommentForm, setComments } = props;\n\n//     /** Set state to edit with the comments contents in state. */\n//     const [formContent, setFormContent] = useState(content);\n\n//     const handleChange = (event) => {\n//         setFormContent(event.target.value);\n//     };\n\n//     const handleSubmit = async (event) => {\n//         event.preventDefault();\n//         try {\n//             await axiosRes.put(`/comments/${id}/`, {\n//                 content: formContent.trim(),\n//             });\n//             setComments((prevComments) => ({\n//                 ...prevComments,\n//                 results: prevComments.results.map((comment) => {\n//                     return comment.id === id\n//                         ? {\n//                             ...comment,\n//                             content: formContent.trim(),\n//                             updated_at: \"now\",\n//                         }\n//                         : comment;\n//                 }),\n//             }));\n//             setEditCommentForm(false);\n//         } catch (err) {\n//             console.log(err);\n//         }\n//     };\n\n//     return (\n//         <Form onSubmit={handleSubmit}>\n//             <Form.Group className=\"pr-1\">\n//                 <Form.Control\n//                     className={styles.ContentText}\n//                     as=\"textarea\"\n//                     value={formContent}\n//                     onChange={handleChange}\n//                     rows={2}\n//                 />\n//             </Form.Group>\n//             <div className=\"text-right\">\n//                 <button\n//                     className={btnStyles.Button}\n//                     onClick={() => setEditCommentForm(false)}\n//                     type=\"button\"\n//                 >\n//                     Cancel changes\n//                 </button>\n//                 <button\n//                     className={btnStyles.Button}\n//                     disabled={!content.trim()}\n//                     type=\"submit\"\n//                 >\n//                     Save the Comment\n//                 </button>\n//             </div>\n//         </Form>\n//     );\n// }\n\n// export default EditCommentForm;","import React, { useState } from \"react\";\nimport { Media } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\nimport Avatar from \"../../components/Avatar\";\nimport { DropDownMenu } from \"../../components/DropDownMenu\";\nimport styles from \"../../styles/CommentContent.module.css\"\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\"\nimport { axiosRes } from \"../../api/axiosDefaults\";\n// import EditCommentForm from \"./EditCommentForm\";\nimport CommentEditForm from \"./EditCommentForm\";\n/** Credit to creating within project, building this from Code Institute coursework \n * and redeveloped. */\n\nconst CommentContent = ({ profile_image, profile_id, owner, content, updated_at, setComments, setBlurb, id }) => {\n\n    // State to toggle Edit form for comments.\n    // const [editCommentForm, setEditCommentForm] = useState(false);\n    // const [visibleEditForm, setVisibleEditForm] = useState(false);\n    const [showEditForm, setShowEditForm] = useState(false);\n    // Set current user context.\n    const currentUser = useCurrentUser();\n\n    // Check if owner is currently logged in use who owns the comment for edit and deleting permission.\n    const is_owner = currentUser?.username === owner;\n\n    // Handler for deleting comment with try catch block.\n    const handleDeleting = async () => {\n        try {\n            // Use Axios response instance to make delete request to comment url with particular id.\n            await axiosRes.delete(`/comments/${id}/`)\n            setBlurb((prevBlurb) => ({\n                results: [\n                    {\n                        // Spread setblurb objects results and reduce comment count by 1\n                        ...prevBlurb.results[0],\n                        comments_count: prevBlurb.results[0].comments_count - 1,\n                    },\n                ],\n            }))\n            setComments((prevComments) => ({\n                // Spread comments results.\n                ...prevComments,\n                // Filter through and check if comment with id no longer exists, \n                // return array without the removed comment.\n                results: prevComments.results.filter((comment) => comment.id !== id),\n            }));\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n\n    return (\n        <>\n            <hr />\n            <Media>\n                <Link to={`/profiles/${profile_id}`}>\n                    <Avatar src={profile_image} />\n                </Link>\n                <Media.Body>\n                    <span className={styles.OwnerName}>{owner}</span>\n                    <span className={styles.UpdatedDate}>{updated_at}</span>\n                    {showEditForm ? (\n                        <CommentEditForm\n                            id={id}\n                            profile_id={profile_id}\n                            content={content}\n                            profileImage={profile_image}\n                            setComments={setComments}\n                            setShowEditForm={setShowEditForm}\n                        />\n                    ) : (\n                        <p className={styles.CommentText}>{content}</p>\n                    )}\n                </Media.Body>\n                {is_owner && !showEditForm && (\n                    // DropDownMenu Icon shown and used for editing and deleting comments. \n                    // Same as blurb.\n                    // Props passed are edit and delete handlers.\n                    <DropDownMenu\n                        // Pass handle edit function to handle edit using setShowEditForm\n                        // from EditCommentForm.js\n                        handleEditing={() => setShowEditForm(true)}\n                        // Pass handle delete function to handle delete prop.\n                        handleDeleting={handleDeleting}\n                    />\n                )}\n            </Media>\n        </>\n    );\n};\n\nexport default CommentContent;","import { axiosReq, axiosRes } from \"../api/axiosDefaults\";\nimport { followHelper, unfollowHelper } from \"../utils/utils\";\nimport { useCurrentUser } from \"./CurrentUserContext\";\nimport { createContext, useContext, useEffect, useState } from \"react\";\n\n/** Profile content created during Coursework content with Code Institute. */\n\n// Create two context objects to get and set data.\nexport const ProfileContext = createContext();\nexport const SetProfileContext = createContext();\n\n// Create two hooks for each context object.\n\nexport const useProfileData = () => useContext(ProfileContext);\nexport const useSetProfileData = () => useContext(SetProfileContext);\n\nexport const ProfileDataProvider = ({ children }) => {\n\n\n    const [profileData, setProfileData] = useState({\n        // we will use the pageProfile later!\n        pageProfile: { results: [] },\n        popularFollowers: { results: [] },\n    });\n\n    const currentUser = useCurrentUser();\n\n    const handleUnFollow = async (clickedProfile) => {\n        try {\n            await axiosRes.delete(`/followers/${clickedProfile.following_id}`);\n            setProfileData((prevState) => ({\n                ...prevState,\n                pageProfile: {\n                    results: prevState.pageProfile.results.map((profile) =>\n                        unfollowHelper(profile, clickedProfile)\n                    ),\n                },\n                popularFollowers: {\n                    ...prevState.popularFollowers,\n                    results: prevState.popularFollowers.results.map((profile) =>\n                        unfollowHelper(profile, clickedProfile)\n                    ),\n                },\n            }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    const handleFollow = async (clickedProfile) => {\n        try {\n            const { data } = await axiosRes.post('/followers/', {\n                followed: clickedProfile.id\n            });\n\n            setProfileData(prevState => ({\n                ...prevState,\n                pageProfile: {\n                    results: prevState.pageProfile.results.map((profile) =>\n                        // Auto import mapping over array function for following, \n                        // call it on each value.\n                        followHelper(profile, clickedProfile, data.id)),\n                },\n                popularFollowers: {\n                    ...prevState.popularFollowers,\n                    results: prevState.popularFollowers.results.map((profile) =>\n                        // Auto import mapping over array function for following \n                        // in popular.\n                        followHelper(profile, clickedProfile, data.id)),\n                },\n            }));\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    useEffect(() => {\n        const handleMount = async () => {\n            try {\n                const { data } = await axiosReq.get(\n                    // Axios request for most followed profiles.\n                    // Most popular at the top.\n                    \"/profiles/?ordering=-followers_count\"\n                );\n                // Set new profile state.\n                setProfileData((prevState) => ({\n                    ...prevState,\n                    popularFollowers: data,\n                }));\n            } catch (err) {\n                console.log(err);\n            }\n        };\n\n        handleMount();\n        // Get profiles depending on state of current user. Use useState to access\n        // current user information.\n    }, [currentUser]);\n\n\n    return (\n        <ProfileContext.Provider value={profileData}>\n            <SetProfileContext.Provider\n                value={{ setProfileData, handleUnFollow, handleFollow }}>\n                {children}\n            </SetProfileContext.Provider>\n        </ProfileContext.Provider>\n    );\n};\n","import React from \"react\";\n\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\nimport Avatar from \"../../components/Avatar\";\nimport Button from \"react-bootstrap/Button\";\nimport appStyles from \"../../styles/Profiles.module.css\"\nimport { useSetProfileData } from \"../../contexts/ProfileContext\";\n\n// Pasing props. Image size will set Avatar size. \n// Renders profile and image by component.\nconst UserProfile = ({ profile, imageSize = 35 }) => {\n    // Get fields for profile prop to use.\n    const { id, following_id, image, owner } = profile;\n\n    // Check if user owns the profile.\n    const currentUser = useCurrentUser();\n    const is_owner = currentUser?.username === owner;\n\n    const { handleUnFollow, handleFollow } = useSetProfileData();\n\n    return (\n        // Align profile avatar picture and the owner name. Make gap between each user.\n        <div className=\"d-flex align-items-center my-2\">\n            <div>\n                <Link to={`/profiles/${id}`}>\n                    {/* Prop to be passed set in Avatar component.\n                    imageSize set as different sized prop in UserProfile prop. */}\n                    <Avatar src={image} height={imageSize} />\n                </Link>\n            </div>\n            <div className=\"mx-2\">\n                {owner}\n            </div>\n            <div className=\"text-wrap\">\n                {/* Check if current user is logged in \n                and not the owner of the profile being followed. */}\n                {currentUser && !is_owner && (\n                    // If the following_id does exist - unfollow, otherwise, follow avaliable.\n                    following_id ? (\n                        // Bootstrap Button.\n                        <Button\n                            className={`${appStyles.OtherButton} mx-2`}\n                            onClick={() => handleUnFollow(profile)}\n                        >Unfollow</Button>\n                    ) : (\n                        <Button\n                            className={`${appStyles.FollowStatusButton} mx-2`}\n                            // Pass profile as argument as user just clicked.\n                            onClick={() => handleFollow(profile)}\n                        >Follow</Button>\n                    )\n                )}\n\n            </div>\n        </div>\n    )\n}\n\nexport default UserProfile;","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport styles from \"../../styles/App.module.css\";\nimport Display from \"../../components/Display\";\n// import { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n// import { axiosReq } from \"../../api/axiosDefaults\";\nimport UserProfile from \"./UserProfile\";\nimport { useProfileData } from \"../../contexts/ProfileContext\";\n// import { useProfileData } from \"../../contexts/ProfileDataContext\";\n// import UserProfile from \"./UserProfile\";\n\n// mobile prob added for better viewing on  smaller devices.\nconst Popular = ({ mobile }) => {\n    const { popularFollowers } = useProfileData();\n\n    return (\n        <Container className={`${styles.ContainerContent} ${mobile && 'd-lg-none text-center mb-3 text-wrap'}`}>\n\n            {popularFollowers.results.length ? (\n\n                <>\n                    <p>Popular</p>\n                    {/* Access profile information and display id and name. */}\n                    {/* Check if there are any popular users. Look through them and display the name. */}\n                    {mobile ? (\n                        <div className=\"d-flex justify-content-around\">\n                            {/* Slice the followers profiles and only show the top 3 popular profiles. */}\n                            {popularFollowers.results.slice(0, 2).map((profile) => (\n                                // Access profile prop with a key to make sure the current user\n                                // accesses the correct user profile.\n                                <UserProfile key={profile.id} profile={profile} mobile />\n                            ))}\n                        </div>\n                    ) : (\n                        popularFollowers.results.map((profile) => (\n                            // Access profile prop with a key to make sure the current user\n                            // accesses the correct user profile.\n                            <UserProfile key={profile.id} profile={profile} />\n                        ))\n                    )}\n\n                </>\n            ) : (\n                // As API makes request, you can see the loading spinner.\n                <Display spinner />\n            )}\n        </Container >\n    );\n};\n\nexport default Popular;","import React, { useEffect, useState } from \"react\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport styles from \"../../styles/BlurbsForm.module.css\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useParams } from \"react-router\";\nimport Blurb from \"./Blurb\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport CreateCommentForm from \"../Comments/CreateCommentForm\";\nimport CommentContent from \"../Comments/comment\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchedMoreData } from \"../../utils/utils\";\nimport Display from \"../../components/Display\";\nimport Popular from \"../profiles/Popular\";\n\nfunction ShowBlurbPage() {\n    /** Set id to get each blurb */\n    const { id } = useParams();\n    /**useState to store errors used. Imported.*/\n    // const [errors, setErrors] = useState({});\n\n    \n\n    const currentUser = useCurrentUser();\n    const profile_image = currentUser?.profile_image;\n    \n    /** Set to get a single object or an array of comments.*/\n    const [comments, setComments] = useState({ results: [] });\n\n    /** Set to get a single object or an array of blurbs.*/\n    const [blurb, setBlurb] = useState({ results: [] });\n\n\n    useEffect(() => {\n        const handleMount = async () => {\n            try {\n                /** Fetch destructed data from API with axios Request.  */\n                const [{ data: blurb }, { data: comments }] = await Promise.all([\n\n                    /** Axios blurb request with id. */\n                    axiosReq.get(`/blurbs/${id}`),\n\n                    /**Axios comments request with id from the particular blurb requested. */\n                    axiosReq.get(`/comments/?blurb=${id}`),\n                ]);\n                /** Update blurb state to display. */\n                setBlurb({ results: [blurb] });\n                console.log(blurb, \"errsettingBlurb\")\n                /** Update state and display comments to users. */\n                setComments(comments);\n\n            } catch (err) {\n                console.log(err, \"errsettingBlurbCatch\")\n\n            }\n        }\n        handleMount();\n    }, [id]);\n\n    /** Credit to creating within project, from Code Institute coursework */\n\n    return (\n        <Row>\n            <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n                <Popular />\n                <Blurb {...blurb.results[0]} setBlurb={setBlurb} blurbPage />\n                <Container className={styles.ContainerContent}>\n                    {currentUser ? (\n                        <CreateCommentForm\n                            profile_id={currentUser.profile_id}\n                            profileImage={profile_image}\n                            blurb={id}\n                            setBlurb={setBlurb}\n                            setComments={setComments}\n                        />\n                    ) : comments.results.length ? (\n                        \"Comments\"\n                    ) : null}\n                    {comments.results.length ? (\n                        <InfiniteScroll\n                            children={comments.results.map((comment) => (\n                                <CommentContent\n                                    key={comment.id}\n                                    {...comment}\n                                    setBlurb={setBlurb}\n                                    setComments={setComments}\n                                />\n                            ))}\n                            dataLength={comments.results.length}\n                            loader={<Display spinner />}\n                            hasMore={!!comments.next}\n                            next={() => fetchedMoreData(comments, setComments)}\n                        />\n\n                        // comments.results.map((comment) => (\n                        //     /** Spread comments, objects passed as props with id to each comment.*/\n                        //     /**Add setComments and setBlurb props, for edited and deleting comments.\n                        //      * Add to prop in comment.js with id field. */\n                        //     <CommentContent key={comment.id} {...comment} setComments={setComments} setBlurb={setBlurb} />\n                        // ))\n                    ) : currentUser ? (\n                        <span>Be the first to comment!</span>\n                    ) : (\n                        <span>Log in before you can create comments!</span>\n                    )}\n                </Container>\n            </Col>\n            {/* <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\n                <p>Most Voted for blurbs for desktop.</p>\n            </Col> */}\n        </Row>\n    );\n\n};\n\nexport default ShowBlurbPage;","export default __webpack_public_path__ + \"static/media/Nothing.dc6555eb.jpg\";","import Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Col\";\nimport NoResult from \"../../assets/images/Nothing.jpg\"\nimport styles from \"../../styles/AllBlurbs.module.css\"\nimport { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport Blurb from \"./Blurb\";\nimport Display from \"../../components/Display\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchedMoreData } from \"../../utils/utils\";\nimport Popular from \"../profiles/Popular\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nfunction AllBlurbs(props) {\n    /**Get blurbs on log in and log out by \n     * adding it to dependancy array for in useEffect. */\n    const currentUser = useCurrentUser();\n\n    /**Search Bar state. add search to axiosReq and set*/\n    const [query, setQuery] = useState(\"\");\n\n    /** Sets props. Set default empty string */\n    const { message, filter = \"\" } = props;\n\n    /** Store objects in results array.*/\n    // const { blurb } = useBlurbData();\n    const [blurb, setBlurb] = useState({ results: [] });\n\n    /** Check if all data fetched. */\n    const [hasLoaded, setHasloaded] = useState(false);\n\n    /** To refetch blurbs when owners move between home, newsfeed and votes pages. \n     * From React router Hook to return objects with data about URL. \n     * Credit to Code Institute Coursework project Moments. */\n    const { pathname } = useLocation();\n\n    useEffect(() => {\n        const fetchBlurbs = async () => {\n            try {\n                /**Filter prop is used to filter what the user will see. \n                 * Followed/voted for blurbs. */\n                const { data } = await axiosReq(`/blurbs/?${filter}search=${query}`);\n                setBlurb(data);\n                setHasloaded(true);\n                console.log(\"data set:\", data)\n            } catch (err) {\n                console.log(err, \"fetchBlurbs err\");\n\n            }\n        };\n        /**reset loading spin to show to user each time. */\n        setHasloaded(false);\n        /**Run useEffect each time the filter, search query or path changes. */\n        const timeOut = setTimeout(() => {\n            console.log(\"timeout1\")\n            fetchBlurbs();\n        }, 2000);\n\n        return () => {\n            console.log(\"timeout2\")\n            clearTimeout(timeOut)\n        };\n\n    }, [filter, pathname, query, currentUser]);\n\n    /** Created to Code Institute, created while producing coursework. */\n\n    return (\n        <Row>\n            {/* className=\"py-2 p-0 p-md-2\" */}\n            <Col lg={8}>\n                <Col md={5}>\n                    <Popular />\n                </Col>\n                {/* <i classnAME=\"fa-brands fa-searchengin\"></i> */}\n                {/* Search Bar searches by title or user. */}\n                <Form\n                    // Stop page refreshing if 'Enter' hit.\n                    onSubmit={(event) => event.preventDefault()}>\n                    <Form.Control\n                        className={styles.SearchBar}\n                        type=\"text\"\n                        placeholder=\"START A SEARCH...\"\n                        /**Set query to run search */\n                        value={query}\n                        // API request handed by onChange event and updates.\n                        onChange={(event) => setQuery(event.target.value)}\n                    />\n\n                </Form>\n\n                {hasLoaded ? (\n                    <>\n                        {blurb.results.length ? (\n                            /** Map blurb and enter into children prop. */\n                            <InfiniteScroll\n                                children={\n                                    blurb.results.map(blurb => (\n                                        <Blurb key={blurb.id} {...blurb} setBlurb={setBlurb} />\n                                    ))\n                                }\n                                // scrollThreshold={250}\n                                /** Infinite Scroll props */\n                                /** Say how many blurb data results there are. */\n                                dataLength={blurb.results.length}\n                                /**Use spinner component in Display.js */\n                                loader={<Display spinner />}\n                                /** If 'has more' is true, run 'next' prop. */\n                                hasMore={!!blurb.next}\n                                /** Created and imported from utils for 'next' prop function,\n                                 * to be used on other pages. \n                                 * Set resource prob to blurb and setBlurb. */\n                                next={() => fetchedMoreData(blurb, setBlurb)}\n                            />\n\n                        ) : (\n                            <Display src={NoResult} message={message} />\n                        )}\n                    </>\n\n                ) : (\n                    <Display spinner />\n                )}\n\n            </Col>\n\n        </Row>\n    );\n\n};\n\nexport default AllBlurbs;","import React, { useEffect, useRef, useState } from \"react\";\n\n/** Imported all separately to improve wesbite loading time. */\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\n\nimport styles from \"../../styles/BlurbsForm.module.css\";\nimport appStyles from \"../../styles/App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n//import { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { useHistory } from \"react-router\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport { useParams } from \"react-router\";\n\n// import { useRedirect } from \"../../hooks/useRedirect\";\n\nfunction EditBlurbForm() {\n    //   useRedirect(\"loggedOut\");\n    // Get id from URL of the content the owner wants to edit - /blurbs/id/edit using Hook from React.\n    const { id } = useParams();\n\n    /**useState to store errors used. Imported.*/\n    const [errors, setErrors] = useState({});\n\n    const [blurbData, setBlurbData] = useState({\n        title: \"\",\n        content: \"\",\n        // category: \"\",\n        image: null,\n    });\n\n    /** Set variables for input value. */\n    const { title, content, image } = blurbData;\n\n    /** Create ref prop for Form.File. */\n    const imageInput = useRef(null);\n\n    /** useHistory Hook from React Router. Imported. */\n    /** Handle redirect from React Router. */\n    const history = useHistory();\n\n    useEffect(() => {\n        const handleMount = async () => {\n            try {\n                const { data } = await axiosRes.get(`/blurbs/${id}/`)\n                /** Destructor data received from the API - A blurb with requested id for editing. */\n                const { title, content, image, is_owner } = data;\n                /** Fields can be repopulated when mounted or they will be redirected if not the owner of the blurb being edited. */\n                is_owner ? setBlurbData({ title, content, image }) : history.push('/');\n            } catch (err) {\n                console.log(err, \"in editing page\");\n\n            }\n        };\n        /** call func in useEffect Hook. */\n        handleMount();\n        /** Run when either dependancy changes */\n    }, [history, id]);\n\n    /** Handle change for title, content. */\n    const handleChange = (event) => {\n        setBlurbData({\n            // Access all data without deleting previous item.\n            ...blurbData,\n            [event.target.name]: event.target.value,\n        });\n    };\n\n    /**Handle change for image content. */\n    const handleChangeImage = (event) => {\n        if (event.target.files.length) {\n            // Stores Image and lets user change URL of image.\n            URL.revokeObjectURL(image);\n            setBlurbData({\n\n                // Access all data without deleting previous item.\n                ...blurbData,\n\n                // Set image to URL set.\n                image: URL.createObjectURL(event.target.files[0]),\n            });\n        }\n    };\n\n    const handleSubmit = async (event) => {\n        /**Prevent page refresh. */\n        event.preventDefault();\n        /**Create variable to append for each state. */\n        const formData = new FormData();\n\n        formData.append(\"title\", title);\n        formData.append(\"content\", content);\n\n        // Checks to see if user has selected an image, if so, then add image file to formData otherwise set to null.\n\n        if (imageInput.current.files[0]) {\n            formData.append('image', imageInput);\n        }\n        /**Check if image is changed, if not, submit edited fields with image in file. */\n\n        // due to multidata.\n        try {\n            /** axios updated to new edited blurb. Pass id to point to particular blurb. */\n            await axiosReq.put(`/blurbs/${id}/`, formData);\n            /**Redirect back to edited post. */\n            history.push(`/blurbs/${id}/`);\n        } catch (err) {\n            console.log(err);\n            /** catch errors and set. */\n            if (err.response?.status !== 401) {\n                setErrors(err.response?.data);\n            }\n        }\n    };\n\n    /** Set Fields for user input */\n    const textInputFields = (\n        <div className=\"text-center\">\n\n            {/* Fields for Blurb form. */}\n            <Form.Group>\n                <Form.Label>Title</Form.Label>\n                <Form.Control\n                    type=\"text\"\n                    name=\"title\"\n                    value={title}\n                    onChange={handleChange}\n                />\n            </Form.Group>\n\n            {/* Error for title field and error key changed.*/}\n            {errors?.title?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n\n            <Form.Group>\n                <Form.Label>Content</Form.Label>\n                <Form.Control\n                    as=\"textarea\"\n                    rows={8}\n                    name=\"content\"\n                    value={content}\n                    onChange={handleChange}\n                />\n            </Form.Group>\n\n            {/* Error for content field and error key changed.*/}\n            {errors?.content?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n\n            {/* <Form.Group>\n                <Form.Label>Category</Form.Label>\n                <Form.Control\n                    as=\"textarea\"\n                    rows={6}\n                    name=\"category\"\n                    value={category}\n                    onChange={handleChange}\n                />\n            </Form.Group>\n            {errors?.content?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))} */}\n\n            {/* Button will redirect back page with no changes if cancelled. */}\n            <Button\n                className={btnStyles.Button}\n                onClick={() => history.goBack()}\n            >\n                Cancel\n            </Button>\n            {/** Button creates new blurb on submit. */}\n            <Button className={btnStyles.Button} type=\"submit\">\n                Save edits.\n            </Button>\n        </div>\n    );\n\n    return (\n        <Form onSubmit={handleSubmit}>\n            <Row>\n                <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n                    <Container\n                        className={styles.Container}\n                    >\n                        <Form.Group className=\"text-center\">\n                            <figure>\n                                {/* Bootstrap Image component. */}\n                                <Image className={appStyles.Image} src={image} rounded />\n                            </figure>\n                            <div>\n                                <Form.Label\n                                    className={btnStyles.Button}\n\n                                    /** Link to id in Form.File for uploading image */\n                                    htmlFor=\"image-upload\"\n                                >\n                                    Change the image\n                                </Form.Label>\n                            </div>\n\n                            <Form.File\n                                /**Set type prop */\n                                type=\"file\"\n                                /** Link to htmlFor in Form.Label for uploading image */\n                                id=\"image-upload\"\n                                /**update_to set in model imageFields */\n                                accept=\"image/*\"\n                                onChange={handleChangeImage}\n                                ref={imageInput}\n                            />\n                        </Form.Group>\n\n                        {/**Error caught, Alert messge shown to user. */}\n                        {errors?.image?.map((message, idx) => (\n                            <Alert variant=\"warning\" key={idx}>\n                                {message}\n                            </Alert>\n                        ))}\n\n                        {/* Returned value of const textField for mobile device view. */}\n                        <div className=\"d-md-none\">{textInputFields}</div>\n                    </Container>\n                </Col>\n                <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\n\n                    {/* Returned value of const textField for title and content. */}\n                    <Container>{textInputFields}</Container>\n                </Col>\n            </Row>\n        </Form>\n    );\n}\n\nexport default EditBlurbForm;","import React, { useState } from \"react\";\nimport Container from \"react-bootstrap/esm/Container\";\nimport styles from \"../../styles/App.module.css\";\n//import { useHistory, useParams } from \"react-router\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n//import { Alert } from \"bootstrap\";\nimport btnStyles from \"../../styles/Button.module.css\"\nimport { Button, Form, InputGroup } from \"react-bootstrap\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n// import { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\nimport Avatar from \"../../components/Avatar\";\nimport { useHistory } from \"react-router\";\n// import { Rating } from \"react-simple-star-rating\" \n\n// User can send a form to the admin as feedback or with questions.\nconst CreateReviewForm = (props) => {\n    // const { review, profile_id, profileImage, setReviews } = props\n    const { profile_id, profileImage } = props\n    useRedirect(\"loggedOut\");\n    const [content, setContent] = useState(\"\");\n    const [review, setReviews] = useState([]);\n\n    // Use history hook to go back to profile page to see user review chat.\n    const history = useHistory();\n\n    // Set initial rating value to 0.\n    // const [rating, setRating] = useState(0)\n\n    // const handleRating = (rate) => {\n    //     setRating(rate / 5);\n    // };\n\n    // const handleReset = () => {\n    //     setRating(0)\n    // }\n\n    // Handle change for contact data.\n    const handleChange = (event) => {\n        setContent(event.target.value);\n    }\n\n    // Handle submission of reviewed data and post by axios request \n    // with the new data from the form.\n    // Submitting form from within return statement.\n    const handleSubmit = async (event) => {\n        // Added handlesubmit logic to default behaviour.\n        try {\n            // Pst response make to API /reviews/\n            console.log(\"logged\", props.reviews)\n            // console.log(\"errorProfile:\", review)\n            // console.log(\"errorContent:\", content)\n            const { data } = await axiosRes.post(\"/reviews/\", {\n                review,\n                content,\n            });\n            history.goBack();\n            setReviews({ ...props.reviews, results: [...props.reviews.results, data] });\n            setContent(\"\");\n\n            setTimeout(() => {\n                console.log(props.reviews)\n            }, 2000)\n        } catch (err) {\n            console.log(err, \"reviewHS\");\n            console.log(err.response)\n        }\n    }\n\n    return (\n        <div>\n            <Container className={styles.ContainerContent}>\n                {/* Sent form to admin on submit. */}\n                <Form onSubmit={handleSubmit}>\n                    <Form.Group>\n                        <InputGroup>\n                            <Link to={`/profiles/${profile_id}`}>\n                                <Avatar src={profileImage} />\n                            </Link>\n                            <p>\n                                <Form.Control\n                                    placeholder=\"Tap here to chat...\"\n                                    as=\"textarea\"\n                                    value={content}\n                                    onChange={handleChange}\n                                    row={2}\n                                ><Link to={`/profiles/${profile_id}`}>\n                                        <Avatar src={profileImage} />\n                                    </Link></Form.Control>\n                            </p>\n                        </InputGroup>\n                    </Form.Group>\n                    {/* <Form.Group>\n                        <Rating  onClick={handleRating}/>\n                    </Form.Group> */}\n                    <Button\n                        className={btnStyles.Button}\n                        // disabled={!content.trim()}\n                        type=\"submit\"\n                    >\n                        Chat!\n                    </Button>\n\n                </Form>\n            </Container>\n        </div>\n    )\n}\n\nexport default CreateReviewForm;","import React, { useEffect, useState } from \"react\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport Display from \"../../components/Display\";\nimport styles from \"../../styles/ProfileHome.module.css\";\nimport appStyles from \"../../styles/Profiles.module.css\"\nimport Popular from \"./Popular\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { useParams } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useProfileData, useSetProfileData } from \"../../contexts/ProfileContext\";\nimport { Button, Image } from \"react-bootstrap\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Blurb from \"../Blurbs/Blurb\";\nimport { fetchedMoreData } from \"../../utils/utils\";\nimport NoResults from \"../../assets/images/Nothing.jpg\";\nimport { ProfileEditDropdown } from \"../../components/DropDownMenu\";\nimport CreateReviewForm from \"../Reviews/CreateReviewForm\";\n\n/** Profile content created during Coursework content with Code Institute. */\n// Get profile name and image for Avatar links in each review from each user.\n// Image size is set for main profile picture.\nfunction ProfileHome({ imageSize = 200 }) {\n    // Show spinner depending on if a page has loaded or not yet.\n    const [hasLoaded, setHasLoaded] = useState(false);\n    const currentUser = useCurrentUser();\n\n\n    // Extract id from url using hook.\n    const { id } = useParams();\n\n    // Update page profile data.\n    const { setProfileData, handleUnFollow, handleFollow } = useSetProfileData();\n\n    // Destructor to access page profile data and save in useProfileData hook.\n    const { pageProfile } = useProfileData();\n\n    // Destructor single profile object.\n    const [profile] = pageProfile.results;\n\n    // Check if owner is logged in.\n    const is_owner = currentUser?.username === profile?.owner;\n\n    // useState hook with empty array object for getting profiles.\n    const [profilePosts, setProfilePosts] = useState({ results: [] });\n\n    const profile_image = currentUser?.profile_image;\n    const [review, setReview] = useState({ results: [] });\n\n    // API request\n    useEffect(() => {\n        const fetchedData = async () => {\n            try {\n                const [{ data: pageProfile }, { data: profilePosts }, { data: review }] =\n                    await Promise.all([\n                        // Get the profile of the user by id, alongside their blurbs. \n                        axiosReq.get(`/profiles/${id}/`),\n                        axiosReq.get(`/blurbs/?owner__profile=${id}`),\n                        // fetch reviews from API for a profile.\n                        axiosReq.get(`/reviews/?owner__profile=${id}`),\n                    ]);\n                setProfileData(prevState => ({\n                    ...prevState,\n                    pageProfile: { results: [pageProfile] }\n                }))\n                // call function in useEffect hook.\n                setProfilePosts(profilePosts);\n                console.log(\"fetchReview\", review)\n                setReview(review);\n                // Stop spinner showing as blurbs are rendered.\n                setHasLoaded(true);\n            } catch (err) {\n                console.log(err)\n\n            }\n        }\n\n        fetchedData();\n    }, [id, setProfileData, setReview]);\n\n    const mainProfile = (\n        <>\n            {/* If owner owns profile being requested to edit, \n            show dropdown menu at the top of the profile. */}\n            {profile?.is_owner && <ProfileEditDropdown id={profile?.id} />}\n            <Row className=\"px-3 text-center\">\n                <Col lg={3} className=\"text-lg-left\">\n                    {/* Use imagesize prop to set size. */}\n                    <Image rounded src={profile?.image} height={imageSize} width={imageSize} />\n                </Col>\n                <Col lg={8}>\n                    <h3 className=\"m-2\">{profile?.owner}</h3>\n                    <Row className=\"justify-content-center no-gutters\" >\n                        <Col xs={4} className=\"m-1\">\n                            {/* Set the amount of blurbs the user has. */}\n                            <div>{profile?.blurbs_count}</div>\n                            <div>Blurbs</div>\n                        </Col>\n                        <Col xs={4} className=\"m-1\">\n                            {/* Set the amount of followers the user has. */}\n                            <div>{profile?.followers_count}</div>\n                            <div>Followers</div>\n                        </Col>\n                        <Col xs={4} className=\"m-1\">\n                            {/* Set the amount of other users following the user who is logged in. */}\n                            <div>{profile?.following_count}</div>\n                            <div>Following</div>\n                        </Col>\n                    </Row>\n                </Col>\n                <Col lg={1} className=\"text-lg-right text-wrap\">\n                    {currentUser && !is_owner && (profile?.following_id ? (\n                        // Unfollow a user profile on click.\n                        <Button\n                            classname={`${appStyles.OtherButton} mx-2 `}\n                            onClick={() => handleUnFollow(profile)}\n                        >\n                            Unfollow\n                        </Button>\n                    ) : (\n                        // Follow a user profile on click\n                        <Button\n                            className={`${appStyles.FollowStatusButton} mx-2`}\n                            onClick={() => handleFollow(profile)}\n                        >\n                            Follow\n                        </Button>\n                    ))}\n                </Col>\n                {/* Conditionally render if the content is defined. */}\n                {profile?.content && (<Col className=\"p-3\">{profile.content}</Col>)}\n            </Row>\n        </>\n    );\n\n    const mainProfilePosts = (\n        <>\n            <hr />\n            <p className=\"text-center\">{profile?.owner}'s Blurbs.</p>\n            <hr />\n            {profilePosts.results.length ? (\n                <InfiniteScroll\n                    children={profilePosts.results.map((blurb) => (\n                        <Blurb key={blurb.id} {...blurb} setBlurb={setProfilePosts} />\n                    ))}\n                    dataLength={profilePosts.results.length}\n                    loader={<Display spinner />}\n                    // Set the next page of blurbs from API 'next' field.\n                    hasMore={!!profilePosts.next}\n                    next={() => fetchedMoreData(profilePosts, setProfilePosts)}\n                />\n            ) : (\n                <Display\n                    src={NoResults}\n                    message={`No results found, ${profile?.owner} hasn't posted yet.`}\n                />\n            )}\n        </>\n    );\n\n    return (\n        <Row>\n            <Col className=\"py-2 p-0 p-lg-2\">\n                <Col lg={8} className=\"py-2 p-0 p-lg-2\">\n                    {/* Popular people will be at the top. On mobile screen, only 2 will be viewed. */}\n                    <Popular mobile />\n                    <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\n                        <Popular />\n                    </Col>\n                    <Container className={styles.ContainerContentThreadReviews}>\n                        {/* Input for thread from CreateReviewForm for all\n                        users to post here. */}\n                        {currentUser ? (\n                            <CreateReviewForm mobile\n                                profile_id={currentUser.profile_id}\n                                profileImage={profile_image}\n                                reviews={review}\n                                setReview={setReview}\n                                review={id}\n                            />\n                        ) : review.results.length ? (\n                            \"Reviews!\"\n                        ) : null}\n                        {/* Input thread is set to a pagination of 10 and \n                        will remove the oldest and replace with the newest thread feed. */}\n                        {review.results.length ? (\n                            review.results.map((review) => (\n                                <div key={review.id} review={review} className={`${styles.Lined} my-2`}>\n                                    <p className={styles.BigGreen}>{review.owner}:</p>\n                                    <p> {review.content} - {review.updated_at}</p>\n                                </div>\n                            ))\n                        ) : currentUser ? (\n                            <span>No user chat yet!</span>\n                        ) : (\n                            <span>Log in to post in this feed!</span>\n                        )}\n                    </Container>\n                </Col>\n\n                <Container className={styles.ContainerContent}>\n                    {/* Fetch the blurbs and post them or display a spinner when loading. */}\n                    {hasLoaded ? (\n                        <>\n                            {mainProfile}\n                            {mainProfilePosts}\n                        </>\n                    ) : (\n                        <Display spinner />\n                    )}\n                </Container>\n\n            </Col>\n        </Row>\n    );\n}\n\nexport default ProfileHome;","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport {\n    useCurrentUser,\n    useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport styles from \"../../styles/App.module.css\";\n\n// Credit from Code Institute project Moments and updated.\n\nconst UsernameForm = () => {\n    const [username, setUsername] = useState(\"\");\n    const [errors, setErrors] = useState({});\n\n    const history = useHistory();\n    const { id } = useParams();\n\n    const currentUser = useCurrentUser();\n    const setCurrentUser = useSetCurrentUser();\n\n    useEffect(() => {\n        // Convert id number to a string to check the logged in user owns the \n        // profile with the same id.\n        if (currentUser?.profile_id?.toString() === id) {\n            setUsername(currentUser.username);\n        } else {\n            // User gets redircted if they do not own the profile with the right id.\n            history.push(\"/\");\n        }\n    }, [currentUser, history, id]);\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            await axiosRes.put(\"/dj-rest-auth/user/\", {\n                username,\n            });\n            // Set users previous username to new username on submit with new value.\n            setCurrentUser((prevUser) => ({\n                ...prevUser,\n                username,\n            }));\n            history.goBack();\n        } catch (err) {\n            console.log(err);\n            setErrors(err.response?.data);\n        }\n    };\n\n    return (\n        <Row>\n            <Col className=\"py-2 mx-auto text-center\" md={6}>\n                <Container className={styles.ContainerContent}>\n                    <Form onSubmit={handleSubmit} className=\"my-2\">\n                        <Form.Group>\n                            <Form.Label>Change username</Form.Label>\n                            {/* Set value with ne =w username details. */}\n                            <Form.Control\n                                placeholder=\"username\"\n                                type=\"text\"\n                                value={username}\n                                onChange={(event) => setUsername(event.target.value)}\n                            />\n                        </Form.Group>\n                        {errors?.username?.map((message, idx) => (\n                            <Alert key={idx} variant=\"warning\">\n                                {message}\n                            </Alert>\n                        ))}\n                        <Button\n                            className={btnStyles.Button}\n                            onClick={() => history.goBack()}\n                        >\n                            Cancel\n                        </Button>\n                        <Button\n                            className={btnStyles.Button}\n                            type=\"submit\"\n                        >\n                            Save\n                        </Button>\n                    </Form>\n                </Container>\n            </Col>\n        </Row>\n    );\n};\n\nexport default UsernameForm;","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport styles from \"../../styles/App.module.css\";\n\n// Credit from Code Institute project Moments and updated.\n\nconst UserPasswordForm = () => {\n    const history = useHistory();\n    const { id } = useParams();\n    const currentUser = useCurrentUser();\n\n    // Set states for new passwords for comparing inputs.\n    const [userData, setUserData] = useState({\n        new_password1: \"\",\n        new_password2: \"\",\n    });\n\n    // set both passwords to userData.\n    const { new_password1, new_password2 } = userData;\n\n    const [errors, setErrors] = useState({});\n\n    // Spread userData and set the values for change.\n    const handleChange = (event) => {\n        setUserData({\n            ...userData,\n            [event.target.name]: event.target.value,\n        });\n    };\n\n    useEffect(() => {\n        // Convert id number to a string to check the logged in \n        // user owns the profile with the same id.\n        if (currentUser?.profile_id?.toString() !== id) {\n            // Redirect user who do not own the profile with matching id.\n            history.push(\"/\");\n        }\n        // Pass useEffect dependancies for when to change.\n    }, [currentUser, history, id]);\n\n    // Handle submission and post axios request to change user data.\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            await axiosRes.post(\"/dj-rest-auth/password/change/\", userData);\n            history.goBack();\n        } catch (err) {\n            console.log(err);\n            setErrors(err.response?.data);\n        }\n    };\n\n    return (\n        <Row>\n            <Col className=\"py-2 mx-auto text-center\" md={6}>\n                <Container className={styles.ContainerContent}>\n                    {/* Handle submission for the changes made to password. */}\n                    <Form onSubmit={handleSubmit}>\n                        <Form.Group>\n                            <Form.Label>New password</Form.Label>\n                            {/* Handle changes and save new passwords if they both match\n                            on submit button click. */}\n                            <Form.Control\n                                placeholder=\"new password\"\n                                type=\"password\"\n                                value={new_password1}\n                                onChange={handleChange}\n                                name=\"new_password1\"\n                            />\n                        </Form.Group>\n                        {/* Set errors if password do not match. */}\n                        {errors?.new_password1?.map((message, idx) => (\n                            <Alert key={idx} variant=\"warning\">\n                                {message}\n                            </Alert>\n                        ))}\n                        <Form.Group>\n                            <Form.Label>Confirm password</Form.Label>\n                            <Form.Control\n                                placeholder=\"confirm new password\"\n                                type=\"password\"\n                                value={new_password2}\n                                onChange={handleChange}\n                                name=\"new_password2\"\n                            />\n                        </Form.Group>\n                        {/* Set errors if password do not match. */}\n                        {errors?.new_password2?.map((message, idx) => (\n                            <Alert key={idx} variant=\"warning\">\n                                {message}\n                            </Alert>\n                        ))}\n                        <Button\n                            className={btnStyles.Button}\n                            onClick={() => history.goBack()}\n                        >\n                            cancel\n                        </Button>\n                        {/* Submit the changes using button. */}\n                        <Button\n                            type=\"submit\"\n                            className={btnStyles.Button}\n                        >\n                            save\n                        </Button>\n                    </Form>\n                </Container>\n            </Col>\n        </Row>\n    );\n};\n\nexport default UserPasswordForm;","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport {\n    useCurrentUser,\n    useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport styles from \"../../styles/App.module.css\";\n\n// Credit from Code Institute project Moments and updated.\n\nconst ProfileEditForm = () => {\n    const currentUser = useCurrentUser();\n    const setCurrentUser = useSetCurrentUser();\n    const { id } = useParams();\n    const history = useHistory();\n    const imageFile = useRef();\n\n    const [profileData, setProfileData] = useState({\n        name: \"\",\n        content: \"\",\n        image: \"\",\n    });\n    const { name, content, image } = profileData;\n\n    const [errors, setErrors] = useState({});\n\n    useEffect(() => {\n        const handleMount = async () => {\n            if (currentUser?.profile_id?.toString() === id) {\n                try {\n                    const { data } = await axiosReq.get(`/profiles/${id}/`);\n                    const { name, content, image } = data;\n                    setProfileData({ name, content, image });\n                } catch (err) {\n                    console.log(err);\n                    history.push(\"/\");\n                }\n            } else {\n                history.push(\"/\");\n            }\n        };\n\n        handleMount();\n    }, [currentUser, history, id]);\n\n    const handleChange = (event) => {\n        setProfileData({\n            ...profileData,\n            [event.target.name]: event.target.value,\n        });\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        const formData = new FormData();\n        formData.append(\"name\", name);\n        formData.append(\"content\", content);\n\n        if (imageFile?.current?.files[0]) {\n            formData.append(\"image\", imageFile?.current?.files[0]);\n        }\n\n        try {\n            const { data } = await axiosReq.put(`/profiles/${id}/`, formData);\n            setCurrentUser((currentUser) => ({\n                ...currentUser,\n                profile_image: data.image,\n            }));\n            history.goBack();\n        } catch (err) {\n            console.log(err);\n            setErrors(err.response?.data);\n        }\n    };\n\n    const textFields = (\n        <>\n            <Form.Group>\n                <Form.Label>About me</Form.Label>\n                <Form.Control\n                    as=\"textarea\"\n                    value={content}\n                    onChange={handleChange}\n                    name=\"content\"\n                    rows={7}\n                />\n            </Form.Group>\n\n            {errors?.content?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Button\n                className={btnStyles.Button}\n                onClick={() => history.goBack()}\n            >\n                cancel\n            </Button>\n            <Button className={btnStyles.Button} type=\"submit\">\n                save\n            </Button>\n        </>\n    );\n\n    return (\n        <Form onSubmit={handleSubmit}>\n            <Row>\n                <Col className=\"py-2 p-0 p-md-2 text-center\" md={7} lg={6}>\n                    <Container className={styles.ContainerContent}>\n                        <Form.Group>\n                            {image && (\n                                <figure>\n                                    <Image src={image} />\n                                </figure>\n                            )}\n                            {errors?.image?.map((message, idx) => (\n                                <Alert variant=\"warning\" key={idx}>\n                                    {message}\n                                </Alert>\n                            ))}\n                            <div>\n                                <Form.Label\n                                    className={`${btnStyles.Button} btn my-auto`}\n                                    htmlFor=\"image-upload\"\n                                >\n                                    Change the image\n                                </Form.Label>\n                            </div>\n                            <Form.File\n                                id=\"image-upload\"\n                                ref={imageFile}\n                                accept=\"image/*\"\n                                onChange={(e) => {\n                                    if (e.target.files.length) {\n                                        setProfileData({\n                                            ...profileData,\n                                            image: URL.createObjectURL(e.target.files[0]),\n                                        });\n                                    }\n                                }}\n                            />\n                        </Form.Group>\n                        <div className=\"d-md-none\">{textFields}</div>\n                    </Container>\n                </Col>\n                <Col md={5} lg={6} className=\"d-none d-md-block p-0 p-md-2 text-center\">\n                    <Container className={styles.ContainerContent}>{textFields}</Container>\n                </Col>\n            </Row>\n        </Form>\n    );\n};\n\nexport default ProfileEditForm;","import React from 'react'\nimport NoResults from \"../assets/images/Nothing.jpg\"\nimport Display from './Display'\nimport styles from \"../styles/Display.module.css\"\nimport appStyles from \"../styles/App.module.css\"\nimport { Container } from 'react-bootstrap'\nimport { Link } from 'react-router-dom/cjs/react-router-dom'\n\nconst PageNotFound = () => {\n    return (\n        <div className={styles.PageNotFound}>\n            <Display\n                src={NoResults}\n                message={\"Sorry, page does not exist!\"}\n                imageSize={250}\n\n            />\n            <Container className={`${appStyles.Border} ${appStyles.CenterText}`} >\n                <Link className={styles.Link} to=\"/signup\">\n                    Don't have an account? <span>Sign up now!</span>\n                </Link>\n            </Container>\n        </div>\n    )\n}\n\nexport default PageNotFound;","import React, { useState } from \"react\";\nimport Container from \"react-bootstrap/esm/Container\";\nimport styles from \"../../styles/App.module.css\";\nimport { useHistory } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { Alert } from \"bootstrap\";\nimport btnStyles from \"../../styles/Button.module.css\"\nimport { Button, Form } from \"react-bootstrap\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// User can send a form to the admin as feedback or with questions.\nconst CreateContactForm = () => {\n    useRedirect(\"loggedOut\");\n\n    //const [message, setMessage] = useState('')\n\n    // Use state state on contact data to manipulate data.\n    const [contactData, setContactData] = useState({\n        topic: \"\",\n        content: \"\",\n    });\n\n    const history = useHistory();    \n\n    // Set variables for contact data.\n    const { topic, content } = contactData;\n\n    // Set error catching\n    const [errors, setErrors] = useState({});\n\n    // Handle change for contact data.\n    const handleChange = (event) => {\n        setContactData({\n            // Spread contact data and access the value of the name key.\n            ...contactData,\n            [event.target.name]: event.target.value,\n        })\n    }\n\n    // Handle submission of contact data and post by axios request \n    // with the new data from the form. Sent to admin for feedback.\n    // To submit form in return statement.\n    const handleSubmit = async (event) => {\n        // Prevent page refresh when user interacts.\n        event.preventDefault();\n\n        // Check if Data is empty\n        if (!contactData) {\n            setErrors({ ...errors, content: [\"Data cannot be empty\"] });\n            return;\n        }\n\n        // Check if topic is empty\n        if (!topic) {\n            setErrors({ ...errors, topic: [\"Topic cannot be empty\"] });\n            return;\n        }\n        // Check if content is empty\n        if (!content) {\n            setErrors({ ...errors, content: [\"Content cannot be empty\"] });\n            return;\n        }\n\n        const formData = new FormData();\n\n        formData.append(\"topic\", topic);\n        formData.append(\"content\", content);\n\n        try {\n            await axiosReq.post(\"/contacts/\", formData);\n            // On submit go back to previous page.\n            history.goBack();\n\n        } catch (err) {\n            console.log(\"newbie1 contacts POST\")\n            setErrors(err.response?.data);\n        }\n    }\n\n    /** Set Fields for user input */\n    const textInputFields = (\n        <div className=\"text-center\">\n\n            {/* Fields for Contact form. */}\n            <Form.Group>\n                <Form.Label>User Feedback Form</Form.Label>\n                {/* Form topic/title with value of topic set\n                with change topic value handler. */}\n                <Form.Control\n                    type=\"text\"\n                    name=\"topic\"\n                    value={topic}\n                    onChange={handleChange}\n                />\n            </Form.Group>\n\n            {/* If empty, error for title field and error key changed.*/}\n            {errors.topic?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n\n            <Form.Group>\n                <Form.Label>Message</Form.Label>\n                <Form.Control\n                    as=\"textarea\"\n                    rows={8}\n                    name=\"content\"\n                    value={content}\n                    onChange={handleChange}\n                />\n            </Form.Group>\n\n            {/* If empty, error for content field and error key changed.*/}\n            {errors.content?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n\n            {/* Button will redirect back page with no changes if cancelled. */}\n            <Button\n                className={btnStyles.Button}\n                onClick={() => history.goBack()}\n            >\n                Cancel\n            </Button>\n            {/** Button creates a form sent to admin on submit. */}\n            <Button className={btnStyles.Button} type=\"submit\">\n                Send Message.\n            </Button>\n            {errors.non_field_errors?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                    {message}\n                </Alert>\n            ))}\n        </div>\n    );\n\n    return (\n        <div>\n            <Container className={styles.ContainerContent}>\n                {/* Sent form to admin on submit. */}\n                <Form onSubmit={handleSubmit}>\n                    <Container>\n                        {textInputFields}\n                    </Container>\n                </Form>\n            </Container>\n        </div>\n    )\n}\n\nexport default CreateContactForm;","// import logo from './logo.svg';\n// import './App.css';\nimport styles from \"./styles/App.module.css\";\n// import Button from 'react-bootstrap/Button';\nimport NavBar from './components/NavBar';\n/** To Switch between each page via a Route using 'React Routing' */\nimport { Route, Switch } from \"react-router-dom\";\n/** Using Container from 'React Bootstrap */\nimport Container from \"react-bootstrap/Container\";\nimport './api/axiosDefaults';\nimport SignUpForm from \"./pages/auth/SignUpForm\";\nimport LogInForm from \"./pages/auth/LogInForm\";\nimport CreateBlurbForm from \"./pages/Blurbs/CreateBlurbForm\";\nimport ShowBlurbPage from \"./pages/Blurbs/ShowBlurbPage\";\nimport AllBlurbs from \"./pages/Blurbs/AllBlurbs\";\nimport { useCurrentUser } from \"./contexts/CurrentUserContext\";\nimport EditBlurbForm from \"./pages/Blurbs/EditBlurbForm\";\nimport ProfileHome from \"./pages/profiles/ProfileHome\"\n\n\nimport UsernameForm from \"./pages/profiles/UsernameForm\";\nimport UserPasswordForm from \"./pages/profiles/UserPasswordForm\";\nimport ProfileEditForm from \"./pages/profiles/ProfileEditForm\";\nimport PageNotFound from \"./components/PageNotFound\";\nimport CreateContactForm from \"./pages/Contacts/CreateContactForm\";\n// import CreateReviewForm from \"./pages/Reviews/CreateReviewForm\";\n\n/** Switch holds route. Exact path is rendered when matching. */\n/** Link to NavBar.js */\nfunction App() {\n  /**Set current user by using useCurrentuser Hook */\n  const currentUser = useCurrentUser();\n  /**Get profile_id if current username matches owner for currentUser. Empty string as default.*/\n  const profile_id = currentUser?.profile_id || \"\";\n  return (\n    <div className={styles.App}>\n      <div>\n        <NavBar />\n        <Container className={styles.Main}>\n          <Switch>\n            {/* View all blurbs */}\n            <Route exact path=\"/\" render={() => <AllBlurbs message=\"No results... Try another search?\" />} />\n            {/* View blurbs of user that the current user is following. */}\n            <Route exact path=\"/newsfeed\" render={() => (\n              <AllBlurbs\n                message=\"No results... Try another search? Or follower a user.\"\n                filter={`owner__followed__owner__profile=${profile_id}&`}\n              />)} />\n            {/* View blurbs that user has voted for from main '/' page or '/newsfeed' page. */}\n            <Route exact path=\"/upVoted\" render={() => (\n              <AllBlurbs\n                message=\"No results... Try another search? Or vote for the best blurbs.\"\n                filter={`votes__owner__profile=${profile_id}&ordering=-votes__created_at&`}\n              />)} />\n            <Route exact path=\"/login\" render={() => <LogInForm />} />\n            <Route exact path=\"/signup\" render={() => <SignUpForm />} />\n            <Route exact path=\"/blurbs/create\" render={() => <CreateBlurbForm />} />\n            <Route exact path=\"/blurbs/:id\" render={() => <ShowBlurbPage />} />\n            <Route exact path=\"/blurbs/:id/edit\" render={() => <EditBlurbForm />} />\n            <Route exact path=\"/profiles/:id\" render={() => <ProfileHome />} />\n            <Route exact path=\"/contacts/\" render={() => <CreateContactForm />} />\n            {/* <Route exact path=\"/reviews/create\" render={() => <CreateReviewForm />} /> */}\n            <Route\n              exact\n              path=\"/profiles/:id/edit/username\"\n              render={() => <UsernameForm />}\n            />\n            <Route\n              exact\n              path=\"/profiles/:id/edit/password\"\n              render={() => <UserPasswordForm />}\n            />\n            <Route\n              exact\n              path=\"/profiles/:id/edit\"\n              render={() => <ProfileEditForm />}\n            />\n            <Route render={() => <PageNotFound />} />\n          </Switch>\n        </Container>\n      </div>\n    </div>\n\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n/** Provide route, for navigation links, in NavBar.js */\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { CurrentUserProvider } from './contexts/CurrentUserContext';\nimport { ProfileDataProvider } from './contexts/ProfileContext';\n// import { BlurbDataProvider } from './contexts/BlurbContext';\n\nReactDOM.render(\n  // <React.StrictMode> used in development mode.\n  <Router>\n    {/* Remove Providers from App.js and enter new Provider. */}\n    <CurrentUserProvider>\n      <ProfileDataProvider>\n        {/* <BlurbDataProvider> */}\n        <App />\n        {/* </BlurbDataProvider> */}\n      </ProfileDataProvider>\n    </CurrentUserProvider>\n  </Router>,\n  // </React.StrictMode >,\n  \n  // Provide route to index.html page.\n  document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27i9m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1amC6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Heading\":\"SigningForm_Heading__1BY1c\",\"Input\":\"SigningForm_Input__3xfv_\",\"Container\":\"SigningForm_Container__1rJvv\",\"Link\":\"SigningForm_Link__1imV0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"BlurbsForm_Container__1x49C\",\"ContainerContent\":\"BlurbsForm_ContainerContent__2XPwm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OtherButton\":\"Profiles_OtherButton__13suW\",\"FollowStatusButton\":\"Profiles_FollowStatusButton__32nUh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Display\":\"Display_Display__1CdUH\",\"PageNotFound\":\"Display_PageNotFound__RZaiz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContainerContentThreadReviews\":\"ProfileHome_ContainerContentThreadReviews__2jw8U\",\"Lined\":\"ProfileHome_Lined__1AG3c\",\"BigGreen\":\"ProfileHome_BigGreen__dLrpK\",\"ContainerContent\":\"ProfileHome_ContainerContent__2MWeL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OwnerName\":\"CommentContent_OwnerName__yOD7W\",\"UpdatedDate\":\"CommentContent_UpdatedDate__1wow4\",\"CommentText\":\"CommentContent_CommentText__3kWd4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContainerContent\":\"Blurb_ContainerContent__rEEbI\",\"ThumbsUpVote\":\"Blurb_ThumbsUpVote__10WYR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__196lW\"};"],"sourceRoot":""}