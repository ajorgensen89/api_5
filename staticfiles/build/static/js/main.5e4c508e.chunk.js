(this["webpackJsonpproject-5"]=this["webpackJsonpproject-5"]||[]).push([[0],{106:function(e,t,n){},13:function(e,t,n){e.exports={App:"App_App__1TtKj",Main:"App_Main__1R5z0",Navlink:"App_Navlink__KSgFY",active:"App_active__jkTxl",Border:"App_Border__22OpI",CenterText:"App_CenterText__u_3L5",ColImage:"App_ColImage__1Llmz",ColText:"App_ColText__14zV5",ContainerContent:"App_ContainerContent__bRAcL"}},136:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),s=n.n(c),o=(n(106),n(13)),i=n.n(o),l=n(8),u=n(11),j=n(63),d=n(18),b=n(101),p=n.p+"static/media/logo5.6f4731ad.jpg",O=n(34),f=n.n(O),x=n(20),m=n(12),A=n(23),v=n.n(A);v.a.defaults.baseURL="/api",v.a.defaults.headers.post["Content-Type"]="multipart/form-data",v.a.defaults.withCredentials=!0;var h=v.a.create(),g=(v.a.create(),v.a.create()),w=n(14),C=n(72),F=n(4),N=n(92),B=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t,n){var a,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("resource=blurb",t),e.next=4,h.get(t.next);case 4:a=e.sent,r=a.data,console.log("resourceNext",t.next),n((function(e){return Object(F.a)(Object(F.a)({},e),{},{next:r.next,results:r.results.reduce((function(t,n){return console.log("prevresource",e),console.log("data",r),console.log("acc.curr",t,n),t.some((function(e){return e.id===n.id}))?t:[].concat(Object(C.a)(t),[n])}),e.results)})})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),U=function(e,t,n){return e.id===t.id?Object(F.a)(Object(F.a)({},e),{},{followers_count:e.followers_count+1,following_id:n}):e.is_owner?Object(F.a)(Object(F.a)({},e),{},{following_count:e.following_count+1}):e},k=function(e,t){return e.id===t.id?Object(F.a)(Object(F.a)({},e),{},{followers_count:e.followers_count-1,following_id:null}):e.is_owner?Object(F.a)(Object(F.a)({},e),{},{following_count:e.following_count-1}):e},R=function(e){var t=Object(N.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("setTokenTimestamp",t)},P=function(){localStorage.removeItem("setTokenTimestamp")},K=n(1),_=Object(a.createContext)(),y=Object(a.createContext)(),D=function(){return Object(a.useContext)(_)},L=function(){return Object(a.useContext)(y)},E=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(m.a)(n,2),c=r[0],s=r[1],o=Object(w.useHistory)(),i=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("dj-rest-auth/user/");case 3:t=e.sent,n=t.data,s(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(a.useMemo)((function(){h.interceptors.request.use(function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("setTokenTimestamp")){e.next=11;break}return e.prev=1,e.next=4,v.a.post("/dj-rest-auth/token/refresh/");case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),s((function(e){return e&&o.push("/signin"),null})),P(),e.abrupt("return",t);case 11:return console.log("axiosReq"),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),g.interceptors.response.use((function(e){return e}),function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==(null===(n=t.response)||void 0===n?void 0:n.status)){e.next=11;break}return e.prev=1,e.next=4,v.a.post("/dj-rest-auth/token/refresh/");case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s((function(e){return e&&o.push("/signin"),null})),P();case 10:return e.abrupt("return",v()(t.config));case 11:return console.log("axiosRes"),e.abrupt("return",Promise.reject(t));case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}())}),[o]),Object(K.jsx)(_.Provider,{value:c,children:Object(K.jsx)(y.Provider,{value:s,children:t})})},S=n(95),H=n.n(S),T=function(e){var t=e.src,n=e.height,a=void 0===n?40:n,r=e.text;return Object(K.jsxs)("span",{children:[Object(K.jsx)("img",{className:H.a.Avatar,src:t,height:a,width:a,alt:"Avatar in square shape"}),r]})},Q=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=function(e){c.current&&!c.current.contains(e.target)&&r(!1)};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[c]),{collapseExpand:n,setCollapseExpand:r,burgerRef:c}},I=function(){var e=Q(),t=e.collapseExpand,n=e.setCollapseExpand,a=e.burgerRef,r=D(),c=L(),s=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("dj-rest-auth/logout/");case 3:c(null),P(),console.log("logged out /logout/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0,"errlogout");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),o=Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(x.c,{className:f.a.NavLink,to:"/newsfeed",children:[Object(K.jsx)("i",{className:"fa-regular fa-newspaper"}),"Followed Feed"]}),Object(K.jsxs)(x.c,{className:function(e){var t=e.isActive,n=[i.a.i];return t&&n.push(i.a.active),n.join(" ")},to:"/upVoted",children:[Object(K.jsx)("i",{className:"fa-solid fa-thumbs-up"}),"My Votes!"]}),Object(K.jsxs)(x.c,{to:"/",className:function(e){var t=e.isActive,n=[f.a.NavLink];return t&&n.push(f.a.active),n.join(" ")},onClick:s,children:[Object(K.jsx)("i",{className:"fa-regular fa-face-smile-wink"}),"Log Out"]}),Object(K.jsx)(x.c,{to:"/profiles/".concat(null===r||void 0===r?void 0:r.profile_id),className:f.a.NavLink,children:Object(K.jsx)(T,{src:null===r||void 0===r?void 0:r.profile_image,text:"Profile",height:35})})]}),O=Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(x.c,{className:function(e){var t=e.isActive,n=[f.a.NavLink];return t&&n.push(f.a.active),n.join(" ")},to:"/login",children:[Object(K.jsx)("i",{className:"fa-regular fa-face-smile"}),"Log in"]}),Object(K.jsxs)(x.c,{to:"/signup",className:f.a.NavLink,children:[Object(K.jsx)("i",{className:"fa-regular fa-face-smile-wink"}),"Sign up"]})]}),m=Object(K.jsxs)(x.c,{exact:!0,className:f.a.NavLink,to:"/blurbs/create",children:[Object(K.jsx)("i",{className:"fa-solid fa-circle-plus"}),"New Blurb"]});return Object(K.jsx)(j.a,{expanded:t,className:f.a.NavBar,expand:"md",fixed:"top",children:Object(K.jsxs)(d.a,{children:[Object(K.jsx)(x.c,{to:"/",children:Object(K.jsx)(j.a.Brand,{children:Object(K.jsx)("img",{src:p,alt:"logo",height:"45"})})}),r&&m,Object(K.jsx)(j.a.Toggle,{ref:a,onClick:function(){return n(!t)},"aria-controls":"basic-navbar-nav"}),Object(K.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(K.jsxs)(b.a,{className:"ml-auto text-left",children:[Object(K.jsxs)(x.c,{exact:!0,className:f.a.NavLink,to:"/",children:[Object(K.jsx)("i",{className:"fa-regular fa-face-laugh-beam"}),"Home"]}),r?o:O]})})]})})},X=n(28),J=n(16),V=n.n(J),G=n(36),M=n.n(G),q=n(21),W=n(15),Y=n(41),Z=n(10),z=n(22),$=n(19),ee=function(e){var t=Object(w.useHistory)();Object(a.useEffect)((function(){var n=function(){var n=Object(u.a)(Object(l.a)().mark((function n(){return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.a.post("/dj-rest-auth/token/refresh/");case 3:"loggedIn"===e&&t.push("/"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),"loggedOut"===e&&t.push("/");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();n()}),[t,e])},te=function(){var e,t,n,r;ee("loggedIn");var c=Object(a.useState)({username:"",password1:"",password2:""}),s=Object(m.a)(c,2),o=s[0],j=s[1],b=o.username,p=o.password1,O=o.password2,f=Object(a.useState)({}),A=Object(m.a)(f,2),h=A[0],g=A[1],C=Object(w.useHistory)(),N=function(e){j(Object(F.a)(Object(F.a)({},o),{},Object(X.a)({},e.target.name,e.target.value)))},B=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b.trim()){e.next=4;break}return g(Object(F.a)(Object(F.a)({},h),{},{username:["Username cannot be empty"]})),e.abrupt("return");case 4:if(p.trim()){e.next=7;break}return g(Object(F.a)(Object(F.a)({},h),{},{password1:["password field empty"]})),e.abrupt("return");case 7:if(O.trim()){e.next=10;break}return g(Object(F.a)(Object(F.a)({},h),{},{password2:["confirm password field empty"]})),e.abrupt("return");case 10:return e.prev=10,e.next=13,v.a.post("/dj-rest-auth/registration/",o);case 13:C.push("/login"),console.log("new user created in API 2 /registration/"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),console.log("new user created in API 2 /registration/ setErrors"),g(null===(n=e.t0.response)||void 0===n?void 0:n.data);case 21:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(q.a,{children:[Object(K.jsxs)(q.a,{children:[Object(K.jsx)(W.a,{md:2}),Object(K.jsx)(W.a,{md:8,className:i.a.ColImage,children:Object(K.jsx)(Y.a,{className:"".concat(i.a.FillerImage," ").concat(i.a.CenterText),src:"https://res.cloudinary.com/dtsaa4qbs/image/upload/v1700138414/avatar_beedw9.jpg"})}),Object(K.jsx)(W.a,{md:2})]}),Object(K.jsx)(q.a,{children:Object(K.jsx)(W.a,{className:i.a.ColText,children:Object(K.jsxs)(d.a,{className:"".concat(i.a.Border," ").concat(i.a.CenterText),children:[Object(K.jsx)("h1",{children:"Sign Up Here!"}),Object(K.jsxs)(Z.a,{onSubmit:B,children:[Object(K.jsxs)(Z.a.Group,{controlId:"username",children:[Object(K.jsx)(Z.a.Label,{className:"d-none",children:"Username"}),Object(K.jsx)(Z.a.Control,{type:"text",className:M.a.Input,placeholder:"Username",name:"username",value:b,onChange:N})]}),null===(e=h.username)||void 0===e?void 0:e.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsxs)(Z.a.Group,{controlId:"password1",children:[Object(K.jsx)(Z.a.Label,{className:"d-none",children:"Password"}),Object(K.jsx)(Z.a.Control,{className:M.a.Input,type:"password",placeholder:"Password",name:"password1",value:p,onChange:N})]}),null===(t=h.password1)||void 0===t?void 0:t.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsxs)(Z.a.Group,{controlId:"password2",children:[Object(K.jsx)(Z.a.Label,{className:"d-none",children:"Confirm password"}),Object(K.jsx)(Z.a.Control,{className:M.a.Input,type:"password",placeholder:"Confirm password",name:"password2",value:O,onChange:N})]}),null===(n=h.password2)||void 0===n?void 0:n.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsx)($.a,{className:V.a.Button,type:"submit",children:"Sign in"}),null===(r=h.non_field_errors)||void 0===r?void 0:r.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",className:"mt-3",children:e},t)}))]})]})})}),Object(K.jsx)(q.a,{children:Object(K.jsx)(W.a,{className:i.a.ColText,children:Object(K.jsxs)(d.a,{className:"".concat(i.a.Border," ").concat(i.a.CenterText),children:["Already Signed up..",Object(K.jsx)(x.b,{className:M.a.Link,to:"/login",children:Object(K.jsx)("span",{children:"Log in"})})]})})})]})};var ne=function(){var e,t,n;ee("loggedIn");var r=Object(a.useState)({}),c=Object(m.a)(r,2),s=c[0],o=c[1],j=L(),b=Object(a.useState)({username:"",password:""}),p=Object(m.a)(b,2),O=p[0],f=p[1],A=O.username,h=O.password,g=Object(w.useHistory)(),C=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v.a.post("/dj-rest-auth/login/",O);case 4:n=e.sent,a=n.data,j(a.user),console.log("login /login/"),R(a),g.push("/"),g.goBack(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0,"errsetErrorslogin"),o(null===(r=e.t0.response)||void 0===r?void 0:r.data);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){f(Object(F.a)(Object(F.a)({},O),{},Object(X.a)({},e.target.name,e.target.value)))};return Object(K.jsxs)(q.a,{children:[Object(K.jsx)(q.a,{children:Object(K.jsx)(W.a,{className:i.a.ColText,children:Object(K.jsxs)(d.a,{className:"".concat(i.a.Border," ").concat(i.a.CenterText),children:[Object(K.jsx)("h1",{className:M.a.Header,children:"sign in"}),Object(K.jsxs)(Z.a,{onSubmit:C,children:[Object(K.jsxs)(Z.a.Group,{controlId:"username",children:[Object(K.jsx)(Z.a.Label,{className:"d-none",children:"Username"}),Object(K.jsx)(Z.a.Control,{type:"text",placeholder:"Username",name:"username",className:M.a.Input,value:A,onChange:N})]}),null===(e=s.username)||void 0===e?void 0:e.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsxs)(Z.a.Group,{controlId:"password",children:[Object(K.jsx)(Z.a.Label,{className:"d-none",children:"Password"}),Object(K.jsx)(Z.a.Control,{type:"password",placeholder:"Password",name:"password",className:M.a.Input,value:h,onChange:N})]}),null===(t=s.password)||void 0===t?void 0:t.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsx)($.a,{className:V.a.Button,type:"submit",children:"Sign in"}),null===(n=s.non_field_errors)||void 0===n?void 0:n.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",className:"mt-3",children:e},t)}))]})]})})}),Object(K.jsx)(q.a,{children:Object(K.jsx)(W.a,{className:i.a.ColText,children:Object(K.jsx)(d.a,{className:"".concat(i.a.Border," ").concat(i.a.CenterText),children:Object(K.jsxs)(x.b,{className:M.a.Link,to:"/signup",children:["Don't have an account? ",Object(K.jsx)("span",{children:"Sign up now!"})]})})})}),Object(K.jsxs)(q.a,{children:[Object(K.jsx)(W.a,{}),Object(K.jsx)(W.a,{className:i.a.ColImage,children:Object(K.jsx)(Y.a,{className:"".concat(i.a.FillerImage," ").concat(i.a.CenterText),src:"https://res.cloudinary.com/dtsaa4qbs/image/upload/v1688082376/smile.png"})}),Object(K.jsx)(W.a,{})]})]})},ae=n(97),re=n(61),ce=n.n(re),se=function(e){var t=e.spinner,n=e.src,a=e.message,r=e.imageSize,c=void 0===r?200:r;return Object(K.jsxs)("div",{className:"".concat(ce.a.Display," p-4"),children:[t&&Object(K.jsx)(ae.a,{animation:"border",variant:"success"}),n&&Object(K.jsx)("img",{alt:a,src:n,height:c}),a&&Object(K.jsx)("p",{className:"mt-4",children:a})]})},oe=n(47),ie=n.n(oe);var le=function(){var e,t,n;ee("loggedOut");var r=Object(a.useState)({}),c=Object(m.a)(r,2),s=c[0],o=c[1],j=Object(a.useState)({title:"",content:"",image:null}),b=Object(m.a)(j,2),p=b[0],O=b[1],f=p.title,x=p.content,A=p.image,v=Object(a.useRef)(null),g=Object(w.useHistory)(),C=function(e){O(Object(F.a)(Object(F.a)({},p),{},Object(X.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,r,c,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("title",f),n.append("content",x),n.append("image",v.current.files[0]),e.prev=5,e.next=8,h.post("/blurbs/",n);case 8:a=e.sent,r=a.data,g.push("/blurbs/".concat(r.id)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0),401!==(null===(c=e.t0.response)||void 0===c?void 0:c.status)&&o(null===(s=e.t0.response)||void 0===s?void 0:s.data);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),B=Object(K.jsxs)("div",{className:"text-center",children:[Object(K.jsxs)(Z.a.Group,{children:[Object(K.jsx)(Z.a.Label,{children:"Title"}),Object(K.jsx)(Z.a.Control,{type:"text",name:"title",value:f,onChange:C})]}),null===s||void 0===s||null===(e=s.title)||void 0===e?void 0:e.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsxs)(Z.a.Group,{children:[Object(K.jsx)(Z.a.Label,{children:"Content"}),Object(K.jsx)(Z.a.Control,{as:"textarea",rows:8,name:"content",value:x,onChange:C})]}),null===s||void 0===s||null===(t=s.content)||void 0===t?void 0:t.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsx)($.a,{className:V.a.Button,onClick:function(){return g.goBack()},children:"Cancel"}),Object(K.jsx)($.a,{className:V.a.Button,type:"submit",children:"Save new article."})]});return Object(K.jsx)(Z.a,{onSubmit:N,children:Object(K.jsxs)(q.a,{children:[Object(K.jsx)(W.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:Object(K.jsxs)(d.a,{className:ie.a.Container,children:[Object(K.jsxs)(Z.a.Group,{className:"text-center",children:[A?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("figure",{children:Object(K.jsx)(Y.a,{className:i.a.Image,src:A,rounded:!0})}),Object(K.jsx)("div",{children:Object(K.jsx)(Z.a.Label,{className:V.a.Button,htmlFor:"image-upload",children:"Change the image"})})]}):Object(K.jsx)(Z.a.Label,{htmlFor:"image-upload",children:Object(K.jsx)(se,{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAAAAAAAD/4QAuRXhpZgAATU0AKgAAAAgAAkAAAAMAAAABAAAAAEABAAEAAAABAAAAAAAAAAD/2wBDAAoHBwkHBgoJCAkLCwoMDxkQDw4ODx4WFxIZJCAmJSMgIyIoLTkwKCo2KyIjMkQyNjs9QEBAJjBGS0U+Sjk/QD3/2wBDAQsLCw8NDx0QEB09KSMpPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT3/wAARCAEAAQADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD2WiiigAooooAKKKKACiiigAooooAKKKKACiiigAoorhfiN8RbfwhZm1sys2rzLmOM8iIH+Nv6Dv8ASgDuqK4j4d/ES28YWIt7kpBq0K5liB4kH99fb1Hb6Yrt6ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooriPiJ8Q7fwfYm3tik2rTL+6iPSMf329vQd/pmgBPiJ8RLfwdZG2tSk2rTL+7iPIiH99/6Dv9K+c729uNQvJbq8laW4lYs8jHljS319cajeS3d5M81xM255GPLGq9AFqxvrjTb2G7spnhuIW3I6HBU/57d6+ivh38RLbxhYi3uSkGrQrmWIHiQf319vUdvpivmurVjfXGm3sN3ZTPDcQtuR0OCp/wA9u9AH2DRXEfDv4iW3jCxFvclINWhXMsQPEg/vr7eo7fTFdvQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRXFfEL4g23g2w8mArNqs6/uYT0QdN7+3t1JHpkgAT4h/EG28HWPk25SbVZlzDCTkRj++3t6DuR9SPnTUL251O+lu72Z5riZt7u5yWP8Ant26UuoX91qmoTXt7M89zM26SRzksf8ADtgcADHSqlABRRRQAUUUUAWrG+uNNvYbuymeG4hbcjocFT/nt3r6K+HfxEtvGFiLe5KQatCuZYgeJB/fX29R2+mK+a6tWN9cabew3dlM8NxC25HQ4Kn/AD270AfYNFcR8O/iJbeMLEW9yUg1aFcyxA8SD++vt6jt9MV29ABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBxnxA+INr4MsDHEUm1WZf3EBOQo/vv6D26seB3I+ctRv7rVNQnvb6d57idtzyOeWP9B2wOABgcV9Gah8K/Dmr3819fw3U11O26R2uG5P9B0GBwAMDiq//AApjwh/z6XH/AIEvQB84UV9H/wDCmPCH/Ppcf+BL0yX4NeEUhdhZ3GVUnm4egD5zooooAKKKKACivo5Pgz4RKAm0uMkf8/LUv/CmPCH/AD6XH/gS9AHz1Y31xpt7Dd2Uzw3ELbkdDgqf89u9fRXw7+Ilt4wsRb3JSDVoVzLEDxIP76+3qO30xUX/AApjwh/z6XH/AIEvU1l8J/DemXkV5ZRXcFxC26ORLlwQf88Y70AdtRRRQAUUUUAFFFFABRRRQAUUUUAFFFFACFgqksQAO5NM+0Q/89Y/++hXIfF3/kmOr/8AbH/0clfM9AH2P9oh/wCesf8A30KPtEP/AD1j/wC+hXxxRQB9j/aIf+esf/fQo+0Q/wDPWP8A76FfHFFAH2P9oh/56x/99Cj7RD/z1j/76FfHFFAH2P8AaIf+esf/AH0KeGDAEEEHuK+Na+sPBP8AyI2hf9eEH/oAoA26Zcf8e0v+4f5U+mXH/HtL/uH+VAHxvRRRQAUUUUAfZMX+qT/dFOpsX+qT/dFOoAQsFBLEADuTxTPtEP8Az1j/AO+hXHfGD/kmeqf70P8A6NSvmmgD7H+0Q/8APWP/AL6FH2iH/nrH/wB9CvjiigD7H+0Q/wDPWP8A76FH2iH/AJ6x/wDfQr44ooA+x/tEP/PWP/voUfaIf+esf/fQr44ooA+x/tEP/PWP/voU5HVxlWDD1BzXxtXv/wABf+RIvP8AsIv/AOi46APTKKKKACiiigDjPi7/AMkx1f8A7Y/+jkr5nr6Y+Lv/ACTHV/8Atj/6OSvmegAoor6DT4GeGCgJm1PJH/PZP/iaAPnyivoT/hRfhf8A57an/wB/k/8AiaP+FF+F/wDntqf/AH+T/wCJoA+e6K+hP+FF+F/+e2p/9/k/+Jo/4UX4X/57an/3+T/4mgD57r6w8E/8iNoX/XhB/wCgCuT/AOFF+F/+e2p/9/k/+JrvNMsItK0u1sICxhtYlhQuckqowM++BQBbplx/x7S/7h/lT6Zcf8e0v+4f5UAfG9FFFABRRRQB9kxf6pP90U6mxf6pP90U6gDivjB/yTPVP96H/wBGpXzTX1v4h0G18TaLPpd80q285UuYmCt8rBhyQe4FcZ/wovwv/wA9tT/7/J/8TQB890V9Cf8ACi/C/wDz21P/AL/J/wDE0f8ACi/C/wDz21P/AL/J/wDE0AfPdFfQn/Ci/C//AD21P/v8n/xNH/Ci/C//AD21P/v8n/xNAHz3RX0GfgZ4XAJ87U+B/wA9l/8Aia+fKACvf/gL/wAiRef9hF//AEXHXgFe/wDwF/5Ei8/7CL/+i46APTKKKKACiiigDjPi7/yTHV/+2P8A6OSvmevpj4u/8kx1f/tj/wCjkr5noAK+yYv9Un+6K+Nq+yYv9Un+6KAHUUUUAFFFFABRRRQAUy4/49pf9w/yp9I4DqVPIIwRQB8a0V9Lf8Kf8Gf9Alv/AAKl/wDiqP8AhT/gz/oEt/4FS/8AxVAHzTRX0t/wp/wZ/wBAlv8AwKl/+Ko/4U/4M/6BLf8AgVL/APFUAdnF/qk/3RTqAAAAOgooAKKKKACiiigAooooARvun6V8a19lN90/SvjWgAr3/wCAv/IkXn/YRf8A9Fx14BXv/wABf+RIvP8AsIv/AOi46APTKKKKACiiigDjPi7/AMkx1f8A7Y/+jkr5nr6Y+Lv/ACTHV/8Atj/6OSvmegAr7Ji/1Sf7or42r7Ji/wBUn+6KAHUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAI33T9K+Na+ym+6fpXxrQAV7/8Bf8AkSLz/sIv/wCi468Ar3/4C/8AIkXn/YRf/wBFx0AemUUUUAFFFFAHGfF3/kmOr/8AbH/0clfM9fTHxd/5Jjq//bH/ANHJXzPQAV9kxf6pP90V8bV9kxf6pP8AdFADqKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAEb7p+lfGtfZTfdP0r41oAK9/wDgL/yJF5/2EX/9Fx14BXv/AMBf+RIvP+wi/wD6LjoA9MooooAKKKKAOM+Lv/JMdX/7Y/8Ao5K+Z6+mPi7/AMkx1f8A7Y/+jkr5noAK+yYv9Un+6K+Nq+yYv9Un+6KAHUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAI33T9K+Na+ym+6fpXxrQAV7/8AAX/kSLz/ALCL/wDouOvAK9/+Av8AyJF5/wBhF/8A0XHQB6ZRRRQAUUUUAcZ8Xf8AkmOr/wDbH/0clfM9fTHxd/5Jjq//AGx/9HJXzPQAV9kxf6pP90V8bV9kxf6pP90UAOooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooARvun6V8a19lN90/SvjWgAr3/4C/8AIkXn/YRf/wBFx14BXv8A8Bf+RIvP+wi//ouOgD0yiiigAooooA4z4u/8kx1f/tj/AOjkr5nr6Y+Lv/JMdX/7Y/8Ao5K+Z6ACvsmL/VJ/uivjavsmL/VJ/uigB1FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFACN90/SvjWvspvun6V8a0AFe/8AwF/5Ei8/7CL/APouOvAK9/8AgL/yJF5/2EX/APRcdAHplFFFABRRRQBxnxd/5Jjq/wD2x/8ARyV8z19MfF3/AJJjq/8A2x/9HJXzPQAV9kxf6pP90V8bV9kxf6pP90UAOooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooARvun6V8a19lN90/SvjWgAr3/4C/wDIkXn/AGEX/wDRcdeAV7/8Bf8AkSLz/sIv/wCi46APTKKKKACiiigDjPi7/wAkx1f/ALY/+jkr5nr6Y+Lv/JMdX/7Y/wDo5K+Z6ACvsmL/AFSf7or42r7Ji/1Sf7ooAdRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAjfdP0r41r7Kb7p+lfGtABXv8A8Bf+RIvP+wi//ouOvAK9/wDgL/yJF5/2EX/9Fx0AemUUUUAFFFFAHGfF3/kmOr/9sf8A0clfM9fTHxd/5Jjq/wD2x/8ARyV8z0AFe0r+0BAqKv8AYEnAx/x9D/4mvFqKAPav+GgYP+hfk/8AAsf/ABFH/DQMH/Qvyf8AgWP/AIivFaKAPav+GgYP+hfk/wDAsf8AxFH/AA0DB/0L8n/gWP8A4ivFaKAPav8AhoGD/oX5P/Asf/EUf8NAwf8AQvyf+BY/+IrxWigD2r/hoGD/AKF+T/wLH/xFH/DQMH/Qvyf+BY/+IrxWigD2r/hoGD/oX5P/AALH/wARR/w0DB/0L8n/AIFj/wCIrxWigD2r/hoGD/oX5P8AwLH/AMRR/wANAwf9C/J/4Fj/AOIrxWigD2r/AIaBg/6F+T/wLH/xFH/DQMH/AEL8n/gWP/iK8VooA9q/4aBg/wChfk/8Cx/8RR/w0DB/0L8n/gWP/iK8VooA9q/4aBg/6F+T/wACx/8AEUf8NAwf9C/J/wCBY/8AiK8VooA9q/4aBg/6F+T/AMCx/wDEUf8ADQMH/Qvyf+BY/wDiK8VooA9qP7QMBBH/AAj8nP8A09D/AOJrxWiigAr3/wCAv/IkXn/YRf8A9Fx14BXv/wABf+RIvP8AsIv/AOi46APTKKKKACiiigDkvijZXOo/DzVLayt5rm4fytkUKF2bEqE4A5PAJ/Cvnr/hDfEv/Qvav/4BS/8AxNfWVFAHyb/whviX/oXtX/8AAKX/AOJo/wCEN8S/9C9q/wD4BS//ABNfWVFAHyb/AMIb4l/6F7V//AKX/wCJo/4Q3xL/ANC9q/8A4BS//E19ZUUAfJv/AAhviX/oXtX/APAKX/4mj/hDfEv/AEL2r/8AgFL/APE19ZUUAfJv/CG+Jf8AoXtX/wDAKX/4mj/hDfEv/Qvav/4BS/8AxNfWVFAHyb/whviX/oXtX/8AAKX/AOJo/wCEN8S/9C9q/wD4BS//ABNfWVFAHyb/AMIb4l/6F7V//AKX/wCJo/4Q3xL/ANC9q/8A4BS//E19ZUUAfJv/AAhviX/oXtX/APAKX/4mj/hDfEv/AEL2r/8AgFL/APE19ZUUAfJv/CG+Jf8AoXtX/wDAKX/4mj/hDfEv/Qvav/4BS/8AxNfWVFAHyb/whviX/oXtX/8AAKX/AOJo/wCEN8S/9C9q/wD4BS//ABNfWVFAHyb/AMIb4l/6F7V//AKX/wCJo/4Q3xL/ANC9q/8A4BS//E19ZUUAfJv/AAhviX/oXtX/APAKX/4mj/hDfEv/AEL2r/8AgFL/APE19ZUUAfJv/CG+Jf8AoXtX/wDAKX/4mj/hDfEv/Qvav/4BS/8AxNfWVFAHyb/whviX/oXtX/8AAKX/AOJr2/4L6bfaV4Pu4dRsrm0la+dwlxE0bFfLjGcHtkHn2r0OigAooooA/9k=",message:"Click Image to Upload a new one.",className:"".concat(ie.a.Display," ").concat(i.a.ContainerContent)})}),Object(K.jsx)(Z.a.File,{type:"file",id:"image-upload",accept:"image/*",onChange:function(e){e.target.files.length&&(URL.revokeObjectURL(A),O(Object(F.a)(Object(F.a)({},p),{},{image:URL.createObjectURL(e.target.files[0])})))},ref:v})]}),null===s||void 0===s||null===(n=s.image)||void 0===n?void 0:n.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsx)("div",{className:"d-md-none",children:B})]})}),Object(K.jsx)(W.a,{md:5,lg:4,className:"d-none d-md-block p-0 p-md-2",children:Object(K.jsx)(d.a,{children:B})})]})})},ue=n(82),je=n.n(ue),de=n(144),be=n(141),pe=n(143),Oe=n(142),fe=n(39),xe=n(31),me=r.a.forwardRef((function(e,t){var n=e.onClick;return Object(K.jsx)("i",{className:"fa-solid fa-user-pen",ref:t,onClick:function(e){e.preventDefault(),n(e)}})})),Ae=function(e){var t=e.handleEditing,n=e.handleDeleting;return Object(K.jsxs)(xe.a,{children:[Object(K.jsx)(xe.a.Toggle,{as:me}),Object(K.jsxs)(xe.a.Menu,{className:"text-center",popperConfig:{strategy:"fixed"},children:[Object(K.jsx)(xe.a.Item,{onClick:t,children:"EDIT"}),Object(K.jsx)(xe.a.Item,{onClick:n,children:"DELETE"})]})]})};function ve(e){var t=e.id,n=Object(w.useHistory)();return Object(K.jsxs)(xe.a,{drop:"left",children:[Object(K.jsx)(xe.a.Toggle,{as:me}),Object(K.jsxs)(xe.a.Menu,{className:"text-center",popperConfig:{strategy:"fixed"},children:[Object(K.jsxs)(xe.a.Item,{onClick:function(){return n.push("/profiles/".concat(t,"/edit"))},"aria-label":"edit-profile",children:[Object(K.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),Object(K.jsxs)(xe.a.Item,{onClick:function(){return n.push("/profiles/".concat(t,"/edit/username"))},"aria-label":"edit-username",children:[Object(K.jsx)("i",{className:"far fa-id-card"}),"Edit username"]}),Object(K.jsxs)(xe.a.Item,{onClick:function(){return n.push("/profiles/".concat(t,"/edit/password"))},"aria-label":"edit-password",children:[Object(K.jsx)("i",{className:"fas fa-key"}),"Edit password"]})]})]})}var he=function(e){var t=e.id,n=e.owner,a=e.updated_at,r=e.title,c=e.content,s=e.image,o=e.profile_id,i=e.profile_image,j=e.votes_id,d=e.votes_count,b=e.comments_count,p=e.blurbPage,O=e.setBlurb,f=Object(fe.useHistory)(),x=D(),m=(null===x||void 0===x?void 0:x.username)===n,A=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/votes/",{blurb:t});case 3:n=e.sent,a=n.data,O((function(e){return Object(F.a)(Object(F.a)({},e),{},{results:e.results.map((function(e){return e.id===t?Object(F.a)(Object(F.a)({},e),{},{votes_count:e.votes_count+1,votes_id:a.id}):e}))})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0,"errhandlevote");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/votes/".concat(j));case 3:O((function(e){return Object(F.a)(Object(F.a)({},e),{},{results:e.results.map((function(e){return e.id===t?Object(F.a)(Object(F.a)({},e),{},{votes_count:e.votes_count-1,votes_id:null}):e}))})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0,"errhandlevote");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/blurbs/".concat(t,"/"));case 3:f.goBack(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(de.a,{className:je.a.ContainerContent,children:[Object(K.jsx)(de.a.Body,{children:Object(K.jsxs)(be.a,{className:"align-items-center justify-content-between",children:[Object(K.jsxs)(fe.Link,{to:"/profiles/".concat(o),children:[Object(K.jsx)(T,{src:i,height:50}),n]}),Object(K.jsxs)("div",{children:[Object(K.jsxs)("span",{children:["Updated:",a]}),m&&p&&Object(K.jsx)(Ae,{handleEditing:function(){f.push("/blurbs/".concat(t,"/edit"))},handleDeleting:h})]})]})}),Object(K.jsx)(fe.Link,{to:"/blurbs/".concat(t),children:Object(K.jsx)(de.a.Img,{src:s,alt:r})}),Object(K.jsxs)(de.a.Body,{children:[r&&Object(K.jsx)(de.a.Title,{className:"text-center",children:r}),c&&Object(K.jsx)(de.a.Title,{className:"text-center",children:c}),Object(K.jsxs)("div",{children:[m?Object(K.jsx)(pe.a,{placement:"top",overlay:Object(K.jsx)(Oe.a,{children:"No voting for your own stuff!"}),children:Object(K.jsx)("i",{className:"fa-solid fa-thumbs-up"})}):j?Object(K.jsx)(pe.a,{placement:"top",overlay:Object(K.jsx)(Oe.a,{children:"Remove your vote!"}),children:Object(K.jsx)("span",{onClick:v,children:Object(K.jsx)("i",{className:"fa-solid fa-thumbs-up ".concat(je.a.ThumbsUpVote)})})}):x?Object(K.jsx)(pe.a,{placement:"top",overlay:Object(K.jsx)(Oe.a,{children:"Up Vote!"}),children:Object(K.jsx)("span",{onClick:A,children:Object(K.jsx)("i",{className:"fa-solid fa-thumbs-up"})})}):Object(K.jsx)(pe.a,{placement:"top",overlay:Object(K.jsx)(Oe.a,{children:"Log in!"}),children:Object(K.jsx)("i",{className:"fa-solid fa-thumbs-up"})}),d,Object(K.jsx)(fe.Link,{to:"/blurbs/".concat(t),children:Object(K.jsx)("i",{className:"fa fa-commenting-o"})}),b]})]})]})},ge=n(98);var we=function(e){var t=e.blurb,n=e.setBlurb,r=e.setComments,c=e.profileImage,s=e.profile_id,o=Object(a.useState)(""),i=Object(m.a)(o,2),j=i[0],d=i[1],b=function(){var e=Object(u.a)(Object(l.a)().mark((function e(a){var c,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,g.post("/comments/",{content:j,blurb:t});case 4:c=e.sent,s=c.data,r((function(e){return Object(F.a)(Object(F.a)({},e),{},{results:[s].concat(Object(C.a)(e.results))})})),n((function(e){return{results:[Object(F.a)(Object(F.a)({},e.results[0]),{},{comments_count:e.results[0].comments_count+1})]}})),d(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(Z.a,{className:"mt-2",onSubmit:b,children:[Object(K.jsx)(Z.a.Group,{children:Object(K.jsxs)(ge.a,{children:[Object(K.jsx)(x.b,{to:"/profiles/".concat(s),children:Object(K.jsx)(T,{src:c})}),Object(K.jsx)(Z.a.Control,{placeholder:"my comment...",as:"textarea",value:j,onChange:function(e){d(e.target.value)},rows:2})]})}),Object(K.jsx)("button",{className:V.a.Button,disabled:!j.trim(),type:"submit",children:"Post"})]})},Ce=n(77),Fe=n.n(Ce);var Ne=function(e){var t=e.id,n=e.content,r=e.setShowEditForm,c=e.setComments,s=Object(a.useState)(n),o=Object(m.a)(s,2),i=o[0],j=o[1],d=function(){var e=Object(u.a)(Object(l.a)().mark((function e(a){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,console.log("cserror111formContent",i),console.log("cserror111content",n),e.next=6,g.put("/comments/".concat(t,"/"),{content:i.trim()});case 6:c((function(e){return Object(F.a)(Object(F.a)({},e),{},{results:e.results.map((function(e){return e.id===t?Object(F.a)(Object(F.a)({},e),{},{content:i.trim(),updated_at:"now"}):e}))})})),console.log("new",n),console.log("new2",i),r(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(Z.a,{onSubmit:d,children:[Object(K.jsx)(Z.a.Group,{className:"pr-1",children:Object(K.jsx)(Z.a.Control,{as:"textarea",value:i,onChange:function(e){j(e.target.value)},rows:2})}),Object(K.jsxs)("div",{className:"text-right",children:[Object(K.jsx)("button",{className:V.a.Button,onClick:function(){return r(!1)},type:"button",children:"cancel"}),Object(K.jsx)($.a,{className:V.a.Button,value:i,type:"submit",children:"save"})]})]})},Be=function(e){var t=e.profile_image,n=e.profile_id,r=e.owner,c=e.content,s=e.updated_at,o=e.setComments,i=e.setBlurb,j=e.id,d=Object(a.useState)(!1),b=Object(m.a)(d,2),p=b[0],O=b[1],f=D(),x=(null===f||void 0===f?void 0:f.username)===r,A=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/comments/".concat(j,"/"));case 3:i((function(e){return{results:[Object(F.a)(Object(F.a)({},e.results[0]),{},{comments_count:e.results[0].comments_count-1})]}})),o((function(e){return Object(F.a)(Object(F.a)({},e),{},{results:e.results.filter((function(e){return e.id!==j}))})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("hr",{}),Object(K.jsxs)(be.a,{children:[Object(K.jsx)(fe.Link,{to:"/profiles/".concat(n),children:Object(K.jsx)(T,{src:t})}),Object(K.jsxs)(be.a.Body,{children:[Object(K.jsx)("span",{className:Fe.a.OwnerName,children:r}),Object(K.jsx)("span",{className:Fe.a.UpdatedDate,children:s}),p?Object(K.jsx)(Ne,{id:j,profile_id:n,content:c,profileImage:t,setComments:o,setShowEditForm:O}):Object(K.jsx)("p",{className:Fe.a.CommentText,children:c})]}),x&&!p&&Object(K.jsx)(Ae,{handleEditing:function(){return O(!0)},handleDeleting:A})]})]})},Ue=n(53),ke=n(55),Re=n.n(ke),Pe=Object(a.createContext)(),Ke=Object(a.createContext)(),_e=function(){return Object(a.useContext)(Pe)},ye=function(){return Object(a.useContext)(Ke)},De=function(e){var t=e.children,n=Object(a.useState)({pageProfile:{results:[]},popularFollowers:{results:[]}}),r=Object(m.a)(n,2),c=r[0],s=r[1],o=D(),i=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/followers/".concat(t.following_id));case 3:s((function(e){return Object(F.a)(Object(F.a)({},e),{},{pageProfile:{results:e.pageProfile.results.map((function(e){return k(e,t)}))},popularFollowers:Object(F.a)(Object(F.a)({},e.popularFollowers),{},{results:e.popularFollowers.results.map((function(e){return k(e,t)}))})})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/followers/",{followed:t.id});case 3:n=e.sent,a=n.data,s((function(e){return Object(F.a)(Object(F.a)({},e),{},{pageProfile:{results:e.pageProfile.results.map((function(e){return U(e,t,a.id)}))},popularFollowers:Object(F.a)(Object(F.a)({},e.popularFollowers),{},{results:e.popularFollowers.results.map((function(e){return U(e,t,a.id)}))})})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/profiles/?ordering=-followers_count");case 3:t=e.sent,n=t.data,s((function(e){return Object(F.a)(Object(F.a)({},e),{},{popularFollowers:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(K.jsx)(Pe.Provider,{value:c,children:Object(K.jsx)(Ke.Provider,{value:{setProfileData:s,handleUnFollow:i,handleFollow:j},children:t})})},Le=function(e){var t=e.profile,n=e.imageSize,a=void 0===n?35:n,r=t.id,c=t.following_id,s=t.image,o=t.owner,i=D(),l=(null===i||void 0===i?void 0:i.username)===o,u=ye(),j=u.handleUnFollow,d=u.handleFollow;return Object(K.jsxs)("div",{className:"d-flex align-items-center my-2",children:[Object(K.jsx)("div",{children:Object(K.jsx)(fe.Link,{to:"/profiles/".concat(r),children:Object(K.jsx)(T,{src:s,height:a})})}),Object(K.jsx)("div",{classname:"mx-2",children:o}),Object(K.jsx)("div",{className:"text-right ml-auto text-wrap",children:i&&!l&&(c?Object(K.jsx)($.a,{className:"".concat(Re.a.OtherButton," mx-2"),onClick:function(){return j(t)},children:"Unfollow"}):Object(K.jsx)($.a,{className:"".concat(Re.a.FollowStatusButton," mx-2"),onClick:function(){return d(t)},children:"Follow"}))})]})},Ee=function(e){var t=e.mobile,n=_e().popularFollowers;return Object(K.jsx)(d.a,{className:"".concat(i.a.ContainerContent," ").concat(t&&"d-lg-none text-center mb-3"),children:n.results.length?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("p",{children:"Popular"}),t?Object(K.jsx)("div",{className:"".concat(i.a.ContainerContent," 'd-flex justify-content-around'"),children:n.results.slice(0,3).map((function(e){return Object(K.jsx)(Le,{profile:e},e.id)}))}):n.results.map((function(e){return Object(K.jsx)(Le,{profile:e},e.id)}))]}):Object(K.jsx)(se,{spinner:!0})})};var Se=function(){var e=Object(w.useParams)().id,t=D(),n=null===t||void 0===t?void 0:t.profile_image,r=Object(a.useState)({results:[]}),c=Object(m.a)(r,2),s=c[0],o=c[1],i=Object(a.useState)({results:[]}),j=Object(m.a)(i,2),b=j[0],p=j[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(u.a)(Object(l.a)().mark((function t(){var n,a,r,c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([h.get("/blurbs/".concat(e)),h.get("/comments/?blurb=".concat(e))]);case 3:n=t.sent,a=Object(m.a)(n,2),r=a[0].data,c=a[1].data,p({results:[r]}),console.log(r,"errsettingBlurb"),o(c),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0,"errsettingBlurbCatch");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(K.jsx)(q.a,{children:Object(K.jsxs)(W.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:[Object(K.jsx)(Ee,{}),Object(K.jsx)(he,Object(F.a)(Object(F.a)({},b.results[0]),{},{setBlurb:p,blurbPage:!0})),Object(K.jsxs)(d.a,{className:ie.a.ContainerContent,children:[t?Object(K.jsx)(we,{profile_id:t.profile_id,profileImage:n,blurb:e,setBlurb:p,setComments:o}):s.results.length?"Comments":null,s.results.length?Object(K.jsx)(Ue.a,{children:s.results.map((function(e){return Object(K.jsx)(Be,Object(F.a)(Object(F.a)({},e),{},{setBlurb:p,setComments:o}),e.id)})),dataLength:s.results.length,loader:Object(K.jsx)(se,{spinner:!0}),hasMore:!!s.next,next:function(){return B(s,o)}}):t?Object(K.jsx)("span",{children:"Be the first to comment!"}):Object(K.jsx)("span",{children:"Log in before you can create comments!"})]})]})})},He=n.p+"static/media/Nothing.dc6555eb.jpg",Te=n(99),Qe=n.n(Te);var Ie=function(e){var t=D(),n=Object(a.useState)(""),r=Object(m.a)(n,2),c=r[0],s=r[1],o=e.message,i=e.filter,j=void 0===i?"":i,d=Object(a.useState)({results:[]}),b=Object(m.a)(d,2),p=b[0],O=b[1],f=Object(a.useState)(!1),x=Object(m.a)(f,2),A=x[0],v=x[1],g=Object(w.useLocation)().pathname;return Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h("/blurbs/?".concat(j,"search=").concat(c));case 3:t=e.sent,n=t.data,O(n),v(!0),console.log("data set:",n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0,"fetchBlurbs err");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();v(!1);var t=setTimeout((function(){console.log("timeout1"),e()}),2e3);return function(){console.log("timeout2"),clearTimeout(t)}}),[j,g,c,t]),Object(K.jsx)(W.a,{children:Object(K.jsxs)(W.a,{lg:8,children:[Object(K.jsx)(W.a,{md:5,children:Object(K.jsx)(Ee,{})}),Object(K.jsx)(Z.a,{onSubmit:function(e){return e.preventDefault()},children:Object(K.jsx)(Z.a.Control,{className:Qe.a.SearchBar,type:"text",placeholder:"START A SEARCH...",value:c,onChange:function(e){return s(e.target.value)}})}),A?Object(K.jsx)(K.Fragment,{children:p.results.length?Object(K.jsx)(Ue.a,{children:p.results.map((function(e){return Object(K.jsx)(he,Object(F.a)(Object(F.a)({},e),{},{setBlurb:O}),e.id)})),dataLength:p.results.length,loader:Object(K.jsx)(se,{spinner:!0}),hasMore:!!p.next,next:function(){return B(p,O)}}):Object(K.jsx)(se,{src:He,message:o})}):Object(K.jsx)(se,{spinner:!0})]})})};var Xe=function(){var e,t,n,r=Object(w.useParams)().id,c=Object(a.useState)({}),s=Object(m.a)(c,2),o=s[0],j=s[1],b=Object(a.useState)({title:"",content:"",image:null}),p=Object(m.a)(b,2),O=p[0],f=p[1],x=O.title,A=O.content,v=O.image,C=Object(a.useRef)(null),N=Object(w.useHistory)();Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n,a,c,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/blurbs/".concat(r,"/"));case 3:t=e.sent,n=t.data,a=n.title,c=n.content,s=n.image,n.is_owner?f({title:a,content:c,image:s}):N.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0,"in editing page");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[N,r]);var B=function(e){f(Object(F.a)(Object(F.a)({},O),{},Object(X.a)({},e.target.name,e.target.value)))},U=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("title",x),n.append("content",A),C.current.files[0]&&n.append("image",C),e.prev=5,e.next=8,h.put("/blurbs/".concat(r,"/"),n);case 8:N.push("/blurbs/".concat(r,"/")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0),401!==(null===(a=e.t0.response)||void 0===a?void 0:a.status)&&j(null===(c=e.t0.response)||void 0===c?void 0:c.data);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),k=Object(K.jsxs)("div",{className:"text-center",children:[Object(K.jsxs)(Z.a.Group,{children:[Object(K.jsx)(Z.a.Label,{children:"Title"}),Object(K.jsx)(Z.a.Control,{type:"text",name:"title",value:x,onChange:B})]}),null===o||void 0===o||null===(e=o.title)||void 0===e?void 0:e.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsxs)(Z.a.Group,{children:[Object(K.jsx)(Z.a.Label,{children:"Content"}),Object(K.jsx)(Z.a.Control,{as:"textarea",rows:8,name:"content",value:A,onChange:B})]}),null===o||void 0===o||null===(t=o.content)||void 0===t?void 0:t.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsx)($.a,{className:V.a.Button,onClick:function(){return N.goBack()},children:"Cancel"}),Object(K.jsx)($.a,{className:V.a.Button,type:"submit",children:"Save edits."})]});return Object(K.jsx)(Z.a,{onSubmit:U,children:Object(K.jsxs)(q.a,{children:[Object(K.jsx)(W.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:Object(K.jsxs)(d.a,{className:ie.a.Container,children:[Object(K.jsxs)(Z.a.Group,{className:"text-center",children:[Object(K.jsx)("figure",{children:Object(K.jsx)(Y.a,{className:i.a.Image,src:v,rounded:!0})}),Object(K.jsx)("div",{children:Object(K.jsx)(Z.a.Label,{className:V.a.Button,htmlFor:"image-upload",children:"Change the image"})}),Object(K.jsx)(Z.a.File,{type:"file",id:"image-upload",accept:"image/*",onChange:function(e){e.target.files.length&&(URL.revokeObjectURL(v),f(Object(F.a)(Object(F.a)({},O),{},{image:URL.createObjectURL(e.target.files[0])})))},ref:C})]}),null===o||void 0===o||null===(n=o.image)||void 0===n?void 0:n.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsx)("div",{className:"d-md-none",children:k})]})}),Object(K.jsx)(W.a,{md:5,lg:4,className:"d-none d-md-block p-0 p-md-2",children:Object(K.jsx)(d.a,{children:k})})]})})};var Je=function(e){var t=e.imageSize,n=void 0===t?200:t,r=Object(a.useState)(!1),c=Object(m.a)(r,2),s=c[0],o=c[1],j=D(),b=Object(w.useParams)().id,p=ye(),O=p.setProfileData,f=p.handleUnFollow,x=p.handleFollow,A=_e().pageProfile,v=Object(m.a)(A.results,1)[0],g=(null===j||void 0===j?void 0:j.username)===(null===v||void 0===v?void 0:v.owner),C=Object(a.useState)({results:[]}),N=Object(m.a)(C,2),U=N[0],k=N[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n,a,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([h.get("/profiles/".concat(b,"/")),h.get("/blurbs/?owner__profile=".concat(b))]);case 3:t=e.sent,n=Object(m.a)(t,2),a=n[0].data,r=n[1].data,O((function(e){return Object(F.a)(Object(F.a)({},e),{},{pageProfile:{results:[a]}})})),k(r),o(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[b,O]);var R=Object(K.jsxs)(K.Fragment,{children:[(null===v||void 0===v?void 0:v.is_owner)&&Object(K.jsx)(ve,{id:null===v||void 0===v?void 0:v.id}),Object(K.jsxs)(q.a,{className:"px-3 text-center",children:[Object(K.jsx)(W.a,{lg:3,className:"text-lg-left",children:Object(K.jsx)(Y.a,{rounded:!0,src:null===v||void 0===v?void 0:v.image,height:n,width:n})}),Object(K.jsxs)(W.a,{lg:8,children:[Object(K.jsx)("h3",{className:"m-2",children:null===v||void 0===v?void 0:v.owner}),Object(K.jsxs)(q.a,{className:"justify-content-center no-gutters",children:[Object(K.jsxs)(W.a,{xs:4,className:"m-1",children:[Object(K.jsx)("div",{children:null===v||void 0===v?void 0:v.blurbs_count}),Object(K.jsx)("div",{children:"Blurbs"})]}),Object(K.jsxs)(W.a,{xs:4,className:"m-1",children:[Object(K.jsx)("div",{children:null===v||void 0===v?void 0:v.followers_count}),Object(K.jsx)("div",{children:"Followers"})]}),Object(K.jsxs)(W.a,{xs:4,className:"m-1",children:[Object(K.jsx)("div",{children:null===v||void 0===v?void 0:v.following_count}),Object(K.jsx)("div",{children:"Following"})]})]})]}),Object(K.jsx)(W.a,{lg:1,className:"text-lg-right text-wrap",children:j&&!g&&(null!==v&&void 0!==v&&v.following_id?Object(K.jsx)($.a,{classname:"".concat(Re.a.OtherButton," mx-2 "),onClick:function(){return f(v)},children:"Unfollow"}):Object(K.jsx)($.a,{className:"".concat(Re.a.FollowStatusButton," mx-2"),onClick:function(){return x(v)},children:"Follow"}))}),(null===v||void 0===v?void 0:v.content)&&Object(K.jsx)(W.a,{className:"p-3",children:v.content})]})]}),P=Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("hr",{}),Object(K.jsxs)("p",{className:"text-center",children:[null===v||void 0===v?void 0:v.owner,"'s Blurbs."]}),Object(K.jsx)("hr",{}),U.results.length?Object(K.jsx)(Ue.a,{children:U.results.map((function(e){return Object(K.jsx)(he,Object(F.a)(Object(F.a)({},e),{},{setBlurb:k}),e.id)})),dataLength:U.results.length,loader:Object(K.jsx)(se,{spinner:!0}),hasMore:!!U.next,next:function(){return B(U,k)}}):Object(K.jsx)(se,{src:He,message:"No results found, ".concat(null===v||void 0===v?void 0:v.owner," hasn't posted yet.")})]});return Object(K.jsxs)(q.a,{children:[Object(K.jsxs)(W.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(K.jsx)(Ee,{}),Object(K.jsx)(d.a,{className:i.a.ContainerContent,children:s?Object(K.jsxs)(K.Fragment,{children:[R,P]}):Object(K.jsx)(se,{spinner:!0})})]}),Object(K.jsx)(W.a,{lg:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(K.jsx)(Ee,{})})]})},Ve=function(){var e,t=Object(a.useState)(""),n=Object(m.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)({}),o=Object(m.a)(s,2),j=o[0],b=o[1],p=Object(w.useHistory)(),O=Object(w.useParams)().id,f=D(),x=L();Object(a.useEffect)((function(){var e;(null===f||void 0===f||null===(e=f.profile_id)||void 0===e?void 0:e.toString())===O?c(f.username):p.push("/")}),[f,p,O]);var A=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.put("/dj-rest-auth/user/",{username:r});case 4:x((function(e){return Object(F.a)(Object(F.a)({},e),{},{username:r})})),p.goBack(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),b(null===(n=e.t0.response)||void 0===n?void 0:n.data);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsx)(q.a,{children:Object(K.jsx)(W.a,{className:"py-2 mx-auto text-center",md:6,children:Object(K.jsx)(d.a,{className:i.a.ContainerContent,children:Object(K.jsxs)(Z.a,{onSubmit:A,className:"my-2",children:[Object(K.jsxs)(Z.a.Group,{children:[Object(K.jsx)(Z.a.Label,{children:"Change username"}),Object(K.jsx)(Z.a.Control,{placeholder:"username",type:"text",value:r,onChange:function(e){return c(e.target.value)}})]}),null===j||void 0===j||null===(e=j.username)||void 0===e?void 0:e.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsx)($.a,{className:V.a.Button,onClick:function(){return p.goBack()},children:"Cancel"}),Object(K.jsx)($.a,{className:V.a.Button,type:"submit",children:"Save"})]})})})})},Ge=function(){var e,t,n=Object(w.useHistory)(),r=Object(w.useParams)().id,c=D(),s=Object(a.useState)({new_password1:"",new_password2:""}),o=Object(m.a)(s,2),j=o[0],b=o[1],p=j.new_password1,O=j.new_password2,f=Object(a.useState)({}),x=Object(m.a)(f,2),A=x[0],v=x[1],h=function(e){b(Object(F.a)(Object(F.a)({},j),{},Object(X.a)({},e.target.name,e.target.value)))};Object(a.useEffect)((function(){var e;(null===c||void 0===c||null===(e=c.profile_id)||void 0===e?void 0:e.toString())!==r&&n.push("/")}),[c,n,r]);var C=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.post("/dj-rest-auth/password/change/",j);case 4:n.goBack(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),v(null===(a=e.t0.response)||void 0===a?void 0:a.data);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsx)(q.a,{children:Object(K.jsx)(W.a,{className:"py-2 mx-auto text-center",md:6,children:Object(K.jsx)(d.a,{className:i.a.ContainerContent,children:Object(K.jsxs)(Z.a,{onSubmit:C,children:[Object(K.jsxs)(Z.a.Group,{children:[Object(K.jsx)(Z.a.Label,{children:"New password"}),Object(K.jsx)(Z.a.Control,{placeholder:"new password",type:"password",value:p,onChange:h,name:"new_password1"})]}),null===A||void 0===A||null===(e=A.new_password1)||void 0===e?void 0:e.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsxs)(Z.a.Group,{children:[Object(K.jsx)(Z.a.Label,{children:"Confirm password"}),Object(K.jsx)(Z.a.Control,{placeholder:"confirm new password",type:"password",value:O,onChange:h,name:"new_password2"})]}),null===A||void 0===A||null===(t=A.new_password2)||void 0===t?void 0:t.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsx)($.a,{className:V.a.Button,onClick:function(){return n.goBack()},children:"cancel"}),Object(K.jsx)($.a,{type:"submit",className:V.a.Button,children:"save"})]})})})})},Me=function(){var e,t,n=D(),r=L(),c=Object(w.useParams)().id,s=Object(w.useHistory)(),o=Object(a.useRef)(),j=Object(a.useState)({name:"",content:"",image:""}),b=Object(m.a)(j,2),p=b[0],O=b[1],f=p.name,x=p.content,A=p.image,v=Object(a.useState)({}),g=Object(m.a)(v,2),C=g[0],N=g[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,a,r,o,i,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===n||void 0===n||null===(t=n.profile_id)||void 0===t?void 0:t.toString())!==c){e.next=16;break}return e.prev=1,e.next=4,h.get("/profiles/".concat(c,"/"));case 4:a=e.sent,r=a.data,o=r.name,i=r.content,u=r.image,O({name:o,content:i,image:u}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),s.push("/");case 14:e.next=17;break;case 16:s.push("/");case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[n,s,c]);var B=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,i,u,j,d;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("name",f),a.append("content",x),null!==o&&void 0!==o&&null!==(n=o.current)&&void 0!==n&&n.files[0]&&a.append("image",null===o||void 0===o||null===(i=o.current)||void 0===i?void 0:i.files[0]),e.prev=5,e.next=8,h.put("/profiles/".concat(c,"/"),a);case 8:u=e.sent,j=u.data,r((function(e){return Object(F.a)(Object(F.a)({},e),{},{profile_image:j.image})})),s.goBack(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0),N(null===(d=e.t0.response)||void 0===d?void 0:d.data);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),U=Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(Z.a.Group,{children:[Object(K.jsx)(Z.a.Label,{children:"About me"}),Object(K.jsx)(Z.a.Control,{as:"textarea",value:x,onChange:function(e){O(Object(F.a)(Object(F.a)({},p),{},Object(X.a)({},e.target.name,e.target.value)))},name:"content",rows:7})]}),null===C||void 0===C||null===(e=C.content)||void 0===e?void 0:e.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsx)($.a,{className:V.a.Button,onClick:function(){return s.goBack()},children:"cancel"}),Object(K.jsx)($.a,{className:V.a.Button,type:"submit",children:"save"})]});return Object(K.jsx)(Z.a,{onSubmit:B,children:Object(K.jsxs)(q.a,{children:[Object(K.jsx)(W.a,{className:"py-2 p-0 p-md-2 text-center",md:7,lg:6,children:Object(K.jsxs)(d.a,{className:i.a.ContainerContent,children:[Object(K.jsxs)(Z.a.Group,{children:[A&&Object(K.jsx)("figure",{children:Object(K.jsx)(Y.a,{src:A})}),null===C||void 0===C||null===(t=C.image)||void 0===t?void 0:t.map((function(e,t){return Object(K.jsx)(z.a,{variant:"warning",children:e},t)})),Object(K.jsx)("div",{children:Object(K.jsx)(Z.a.Label,{className:"".concat(V.a.Button," btn my-auto"),htmlFor:"image-upload",children:"Change the image"})}),Object(K.jsx)(Z.a.File,{id:"image-upload",ref:o,accept:"image/*",onChange:function(e){e.target.files.length&&O(Object(F.a)(Object(F.a)({},p),{},{image:URL.createObjectURL(e.target.files[0])}))}})]}),Object(K.jsx)("div",{className:"d-md-none",children:U})]})}),Object(K.jsx)(W.a,{md:5,lg:6,className:"d-none d-md-block p-0 p-md-2 text-center",children:Object(K.jsx)(d.a,{className:i.a.ContainerContent,children:U})})]})})},qe=n(100),We=function(){return Object(K.jsxs)("div",{className:ce.a.PageNotFound,children:[Object(K.jsx)(se,{src:He,message:"Sorry, page does not exist!",imageSize:250}),Object(K.jsx)(d.a,{className:"".concat(i.a.Border," ").concat(i.a.CenterText),children:Object(K.jsxs)(qe.Link,{className:ce.a.Link,to:"/signup",children:["Don't have an account? ",Object(K.jsx)("span",{children:"Sign up now!"})]})})]})};var Ye=function(){var e=D(),t=(null===e||void 0===e?void 0:e.profile_id)||"";return Object(K.jsx)("div",{className:i.a.App,children:Object(K.jsxs)("div",{children:[Object(K.jsx)(I,{}),Object(K.jsx)(d.a,{className:i.a.Main,children:Object(K.jsxs)(w.Switch,{children:[Object(K.jsx)(w.Route,{exact:!0,path:"/",render:function(){return Object(K.jsx)(Ie,{message:"No results... Try another search?"})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/newsfeed",render:function(){return Object(K.jsx)(Ie,{message:"No results... Try another search? Or follower a user.",filter:"owner__followed__owner__profile=".concat(t,"&")})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/upVoted",render:function(){return Object(K.jsx)(Ie,{message:"No results... Try another search? Or vote for the best blurbs.",filter:"votes__owner__profile=".concat(t,"&ordering=-votes__created_at&")})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/login",render:function(){return Object(K.jsx)(ne,{})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/signup",render:function(){return Object(K.jsx)(te,{})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/blurbs/create",render:function(){return Object(K.jsx)(le,{})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/blurbs/:id",render:function(){return Object(K.jsx)(Se,{})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/blurbs/:id/edit",render:function(){return Object(K.jsx)(Xe,{})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/profiles/:id",render:function(){return Object(K.jsx)(Je,{})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/profiles/:id/edit/username",render:function(){return Object(K.jsx)(Ve,{})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/profiles/:id/edit/password",render:function(){return Object(K.jsx)(Ge,{})}}),Object(K.jsx)(w.Route,{exact:!0,path:"/profiles/:id/edit",render:function(){return Object(K.jsx)(Me,{})}}),Object(K.jsx)(w.Route,{render:function(){return Object(K.jsx)(We,{})}})]})})]})})},Ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(K.jsx)(x.a,{children:Object(K.jsx)(E,{children:Object(K.jsx)(De,{children:Object(K.jsx)(Ye,{})})})}),document.getElementById("root")),Ze()},16:function(e,t,n){e.exports={Button:"Button_Button__27i9m"}},34:function(e,t,n){e.exports={NavBar:"NavBar_NavBar__1amC6"}},36:function(e,t,n){e.exports={Heading:"SigningForm_Heading__1BY1c",Input:"SigningForm_Input__3xfv_",Container:"SigningForm_Container__1rJvv",Link:"SigningForm_Link__1imV0"}},47:function(e,t,n){e.exports={Container:"BlurbsForm_Container__1x49C",ContainerContent:"BlurbsForm_ContainerContent__2XPwm"}},55:function(e,t,n){e.exports={OtherButton:"Profiles_OtherButton__13suW",FollowStatusButton:"Profiles_FollowStatusButton__32nUh"}},61:function(e,t,n){e.exports={Display:"Display_Display__1CdUH",PageNotFound:"Display_PageNotFound__RZaiz"}},77:function(e,t,n){e.exports={OwnerName:"CommentContent_OwnerName__yOD7W",UpdatedDate:"CommentContent_UpdatedDate__1wow4",CommentText:"CommentContent_CommentText__3kWd4"}},82:function(e,t,n){e.exports={ContainerContent:"Blurb_ContainerContent__rEEbI",ThumbsUpVote:"Blurb_ThumbsUpVote__10WYR"}},95:function(e,t,n){e.exports={Avatar:"Avatar_Avatar__196lW"}},99:function(e,t,n){e.exports={SearchBar:"AllBlurbs_SearchBar__czQ1B"}}},[[136,1,2]]]);
//# sourceMappingURL=main.5e4c508e.chunk.js.map